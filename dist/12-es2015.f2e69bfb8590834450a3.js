(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LFMZ:function(t,e,o){"use strict";o.r(e),o.d(e,"FpsModule",function(){return Y});var r=o("SVse"),n=o("Wcfd"),i=o("rVqu"),a=o("LqlI"),s=o("s7LF"),d=o("jMqV"),l=o("ZRSf"),b=o("iInd"),c=o("tUjy"),p=o("hLZb"),u=o("IheW"),m=o("JIr8"),f=o("lJxs"),h=o("z6cu"),g=o("AytR"),_=o("8Y7J");let y=(()=>{class t{constructor(t){this.httpClient=t,this.baseUrl=g.b.apiBaseUrl+"/fps/",this.httpOptions={headers:new u.e({"Content-Type":"application/json"})},this.errorHandler=t=>{let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(h.a)(e)}}get(t){return this.map(this.httpClient.get(this.baseUrl+t,this.httpOptions))}post(t,e){return this.map(this.httpClient.post(this.baseUrl+t,e,this.httpOptions))}map(t){return t.pipe(Object(m.a)(this.errorHandler),Object(f.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=o("Hva9");let V=(()=>{class t{constructor(t,e){this.httpClient=t,this.apiClient=e}getList(){return this.apiClient.get("fps")}saveFps(t){return this.apiClient.post("fps/createDraft",t)}getTransSactionTypeList(){return[{id:1,title:"Non-Recourse Finance Lease/operating Lease"},{id:2,title:"Bank Equipment Financing"},{id:3,title:"Non-Recourse Variable Equipment Lease"},{id:4,title:"Placement Instalment"},{id:5,title:"Credit Card Instalment"},{id:6,title:"New Office Physician"},{id:7,title:"Short Term Equipment Rental"},{id:8,title:"Company Instalment"},{id:9,title:"Recourse Leases"}]}getFpsStatusList(){return[{id:1,title:"New"},{id:2,title:"Submitted"},{id:3,title:"Validated"},{id:4,title:"Awaiting Quotation"},{id:5,title:"Pending Customer Documents"},{id:6,title:"Processing at Leasing Company"},{id:7,title:"Internal Approval at Idsmeds"},{id:8,title:"Approved at Leasing Company"},{id:9,title:"Agreement signed"},{id:10,title:"Closed"},{id:11,title:"Cancelled"}]}getrateStatusList(){return[{id:1,title:"Not Started"},{id:2,title:"Active"},{id:3,title:"Obsolete"}]}getTenureList(t,e,o){return this.httpClient.get(v.a.apiBaseUrl+"/tenure-list/"+t+"/"+e+"/"+o).pipe()}getUsersList(){return this.httpClient.get(v.a.apiBaseUrl+"/user-list").pipe()}validateAllFormFields(t){Object.keys(t.controls).forEach(e=>{const o=t.get(e);o instanceof s.f?o.markAsTouched({onlySelf:!0}):o instanceof s.i&&this.validateAllFormFields(o)})}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b),_.dc(y))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=g.b.apiBaseUrl,this.httpOptions={headers:new u.e({"Content-Type":"application/json"})}}getQuery(t,e=null){let o=t;return null!=e&&(o+="?page_items="+e),this.httpClient.get(this.apiURL+o,this.httpOptions)}postQuery(t,e){return this.httpClient.post(this.apiURL+t,JSON.stringify(e),this.httpOptions)}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t){this.httpClient=t}getFinancialInstition(t){return this.httpClient.get(v.a.apiBaseUrl+"/institutions-list/"+t).pipe()}getSkuAutoGeneratedKey(){return this.httpClient.get(v.a.apiBaseUrl+"/get-last-fps-sku-id").pipe()}getFPSAutoGeneratedKey(){return this.httpClient.get(v.a.apiBaseUrl+"/get-last-fps-id").pipe()}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W=o("y1st");function M(t,e){if(1&t&&(_.Wb(0,"div"),_.Rb(1,"span",1),_.Wb(2,"span",2),_.Pc(3,"(error)"),_.Vb(),_.Wb(4,"div",3),_.Pc(5),_.Vb(),_.Vb()),2&t){const t=_.kc();_.Db(5),_.Rc(" ",t.errorMsg," ")}}let w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Kb({type:t,selectors:[["app-form-error-presentation"]],inputs:{errorMsg:"errorMsg",displayError:"displayError"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"glyphicon","glyphicon-remove","form-control-feedback","fix-error-icon"],[1,"sr-only"],[1,"error-msg"]],template:function(t,e){1&t&&_.Nc(0,M,6,1,"div",0),2&t&&_.rc("ngIf",e.displayError)},directives:[r.p],styles:[".error-msg[_ngcontent-%COMP%]{color:#ff1814}.fix-error-icon[_ngcontent-%COMP%]{top:27px}"]}),t})();const O=["successModal"],k=["dangerModal"],F=["foundModal"],A=["fpsAddFormContainer"];let S=(()=>{class t{constructor(t,e,o,r,n,i,a){this.fb=t,this.fpsService=e,this.appService=o,this.institutionService=r,this.zone=n,this.dialogService=i,this.activatedRoute=a,this.agreement_mandatory=!1,this.payment_frequency_list=[{value:"monthly_payment",label:"Monthly"},{value:"quarterly_payment",label:"Quarterly"},{value:"half_yearly_payment",label:"Half-yearly"}],this.tenure_list=[],this.countryCode="MY",this.oppt_details={opportunity_code:"",created_at:"",currency_code:"",amount:"",bill_to:""},this.fpsTypeList=this.fpsService.getTransSactionTypeList(),this.fpsStatusList=this.fpsService.getFpsStatusList()}get form_controls(){return this.fpsAddForm.controls}ngOnInit(){this.fpsAddForm=this.fb.group({fps_no:new s.f("",[s.y.required]),fps_opportunity_id:new s.f,fps_quote_id:new s.f,fps_customer_name:new s.f,fps_soci_uuid:new s.f,fps_transaction_type_id:new s.f,fps_financier_id:new s.f("",[s.y.required]),fps_payment_frequency:new s.f("",[s.y.required]),fps_status_id:new s.f,fps_tenure_id:new s.f("",[s.y.required]),fps_adv_payment:new s.f,fps_adv_payment_percentage:new s.f,fps_net_financing_amount:new s.f,fps_monthly_payment_amount:new s.f,fps_interest_rate:new s.f,fps_validated_by:new s.f,fps_approved_by:new s.f,fps_leas_aggr_no:new s.f,fps_internal_aggr_no:new s.f,fps_remarks:new s.f,fps_currency_code:new s.f,fps_total_financial_amount:new s.f,fps_min_payment_amount:new s.f,fps_required_docs:new s.f,fps_data_area_id:new s.f}),this.activatedRoute.queryParams.subscribe(t=>{this.current_apportunity_id=t.opport_id,this.fpsAddForm.controls.fps_opportunity_id.setValue(this.current_apportunity_id)}),this.appService.getQuery("/opportunity/detail/"+this.current_apportunity_id,null).subscribe(t=>{this.oppt_details=t.data,console.log("opptDetiasl",this.oppt_details),this.fpsAddForm.controls.fps_currency_code.setValue(this.oppt_details.currency_code),this.fpsAddForm.controls.fps_total_financial_amount.setValue(this.oppt_details.amount),this.fpsAddForm.controls.fps_data_area_id.setValue(this.oppt_details.bill_to.data_area_id)}),this.fpsService.getUsersList().subscribe(t=>{this.fps_user_list=t.data}),this.institutionService.getFPSAutoGeneratedKey().subscribe({next:t=>{t.success?this.zone.run(()=>{this.fpsAddForm.controls.fps_no.setValue("FPS"+(t.data[0].id+1)+"-"+this.oppt_details.opportunity_code)}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve institutions list")}}),this.institutionService.getFinancialInstition(this.countryCode).subscribe({next:t=>{t.success?this.zone.run(()=>{this.institutions_list=t.data.institutions}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve institutions list")}})}onSave(){if(!this.fpsAddForm.valid)return this.fpsService.validateAllFormFields(this.fpsAddForm),void this.fpsAddFormContainerRef.nativeElement.scrollIntoView({behavior:"smooth"});console.log("data",this.fpsAddForm),this.fpsService.saveFps({fps_no:this.fpsAddForm.get("fps_no").value+"",fps_opportunity_id:this.fpsAddForm.get("fps_opportunity_id").value+"",fps_quote_id:this.fpsAddForm.get("fps_quote_id").value+"",fps_payment_frequency:this.fpsAddForm.get("fps_no").value+""}).subscribe(t=>{t.id&&(this.alertBody="FPS saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide()},2e3),this.fpsAddForm.reset())},t=>{console.log(t),this.alertBody="The FPS can't save",this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}onChangeAdvancePayment(){let t=this.fpsAddForm.controls.fps_total_financial_amount.value;this.fpsAddForm.controls.fps_net_financing_amount.setValue(t-t/100*this.fpsAddForm.controls.fps_adv_payment_percentage.value)}updateInterestRate(){var t=this.getFilteredCodes(this.tenure_list,"id",this.fpsAddForm.controls.fps_tenure_id.value);this.fpsAddForm.controls.fps_interest_rate.setValue(t[0].details_interest_rate),this.fpsAddForm.controls.fps_min_payment_amount.setValue(t[0].min_payment_amount),this.fpsAddForm.controls.fps_required_docs.setValue(t[0].required_docs),this.agreement_mandatory=0!=t[0].agreement_mandatory,this.updateMontlyPayment()}updateMontlyPayment(){let t=parseFloat(this.fpsAddForm.controls.fps_total_financial_amount.value),e=parseFloat(this.fpsAddForm.controls.fps_interest_rate.value),o=parseFloat(this.fpsAddForm.controls.fps_tenure_id.value);this.fpsAddForm.controls.fps_monthly_payment_amount.setValue((t*(1+e/12*o)/o).toFixed(2))}updateTenure(){let t=this.fpsAddForm.controls.fps_financier_id.value,e=this.fpsAddForm.controls.fps_transaction_type_id.value;e=e<1?1:e,t=t<1?null:t,this.fpsService.getTenureList(e,t,this.fpsAddForm.controls.fps_payment_frequency.value).subscribe(t=>{t.unshift(t.length>0?{id:"",details_tenure:"Select Tenure"}:{id:"",details_tenure:"No Tenure Available"}),this.tenure_list=t},t=>{console.log(t)})}getFilteredCodes(t,e,o){return t.filter(function(t){return t[e]==o})}isFieldValid(t){return!this.fpsAddForm.get(t).valid&&this.fpsAddForm.get(t).touched}}return t.\u0275fac=function(e){return new(e||t)(_.Qb(s.e),_.Qb(V),_.Qb(C),_.Qb(P),_.Qb(_.A),_.Qb(p.a),_.Qb(b.a))},t.\u0275cmp=_.Kb({type:t,selectors:[["app-create"]],viewQuery:function(t,e){if(1&t&&(_.Uc(O,1),_.Uc(k,1),_.Uc(F,1),_.Uc(A,1)),2&t){let t;_.Cc(t=_.hc())&&(e.successModal=t.first),_.Cc(t=_.hc())&&(e.dangerModal=t.first),_.Cc(t=_.hc())&&(e.foundModal=t.first),_.Cc(t=_.hc())&&(e.fpsAddFormContainerRef=t.first)}},features:[_.Cb([C])],decls:202,vars:22,consts:[[1,"animated","fadeIn"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header","d-flex","b-btm-green"],[1,"chead"],[1,"card-body"],[1,"card-row"],[1,"lead-data"],[1,"lead-header"],[1,"col-md-3"],[1,"form-group"],[1,"bold"],[1,"col-md-3","lead-id"],[1,"bg-opp","text-white","p-1"],["type","hidden","formControlName","fps_no",1,"form-control"],["formControlName","fps_transaction_type_id","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No FPS Type Available",3,"options","onChange"],["formControlName","fps_status_id","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No FPS Status Available",3,"options"],[1,"details","grey"],["type","hidden","formControlName","fps_opportunity_id",1,"form-control"],["type","hidden","formControlName","fps_data_area_id","title","fps_data_area_id",1,"form-control"],["fpsAddFormContainer",""],[1,"col-md-12"],[1,"mb-4"],[1,"form-group","row"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"asterisk"],[1,"col-md-4"],["formControlName","fps_payment_frequency","optionLabel","label","optionValue","value","styleClass","form-control","placeholder","Select Frequency","id","fps_payment_frequency","emptyMessage","No Payment Frequency Available",3,"options","onChange"],["errorMsg","Payment Frequency is rquired.",3,"displayError"],["formControlName","fps_tenure_id","id","fps_tenure_id","optionLabel","details_tenure","optionValue","id","styleClass","form-control",3,"options","onChange"],["errorMsg","Tenure is rquired.",3,"displayError"],["formControlName","fps_financier_id","id","fps_financier_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select Institution","emptyMessage","No Institution Available",3,"options","onChange"],["errorMsg","Financial Instititue is rquired.",3,"displayError"],["type","number","step","0.1","formControlName","fps_interest_rate",1,"form-control",3,"change"],["type","text","formControlName","fps_currency_code",1,"form-control",3,"readonly"],["type","number","formControlName","fps_monthly_payment_amount",1,"form-control"],["type","number","formControlName","fps_total_financial_amount",1,"form-control"],["type","number","formControlName","fps_min_payment_amount",1,"form-control"],[1,"col-md-6"],["for","booking-reason",1,"col-md-4","col-form-label"],[1,"col-md-8"],["type","number","step","0.1","formControlName","fps_adv_payment_percentage",1,"form-control",3,"change"],["type","number","formControlName","fps_adv_payment",1,"form-control"],["type","number","formControlName","fps_net_financing_amount",1,"form-control"],["formControlName","fps_remarks","rows","9",1,"form-control"],["formControlName","fps_validated_by","optionLabel","full_name","optionValue","id","styleClass","form-control","placeholder","Select User","emptyMessage","No User Available",3,"options"],["type","text","formControlName","fps_leas_aggr_no",1,"form-control",3,"readonly"],["formControlName","fps_approved_by","optionLabel","full_name","optionValue","id","styleClass","form-control","placeholder","Select User","emptyMessage","No User Available",3,"options"],["formControlName","fps_required_docs","rows","9",1,"form-control"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],[1,"col-sm-12","col-md-12","form-group"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"]],template:function(t,e){1&t&&(_.Wb(0,"div",0),_.Wb(1,"form",1),_.gc("ngSubmit",function(){return e.onSave()}),_.Wb(2,"div",2),_.Wb(3,"div",3),_.Wb(4,"div",4),_.Wb(5,"div",5),_.Wb(6,"div",6),_.Pc(7,"Create FPS Request Form"),_.Vb(),_.Vb(),_.Wb(8,"div",7),_.Wb(9,"div",8),_.Wb(10,"div",9),_.Wb(11,"div",10),_.Wb(12,"div",2),_.Wb(13,"div",11),_.Wb(14,"div",12),_.Wb(15,"h3",13),_.Pc(16),_.Vb(),_.Vb(),_.Vb(),_.Wb(17,"div",14),_.Wb(18,"div",12),_.Wb(19,"label",13),_.Pc(20,"FPS Request No."),_.Vb(),_.Wb(21,"div",15),_.Pc(22),_.Vb(),_.Wb(23,"span"),_.Rb(24,"input",16),_.Vb(),_.Vb(),_.Vb(),_.Wb(25,"div",11),_.Wb(26,"div",12),_.Wb(27,"label",13),_.Pc(28,"Transaction Type"),_.Vb(),_.Wb(29,"p-dropdown",17),_.gc("onChange",function(){return e.updateTenure()}),_.Vb(),_.Vb(),_.Vb(),_.Wb(30,"div",11),_.Wb(31,"div",12),_.Wb(32,"label",13),_.Pc(33,"Status"),_.Vb(),_.Rb(34,"p-dropdown",18),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(35,"div",19),_.Wb(36,"div",2),_.Wb(37,"div",11),_.Wb(38,"div",12),_.Wb(39,"label",13),_.Pc(40,"Created Date"),_.Vb(),_.Wb(41,"div"),_.Pc(42),_.lc(43,"date"),_.Vb(),_.Vb(),_.Vb(),_.Wb(44,"div",11),_.Wb(45,"div",12),_.Wb(46,"label",13),_.Pc(47,"Opportunity ID "),_.Vb(),_.Wb(48,"div"),_.Pc(49),_.Rb(50,"input",20),_.Rb(51,"input",21),_.Vb(),_.Vb(),_.Vb(),_.Wb(52,"div",11),_.Wb(53,"div",12),_.Wb(54,"label",13),_.Pc(55,"Quote ID (Version)"),_.Vb(),_.Wb(56,"div"),_.Pc(57," ... "),_.Vb(),_.Vb(),_.Vb(),_.Wb(58,"div",11),_.Wb(59,"div",12),_.Wb(60,"label",13),_.Pc(61,"SOCI No."),_.Vb(),_.Wb(62,"div"),_.Pc(63," ... "),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(64,"div",2,22),_.Wb(66,"div",23),_.Wb(67,"div",4),_.Wb(68,"div",7),_.Wb(69,"div",24),_.Wb(70,"h2"),_.Pc(71,"General"),_.Vb(),_.Vb(),_.Wb(72,"div",25),_.Wb(73,"label",26),_.Pc(74," Payment Frequency"),_.Wb(75,"span",27),_.Pc(76," * "),_.Vb(),_.Vb(),_.Wb(77,"div",28),_.Wb(78,"p-dropdown",29),_.gc("onChange",function(){return e.updateTenure()}),_.Vb(),_.Rb(79,"app-form-error-presentation",30),_.Vb(),_.Wb(80,"label",26),_.Pc(81," Tenure "),_.Vb(),_.Wb(82,"div",28),_.Wb(83,"p-dropdown",31),_.gc("onChange",function(){return e.updateInterestRate()}),_.Vb(),_.Rb(84,"app-form-error-presentation",32),_.Vb(),_.Vb(),_.Wb(85,"div",25),_.Wb(86,"label",26),_.Pc(87," Financial Instititue"),_.Wb(88,"span",27),_.Pc(89," * "),_.Vb(),_.Vb(),_.Wb(90,"div",28),_.Wb(91,"p-dropdown",33),_.gc("onChange",function(){return e.updateTenure()}),_.Vb(),_.Rb(92,"app-form-error-presentation",34),_.Vb(),_.Wb(93,"label",26),_.Pc(94," Interest % "),_.Vb(),_.Wb(95,"div",28),_.Wb(96,"input",35),_.gc("change",function(){return e.updateMontlyPayment()}),_.Vb(),_.Vb(),_.Vb(),_.Wb(97,"div",25),_.Wb(98,"label",26),_.Pc(99," Currency"),_.Wb(100,"span",27),_.Pc(101," * "),_.Vb(),_.Vb(),_.Wb(102,"div",28),_.Rb(103,"input",36),_.Vb(),_.Wb(104,"label",26),_.Pc(105," Monthly Payment Amount "),_.Vb(),_.Wb(106,"div",28),_.Rb(107,"input",37),_.Vb(),_.Vb(),_.Wb(108,"div",25),_.Wb(109,"label",26),_.Pc(110," Total Financial Amount"),_.Wb(111,"span",27),_.Pc(112," * "),_.Vb(),_.Vb(),_.Wb(113,"div",28),_.Rb(114,"input",38),_.Vb(),_.Wb(115,"label",26),_.Pc(116," Min Payment Amount "),_.Vb(),_.Wb(117,"div",28),_.Rb(118,"input",39),_.Vb(),_.Vb(),_.Wb(119,"div",25),_.Wb(120,"div",40),_.Wb(121,"div",25),_.Wb(122,"label",41),_.Pc(123," Advance Payment (%) "),_.Vb(),_.Wb(124,"div",42),_.Wb(125,"input",43),_.gc("change",function(){return e.onChangeAdvancePayment()}),_.Vb(),_.Vb(),_.Vb(),_.Wb(126,"div",25),_.Wb(127,"label",41),_.Pc(128," Advance Payment "),_.Vb(),_.Wb(129,"div",42),_.Rb(130,"input",44),_.Vb(),_.Vb(),_.Wb(131,"div",25),_.Wb(132,"label",41),_.Pc(133," Net Financing Amount "),_.Vb(),_.Wb(134,"div",42),_.Rb(135,"input",45),_.Vb(),_.Vb(),_.Vb(),_.Wb(136,"div",40),_.Wb(137,"div",25),_.Wb(138,"label",41),_.Pc(139," Remark "),_.Vb(),_.Wb(140,"div",42),_.Rb(141,"textarea",46),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Rb(142,"hr"),_.Wb(143,"div",25),_.Wb(144,"label",26),_.Pc(145," Validated By "),_.Vb(),_.Wb(146,"div",28),_.Rb(147,"p-dropdown",47),_.Vb(),_.Wb(148,"label",26),_.Pc(149," Argeement No. "),_.Vb(),_.Wb(150,"div",28),_.Rb(151,"input",48),_.Vb(),_.Vb(),_.Wb(152,"div",25),_.Wb(153,"div",40),_.Wb(154,"div",25),_.Wb(155,"label",41),_.Pc(156," Approved By "),_.Vb(),_.Wb(157,"div",42),_.Rb(158,"p-dropdown",49),_.Vb(),_.Vb(),_.Vb(),_.Wb(159,"div",40),_.Wb(160,"div",25),_.Wb(161,"label",41),_.Pc(162," Required Documents "),_.Vb(),_.Wb(163,"div",42),_.Rb(164,"textarea",50),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(165,"div",51),_.Wb(166,"button",52),_.Rb(167,"i",53),_.Pc(168," Save"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Rb(169,"br"),_.Wb(170,"div",54),_.Wb(171,"h3"),_.Pc(172,"Consumable Usage"),_.Vb(),_.Wb(173,"p"),_.Pc(174,"Work on this section will be done later"),_.Vb(),_.Vb(),_.Rb(175,"br"),_.Wb(176,"div",54),_.Wb(177,"h3"),_.Pc(178,"File Library"),_.Vb(),_.Wb(179,"p"),_.Pc(180,"Work on this section will be done later"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(181,"div",55,56),_.Wb(183,"div",57),_.Wb(184,"div",58),_.Wb(185,"div",59),_.Wb(186,"h4",60),_.Pc(187,"Success"),_.Vb(),_.Vb(),_.Wb(188,"div",61),_.Wb(189,"p"),_.Pc(190),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(191,"div",62,63),_.Wb(193,"div",64),_.Wb(194,"div",58),_.Wb(195,"div",59),_.Wb(196,"h4",60),_.Pc(197,"Error"),_.Vb(),_.Vb(),_.Wb(198,"div",61),_.Wb(199,"p"),_.Pc(200),_.Vb(),_.Vb(),_.Rb(201,"div",65),_.Vb(),_.Vb(),_.Vb()),2&t&&(_.Db(1),_.rc("formGroup",e.fpsAddForm),_.Db(15),_.Rc(" ",e.oppt_details.bill_to.company_name," "),_.Db(6),_.Qc(e.form_controls.fps_no.value),_.Db(7),_.rc("options",e.fpsTypeList),_.Db(5),_.rc("options",e.fpsStatusList),_.Db(8),_.Rc(" ",_.nc(43,19,e.oppt_details.created_at,"dd-MMM-yyyy")," "),_.Db(7),_.Rc(" ",e.current_apportunity_id," "),_.Db(29),_.rc("options",e.payment_frequency_list),_.Db(1),_.rc("displayError",e.isFieldValid("fps_payment_frequency")),_.Db(4),_.rc("options",e.tenure_list),_.Db(1),_.rc("displayError",e.isFieldValid("fps_tenure_id")),_.Db(7),_.rc("options",e.institutions_list),_.Db(1),_.rc("displayError",e.isFieldValid("fps_financier_id")),_.Db(11),_.rc("readonly",!0),_.Db(44),_.rc("options",e.fps_user_list),_.Db(4),_.rc("readonly",9!=e.fpsAddForm.controls.fps_status_id.value),_.Db(7),_.rc("options",e.fps_user_list),_.Db(32),_.Qc(e.alertBody),_.Db(10),_.Qc(e.alertBody))},directives:[s.z,s.q,s.j,s.c,s.p,s.h,W.a,w,s.u,a.a],pipes:[r.f],styles:["[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{padding:0}","opp-opportunity-booking[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-calendar, [_nghost-%COMP%]     .p-inputnumber{width:100%}[_nghost-%COMP%]     p-checkbox+label{display:inline-block;margin-bottom:0;padding-left:5px}[_nghost-%COMP%]     .p-disabled{background-color:#e4e7ea;opacity:1}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}"]}),t})();const R=function(){return["/fps/sku-create"]};let N=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Kb({type:t,selectors:[["app-sku-index"]],decls:5,vars:2,consts:[[1,"btn","btn-custom","form-group",3,"routerLink"],[1,"cil-plus","c-icon"]],template:function(t,e){1&t&&(_.Wb(0,"p"),_.Pc(1,"sku-index works!"),_.Vb(),_.Wb(2,"a",0),_.Rb(3,"i",1),_.Pc(4," \xa0New FPS SKU\n"),_.Vb()),2&t&&(_.Db(2),_.rc("routerLink",_.uc(1,R)))},directives:[b.f],styles:[""]}),t})(),D=(()=>{class t{constructor(t){this.apiClient=t}getList(){return this.apiClient.get("sku")}saveSku(t){return this.apiClient.post("sku/createDraft",t)}saveRates(t){return this.apiClient.post("rate/store",t)}}return t.\u0275fac=function(e){return new(e||t)(_.dc(y))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x=(()=>{class t{constructor(t){this.httpClient=t}getCountry(){return this.httpClient.get(v.a.apiBaseUrl+"/countries-list").pipe()}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t{constructor(t){this.httpClient=t}getCurrencyList(){return this.httpClient.get(v.a.apiBaseUrl+"/currencies-list").pipe()}}return t.\u0275fac=function(e){return new(e||t)(_.dc(u.b))},t.\u0275prov=_.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=o("7vha"),E=o("+yXi"),I=o("FjU+"),T=o("KnEf");const U=["successModal"],Q=["dangerModal"],z=["foundModal"],B=["submitSkuAdd"],j=["skuAddFormContainer"];function G(t,e){1&t&&_.Rb(0,"input",76)}function K(t,e){if(1&t){const t=_.Xb();_.Wb(0,"tr",77),_.Wb(1,"td",78),_.Rb(2,"input",79),_.Vb(),_.Wb(3,"td",78),_.Rb(4,"input",80),_.Vb(),_.Wb(5,"td",81),_.Rb(6,"input",82),_.Vb(),_.Wb(7,"td",83),_.Rb(8,"p-dropdown",84),_.Vb(),_.Wb(9,"td",78),_.Rb(10,"p-dropdown",85),_.Vb(),_.Wb(11,"td",86),_.Wb(12,"a",87),_.Rb(13,"i",88),_.Vb(),_.Pc(14," \xa0 "),_.Wb(15,"a",60),_.gc("click",function(){_.Fc(t);const o=e.index;return _.kc().removeAddRates(o)}),_.Rb(16,"i",89),_.Vb(),_.Vb(),_.Vb()}if(2&t){const t=e.index,o=_.kc();_.rc("formGroupName",t),_.Db(8),_.rc("options",o.rateStatusList),_.Db(2),_.rc("options",o.rateTypeOptions)}}const J=[{path:"fps-listing",component:c.a},{path:"fps-create",component:S},{path:"sku-listing",component:N},{path:"sku-create",component:(()=>{class t{constructor(t,e,o,r,n,i,a,s,d,l){this.countryService=t,this.currencyService=e,this.institutionService=o,this.dialogService=r,this.zone=n,this.fb=i,this.SkuService=a,this.datePipe=s,this.router=d,this.fpsService=l,this.rate_counter=0,this.countryList=[],this.currencies_list=[],this.institutions_list=[],this.countryCode="MY",this.fpsTypeList=this.fpsService.getTransSactionTypeList(),this.rateStatusList=this.fpsService.getrateStatusList(),this.rateTypeOptions=[{value:"normal",label:"Normal"},{value:"promotion",label:"Promotion"}]}ngOnInit(){this.skuAddForm=this.fb.group({uuid:new s.f("",[s.y.required]),validity_start_at:new s.f(new Date),package_type_id:new s.f("1",[s.y.required]),validity_end_at:new s.f(new Date),country_code:new s.f("",[s.y.required]),interest_rate:new s.f,financier_id:new s.f("",[s.y.required]),has_interest:new s.f,monthly_payment:new s.f,quarterly_payment:new s.f,half_yearly_payment:new s.f,currency_code:new s.f,min_payment_amount:new s.f("0"),min_usage:new s.f("0"),consumable_usage:new s.f,procedure_per_month:new s.f,required_tenure:new s.f("0"),required_docs:new s.f,agreement_mandatory:new s.f("0")}),this.rateAddForm=this.fb.group({addRates:this.fb.array([])}),this.institutionService.getSkuAutoGeneratedKey().subscribe({next:t=>{t.success?this.zone.run(()=>{this.skuAddForm.controls.uuid.setValue("FPS-"+(t.data[0].id+1))}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve institutions list")}}),this.countryService.getCountry().subscribe({next:t=>{t.success?this.zone.run(()=>{this.countryList=t.data.countries}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve country list")}}),this.institutionService.getFinancialInstition(this.countryCode).subscribe({next:t=>{t.success?this.zone.run(()=>{this.institutions_list=t.data.institutions}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve institutions list")}}),this.currencyService.getCurrencyList().subscribe({next:t=>{t.success?this.zone.run(()=>{this.currencies_list=t.data}):this.dialogService.showErrorDialog(t.message)},error:t=>{this.dialogService.showErrorDialog(null!=t.error.message?t.error.message:"Error retrieve currencies list")}}),this.setConditionalValidators()}setConditionalValidators(){const t=this.skuAddForm.get("interest_rate");this.skuAddForm.get("has_interest").valueChanges.subscribe(e=>{1==e?t.setValidators([s.y.required]):t.clearValidators()})}onSave(){if(!this.skuAddForm.valid)return this.fpsService.validateAllFormFields(this.skuAddForm),void this.skuAddFormContainerRef.nativeElement.scrollIntoView({behavior:"smooth"});this.SkuService.saveSku({uuid:this.skuAddForm.get("uuid").value+"",country_code:this.skuAddForm.get("country_code").value+"",financier_id:this.skuAddForm.get("financier_id").value+"",monthly_payment:this.skuAddForm.get("monthly_payment").value?1:0,quarterly_payment:this.skuAddForm.get("quarterly_payment").value?1:0,half_yearly_payment:this.skuAddForm.get("half_yearly_payment").value?1:0,package_type_id:this.skuAddForm.get("package_type_id").value+"",interest_rate:(this.skuAddForm.get("interest_rate").value?this.skuAddForm.get("interest_rate").value:0)+"",currency_code:this.skuAddForm.get("currency_code").value+"",validity_start_at:this.datePipe.transform(this.skuAddForm.get("validity_start_at").value,"yyyy-MM-dd"),validity_end_at:this.datePipe.transform(this.skuAddForm.get("validity_end_at").value,"yyyy-MM-dd"),required_docs:this.skuAddForm.get("required_docs").value+"",procedure_per_month:this.skuAddForm.get("procedure_per_month").value+"",min_usage:this.skuAddForm.get("min_usage").value+"",required_tenure:this.skuAddForm.get("required_tenure").value+"",agreement_mandatory:this.skuAddForm.get("agreement_mandatory").value+""}).subscribe(t=>{t.id&&(this.alertBody="FPS saved successfully.",this.successModal.show(),setTimeout(()=>{this.successModal.hide();let e=this.rateAddForm.value.addRates;for(let o=0;o<e.length;o++)this.storeRates({financial_package_id:t.id,validity_start_at:e[o].validity_start_at,validity_end_at:e[o].validity_end_at,status:e[o].status,type:e[o].rate_type})},2e3))},t=>{console.log(t),this.alertBody="The FPS can't save <br>"+t,this.dangerModal.show(),setTimeout(()=>{this.dangerModal.hide()},2e3)})}triggerFalseClick(){this.submitSkuAdd.nativeElement.click()}cancelSkuForm(){this.router.navigateByUrl("/fps/sku-listing",{replaceUrl:!0})}addRates(){return this.rateAddForm.get("addRates")}newAddRates(){return this.fb.group({rate_no:++this.rate_counter,validity_start_at:0,validity_end_at:0,status:1,rate_type:"normal"})}addAddRates(){this.addRates().push(this.newAddRates())}removeAddRates(t){this.addRates().removeAt(t)}storeRates(t){this.SkuService.saveRates(t).subscribe(t=>{t.id&&console.log("Rates Stored successfully.")},t=>{console.log(t)})}isFieldValid(t){return!this.skuAddForm.get(t).valid&&this.skuAddForm.get(t).touched}}return t.\u0275fac=function(e){return new(e||t)(_.Qb(x),_.Qb(q),_.Qb(P),_.Qb(p.a),_.Qb(_.A),_.Qb(s.e),_.Qb(D),_.Qb(r.f),_.Qb(b.c),_.Qb(V))},t.\u0275cmp=_.Kb({type:t,selectors:[["app-sku-create"]],viewQuery:function(t,e){if(1&t&&(_.Uc(U,1),_.Uc(Q,1),_.Uc(z,1),_.Uc(B,1),_.Uc(j,1)),2&t){let t;_.Cc(t=_.hc())&&(e.successModal=t.first),_.Cc(t=_.hc())&&(e.dangerModal=t.first),_.Cc(t=_.hc())&&(e.foundModal=t.first),_.Cc(t=_.hc())&&(e.submitSkuAdd=t.first),_.Cc(t=_.hc())&&(e.skuAddFormContainerRef=t.first)}},decls:214,vars:27,consts:[[1,"animated","fadeIn"],[1,"row"],["skuAddFormContainer",""],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"mb-4"],["id","skuAddForm",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"asterisk"],[1,"col-md-4"],["type","text","formControlName","uuid","id","uuid",1,"form-control",3,"readonly"],["errorMsg","Uuid is rquired.",3,"displayError"],["dateFormat","yy-mm-dd","formControlName","validity_start_at",3,"showTime"],["formControlName","package_type_id","id","package_type_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select FPS Type","emptyMessage","No FPS Type Available",3,"options"],["errorMsg","FPS Type is rquired.",3,"displayError"],["dateFormat","yy-mm-dd","formControlName","validity_end_at",3,"showTime"],["formControlName","country_code","id","country_code","optionLabel","official_name","optionValue","code","styleClass","form-control","placeholder","Select Country","emptyMessage","No Country Available",3,"options"],["errorMsg","Country is rquired.",3,"displayError"],[1,"col-md-3"],["formControlName","has_interest",1,"example-margin"],["has_interest",""],[1,"col-md-9"],["type","number","step","0.1","id","interest_rate","formControlName","interest_rate","class","form-control",4,"ngIf"],["errorMsg","Interest Rate is rquired.",3,"displayError"],["formControlName","financier_id","id","financier_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select Institution","emptyMessage","No Institution Available",3,"options"],["errorMsg","Financial Institution is rquired.",3,"displayError"],[1,"d-flex","justify-content-between"],[1,"d-flex"],["name","monthly_payment","formControlName","monthly_payment","inputId","status1",3,"binary"],["for","status1",1,"radio-label"],["name","quarterly_payment","formControlName","quarterly_payment","inputId","status2",3,"binary"],["for","status2",1,"radio-label"],["name","half_yearly_payment","formControlName","half_yearly_payment","inputId","status3",3,"binary"],["for","status3",1,"radio-label"],["type","number","formControlName","min_payment_amount",1,"form-control",3,"readonly"],[1,"col-md-6"],["for","booking-reason",1,"col-md-8","col-form-label"],[1,"example-margin"],["min_payment",""],["for","booking-reason",1,"col-md-4","col-form-label"],[1,"col-md-8"],["formControlName","currency_code","optionLabel","currency_code","optionValue","id","styleClass","form-control","placeholder","$","emptyMessage","No Currency Available",3,"disabled","options"],["min_usage",""],["type","number","formControlName","min_usage",1,"form-control",3,"readonly"],["min_procedure",""],["type","number","formControlName","procedure_per_month",1,"form-control",3,"readonly"],["id","required_tenure","formControlName","required_tenure"],["errorMsg","Tenure is rquired.",3,"displayError"],["formControlName","agreement_mandatory",1,"example-margin"],["formControlName","required_docs","data-lpignore","true","rows","9",1,"form-control"],[1,"col-sm-12","col-md-12","form-group"],[3,"formGroup"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","FPS SKU Rate"],["id","sku_rate","formArrayName","addRates",1,"table","table-borderless"],["align","center",3,"formGroupName",4,"ngFor","ngForOf"],["align","center"],["colspan","9","align","center",1,"td-actions"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"icon-plus","icons"],[1,"custom-footer","d-flex","justify-content-center"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],["type","submit","form","skuAddForm",1,"btn","btn-sm","btn-primary"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","number","step","0.1","id","interest_rate","formControlName","interest_rate",1,"form-control"],["align","center",3,"formGroupName"],[2,"width","15%"],["formControlName","rate_no","size","1","type","number",1,"form-control"],["formControlName","validity_start_at","type","date","min","0",1,"form-control"],[2,"width","10%"],["formControlName","validity_end_at","type","date","min","0","step",".01",1,"form-control"],[2,"width","20%"],["formControlName","status","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No Status Available",3,"options"],["formControlName","rate_type","optionLabel","label","optionValue","value","styleClass","form-control",3,"options"],[1,"td-actions",2,"width","10%"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"fa","fa-edit"],[1,"fa","fa-trash"]],template:function(t,e){if(1&t&&(_.Wb(0,"div",0),_.Wb(1,"div",1,2),_.Wb(3,"div",3),_.Wb(4,"div",4),_.Wb(5,"div",5),_.Wb(6,"div",6),_.Wb(7,"h2"),_.Pc(8,"Create FPS SKU Management"),_.Vb(),_.Vb(),_.Rb(9,"hr"),_.Wb(10,"form",7),_.gc("ngSubmit",function(){return e.onSave()}),_.Wb(11,"div",8),_.Wb(12,"label",9),_.Pc(13," FPS SKU No "),_.Wb(14,"span",10),_.Pc(15," * "),_.Vb(),_.Vb(),_.Wb(16,"div",11),_.Rb(17,"input",12),_.Rb(18,"app-form-error-presentation",13),_.Vb(),_.Wb(19,"label",9),_.Pc(20," Validity Start Date"),_.Wb(21,"span",10),_.Pc(22," * "),_.Vb(),_.Vb(),_.Wb(23,"div",11),_.Rb(24,"p-calendar",14),_.Vb(),_.Vb(),_.Wb(25,"div",8),_.Wb(26,"label",9),_.Pc(27," FPS Type "),_.Wb(28,"span",10),_.Pc(29," * "),_.Vb(),_.Vb(),_.Wb(30,"div",11),_.Rb(31,"p-dropdown",15),_.Rb(32,"app-form-error-presentation",16),_.Vb(),_.Wb(33,"label",9),_.Pc(34," Validity End Date "),_.Vb(),_.Wb(35,"div",11),_.Rb(36,"p-calendar",17),_.Vb(),_.Vb(),_.Wb(37,"div",8),_.Wb(38,"label",9),_.Pc(39," Country"),_.Wb(40,"span",10),_.Pc(41," * "),_.Vb(),_.Vb(),_.Wb(42,"div",11),_.Rb(43,"p-dropdown",18),_.Rb(44,"app-form-error-presentation",19),_.Vb(),_.Wb(45,"label",9),_.Pc(46," Interest "),_.Vb(),_.Wb(47,"div",11),_.Wb(48,"div",8),_.Wb(49,"div",20),_.Rb(50,"mat-slide-toggle",21,22),_.Vb(),_.Wb(52,"div",23),_.Nc(53,G,1,0,"input",24),_.Rb(54,"app-form-error-presentation",25),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(55,"div",8),_.Wb(56,"label",9),_.Pc(57," Financial Instititue"),_.Wb(58,"span",10),_.Pc(59," * "),_.Vb(),_.Vb(),_.Wb(60,"div",11),_.Rb(61,"p-dropdown",26),_.Rb(62,"app-form-error-presentation",27),_.Vb(),_.Vb(),_.Wb(63,"div",8),_.Wb(64,"label",9),_.Pc(65," Payment Frequency "),_.Vb(),_.Wb(66,"div",11),_.Wb(67,"div",28),_.Wb(68,"div",29),_.Rb(69,"p-checkbox",30),_.Wb(70,"label",31),_.Pc(71,"Monthly"),_.Vb(),_.Vb(),_.Wb(72,"div",29),_.Rb(73,"p-checkbox",32),_.Wb(74,"label",33),_.Pc(75,"Quarterly"),_.Vb(),_.Vb(),_.Wb(76,"div",29),_.Rb(77,"p-checkbox",34),_.Wb(78,"label",35),_.Pc(79,"Half-Yearly"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(80,"label",9),_.Pc(81," Mininumum Payment Amount "),_.Vb(),_.Wb(82,"div",11),_.Rb(83,"input",36),_.Vb(),_.Vb(),_.Wb(84,"div",8),_.Wb(85,"div",37),_.Wb(86,"div",8),_.Wb(87,"label",38),_.Pc(88," Mininumum Payment Amount "),_.Vb(),_.Wb(89,"div",11),_.Rb(90,"mat-slide-toggle",39,40),_.Vb(),_.Vb(),_.Vb(),_.Wb(92,"div",37),_.Wb(93,"div",8),_.Wb(94,"label",41),_.Pc(95," Min Payment Amount Currency "),_.Vb(),_.Wb(96,"div",42),_.Rb(97,"p-dropdown",43),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(98,"div",8),_.Wb(99,"div",37),_.Wb(100,"div",8),_.Wb(101,"label",38),_.Pc(102," Minimum Usage"),_.Wb(103,"span",10),_.Pc(104," * "),_.Vb(),_.Vb(),_.Wb(105,"div",11),_.Rb(106,"mat-slide-toggle",39,44),_.Vb(),_.Vb(),_.Vb(),_.Wb(108,"label",9),_.Pc(109," Minimum Usage"),_.Wb(110,"span",10),_.Pc(111," * "),_.Vb(),_.Vb(),_.Wb(112,"div",11),_.Rb(113,"input",45),_.Vb(),_.Vb(),_.Wb(114,"div",8),_.Wb(115,"div",37),_.Wb(116,"div",8),_.Wb(117,"label",38),_.Pc(118," Procedure Per Month"),_.Wb(119,"span",10),_.Pc(120," * "),_.Vb(),_.Vb(),_.Wb(121,"div",11),_.Rb(122,"mat-slide-toggle",39,46),_.Vb(),_.Vb(),_.Vb(),_.Wb(124,"label",9),_.Pc(125," Minimum Procedure"),_.Wb(126,"span",10),_.Pc(127," * "),_.Vb(),_.Vb(),_.Wb(128,"div",11),_.Rb(129,"input",47),_.Vb(),_.Vb(),_.Wb(130,"div",8),_.Wb(131,"div",37),_.Wb(132,"div",8),_.Wb(133,"label",38),_.Pc(134," Consumable Usage"),_.Wb(135,"span",10),_.Pc(136," * "),_.Vb(),_.Vb(),_.Wb(137,"div",11),_.Rb(138,"mat-slide-toggle",39,44),_.Vb(),_.Vb(),_.Vb(),_.Wb(140,"label",9),_.Pc(141," Required Tenure"),_.Wb(142,"span",10),_.Pc(143," * "),_.Vb(),_.Vb(),_.Wb(144,"div",11),_.Rb(145,"p-inputNumber",48),_.Rb(146,"app-form-error-presentation",49),_.Vb(),_.Vb(),_.Wb(147,"div",8),_.Wb(148,"div",37),_.Wb(149,"div",8),_.Wb(150,"label",38),_.Pc(151," Agreement Number Mandatory"),_.Wb(152,"span",10),_.Pc(153," * "),_.Vb(),_.Vb(),_.Wb(154,"div",11),_.Rb(155,"mat-slide-toggle",50),_.Vb(),_.Vb(),_.Vb(),_.Wb(156,"label",9),_.Pc(157," List of Document Required "),_.Vb(),_.Wb(158,"div",11),_.Rb(159,"textarea",51),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Rb(160,"br"),_.Wb(161,"div",52),_.Wb(162,"form",53),_.Wb(163,"p-accordion",54),_.Wb(164,"p-accordionTab",55),_.Wb(165,"div",1),_.Wb(166,"table",56),_.Wb(167,"thead"),_.Wb(168,"tr"),_.Wb(169,"th"),_.Pc(170,"Rate No"),_.Vb(),_.Wb(171,"th"),_.Pc(172,"Validity Start Date"),_.Vb(),_.Wb(173,"th"),_.Pc(174,"Validity End Date"),_.Vb(),_.Wb(175,"th"),_.Pc(176,"Status"),_.Vb(),_.Wb(177,"th"),_.Pc(178,"Type"),_.Vb(),_.Rb(179,"th"),_.Vb(),_.Vb(),_.Wb(180,"tbody"),_.Nc(181,K,17,3,"tr",57),_.Vb(),_.Wb(182,"tfoot",58),_.Wb(183,"tr"),_.Wb(184,"td",59),_.Wb(185,"a",60),_.gc("click",function(){return e.addAddRates()}),_.Rb(186,"i",61),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(187,"div",52),_.Wb(188,"div",62),_.Wb(189,"button",63),_.gc("click",function(){return e.cancelSkuForm()}),_.Pc(190," CANCEL"),_.Vb(),_.Wb(191,"button",64),_.Pc(192,"Save"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(193,"div",65,66),_.Wb(195,"div",67),_.Wb(196,"div",68),_.Wb(197,"div",69),_.Wb(198,"h4",70),_.Pc(199,"Success"),_.Vb(),_.Vb(),_.Wb(200,"div",71),_.Wb(201,"p"),_.Pc(202),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(203,"div",72,73),_.Wb(205,"div",74),_.Wb(206,"div",68),_.Wb(207,"div",69),_.Wb(208,"h4",70),_.Pc(209,"Error"),_.Vb(),_.Vb(),_.Wb(210,"div",71),_.Wb(211,"p"),_.Pc(212),_.Vb(),_.Vb(),_.Rb(213,"div",75),_.Vb(),_.Vb(),_.Vb()),2&t){const t=_.Dc(51),o=_.Dc(91),r=_.Dc(107),n=_.Dc(123);_.Db(10),_.rc("formGroup",e.skuAddForm),_.Db(7),_.rc("readonly",!0),_.Db(1),_.rc("displayError",e.isFieldValid("uuid")),_.Db(6),_.rc("showTime",!1),_.Db(7),_.rc("options",e.fpsTypeList),_.Db(1),_.rc("displayError",e.isFieldValid("package_type_id")),_.Db(4),_.rc("showTime",!1),_.Db(7),_.rc("options",e.countryList),_.Db(1),_.rc("displayError",e.isFieldValid("country_code")),_.Db(9),_.rc("ngIf",t.checked),_.Db(1),_.rc("displayError",e.isFieldValid("interest_rate")),_.Db(7),_.rc("options",e.institutions_list),_.Db(1),_.rc("displayError",e.isFieldValid("financier_id")),_.Db(7),_.rc("binary",!0),_.Db(4),_.rc("binary",!0),_.Db(4),_.rc("binary",!0),_.Db(6),_.rc("readonly",!o.checked),_.Db(14),_.rc("disabled",!o.checked)("options",e.currencies_list),_.Db(16),_.rc("readonly",!r.checked),_.Db(16),_.rc("readonly",!n.checked),_.Db(17),_.rc("displayError",e.isFieldValid("required_tenure")),_.Db(16),_.rc("formGroup",e.rateAddForm),_.Db(1),_.rc("multiple",!0),_.Db(18),_.rc("ngForOf",e.addRates().controls),_.Db(21),_.Qc(e.alertBody),_.Db(10),_.Qc(e.alertBody)}},directives:[s.z,s.q,s.j,s.c,s.p,s.h,w,L.a,W.a,d.a,r.p,E.a,s.u,I.a,T.a,T.c,s.d,r.o,b.f,b.e,a.a,s.k],styles:["[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{padding:0}[_nghost-%COMP%]     table#sku_rate{width:95%;margin:auto}","opp-opportunity-booking[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-calendar, [_nghost-%COMP%]     .p-inputnumber{width:100%}[_nghost-%COMP%]     p-checkbox+label{display:inline-block;margin-bottom:0;padding-left:5px}[_nghost-%COMP%]     .p-disabled{background-color:#e4e7ea;opacity:1}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}"]}),t})()},{path:"**",redirectTo:"fps-listing"}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Ob({type:t}),t.\u0275inj=_.Nb({imports:[[b.g.forChild(J)],b.g]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Ob({type:t}),t.\u0275inj=_.Nb({imports:[[r.c,H,l.g,s.l,s.v,a.b,i.b,n.a,d.b]]}),t})()}}]);