!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LFMZ:function(e,n,r){"use strict";r.r(n),r.d(n,"FpsModule",function(){return bt});var i,a,s,d,l=r("SVse"),c=r("Wcfd"),b=r("rVqu"),p=r("LqlI"),u=r("s7LF"),f=r("jMqV"),m=r("ZRSf"),g=r("iInd"),h=r("tUjy"),_=r("hLZb"),y=r("IheW"),v=r("JIr8"),V=r("lJxs"),C=r("z6cu"),P=r("AytR"),W=r("8Y7J"),M=((i=function(){function e(o){t(this,e),this.httpClient=o,this.baseUrl=P.b.apiBaseUrl+"/fps/",this.httpOptions={headers:new y.e({"Content-Type":"application/json"})},this.errorHandler=function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),Object(C.a)(e)}}return o(e,[{key:"get",value:function(t){return this.map(this.httpClient.get(this.baseUrl+t,this.httpOptions))}},{key:"post",value:function(t,e){return this.map(this.httpClient.post(this.baseUrl+t,e,this.httpOptions))}},{key:"map",value:function(t){return t.pipe(Object(v.a)(this.errorHandler),Object(V.a)(function(t){return t.data}))}}]),e}()).\u0275fac=function(t){return new(t||i)(W.dc(y.b))},i.\u0275prov=W.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),k=r("Hva9"),w=((d=function(){function e(o,n){t(this,e),this.httpClient=o,this.apiClient=n}return o(e,[{key:"getList",value:function(){return this.apiClient.get("fps")}},{key:"saveFps",value:function(t){return this.apiClient.post("fps/createDraft",t)}},{key:"getTransSactionTypeList",value:function(){return[{id:1,title:"Non-Recourse Finance Lease/operating Lease"},{id:2,title:"Bank Equipment Financing"},{id:3,title:"Non-Recourse Variable Equipment Lease"},{id:4,title:"Placement Instalment"},{id:5,title:"Credit Card Instalment"},{id:6,title:"New Office Physician"},{id:7,title:"Short Term Equipment Rental"},{id:8,title:"Company Instalment"},{id:9,title:"Recourse Leases"}]}},{key:"getFpsStatusList",value:function(){return[{id:1,title:"New"},{id:2,title:"Submitted"},{id:3,title:"Validated"},{id:4,title:"Awaiting Quotation"},{id:5,title:"Pending Customer Documents"},{id:6,title:"Processing at Leasing Company"},{id:7,title:"Internal Approval at Idsmeds"},{id:8,title:"Approved at Leasing Company"},{id:9,title:"Agreement signed"},{id:10,title:"Closed"},{id:11,title:"Cancelled"}]}},{key:"getrateStatusList",value:function(){return[{id:1,title:"Not Started"},{id:2,title:"Active"},{id:3,title:"Obsolete"}]}},{key:"getTenureList",value:function(t,e,o){return this.httpClient.get(k.a.apiBaseUrl+"/tenure-list/"+t+"/"+e+"/"+o).pipe()}},{key:"getUsersList",value:function(){return this.httpClient.get(k.a.apiBaseUrl+"/user-list").pipe()}},{key:"validateAllFormFields",value:function(t){var e=this;Object.keys(t.controls).forEach(function(o){var n=t.get(o);n instanceof u.f?n.markAsTouched({onlySelf:!0}):n instanceof u.i&&e.validateAllFormFields(n)})}}]),e}()).\u0275fac=function(t){return new(t||d)(W.dc(y.b),W.dc(M))},d.\u0275prov=W.Mb({token:d,factory:d.\u0275fac,providedIn:"root"}),d),O=((s=function(){function e(o){t(this,e),this.httpClient=o,this.apiURL=P.b.apiBaseUrl,this.httpOptions={headers:new y.e({"Content-Type":"application/json"})}}return o(e,[{key:"getQuery",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t;return null!=e&&(o+="?page_items="+e),this.httpClient.get(this.apiURL+o,this.httpOptions)}},{key:"postQuery",value:function(t,e){return this.httpClient.post(this.apiURL+t,JSON.stringify(e),this.httpOptions)}}]),e}()).\u0275fac=function(t){return new(t||s)(W.dc(y.b))},s.\u0275prov=W.Mb({token:s,factory:s.\u0275fac}),s),F=((a=function(){function e(o){t(this,e),this.httpClient=o}return o(e,[{key:"getFinancialInstition",value:function(t){return this.httpClient.get(k.a.apiBaseUrl+"/institutions-list/"+t).pipe()}},{key:"getSkuAutoGeneratedKey",value:function(){return this.httpClient.get(k.a.apiBaseUrl+"/get-last-fps-sku-id").pipe()}},{key:"getFPSAutoGeneratedKey",value:function(){return this.httpClient.get(k.a.apiBaseUrl+"/get-last-fps-id").pipe()}}]),e}()).\u0275fac=function(t){return new(t||a)(W.dc(y.b))},a.\u0275prov=W.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),A=r("y1st");function S(t,e){if(1&t&&(W.Wb(0,"div"),W.Rb(1,"span",1),W.Wb(2,"span",2),W.Pc(3,"(error)"),W.Vb(),W.Wb(4,"div",3),W.Pc(5),W.Vb(),W.Vb()),2&t){var o=W.kc();W.Db(5),W.Rc(" ",o.errorMsg," ")}}var R,N,D,x,q,L,E=((R=function(){function e(){t(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||R)},R.\u0275cmp=W.Kb({type:R,selectors:[["app-form-error-presentation"]],inputs:{errorMsg:"errorMsg",displayError:"displayError"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"glyphicon","glyphicon-remove","form-control-feedback","fix-error-icon"],[1,"sr-only"],[1,"error-msg"]],template:function(t,e){1&t&&W.Nc(0,S,6,1,"div",0),2&t&&W.rc("ngIf",e.displayError)},directives:[l.p],styles:[".error-msg[_ngcontent-%COMP%]{color:#ff1814}.fix-error-icon[_ngcontent-%COMP%]{top:27px}"]}),R),I=["successModal"],T=["dangerModal"],U=["foundModal"],Q=["fpsAddFormContainer"],z=((N=function(){function e(o,n,r,i,a,s,d){t(this,e),this.fb=o,this.fpsService=n,this.appService=r,this.institutionService=i,this.zone=a,this.dialogService=s,this.activatedRoute=d,this.agreement_mandatory=!1,this.payment_frequency_list=[{value:"monthly_payment",label:"Monthly"},{value:"quarterly_payment",label:"Quarterly"},{value:"half_yearly_payment",label:"Half-yearly"}],this.tenure_list=[],this.countryCode="MY",this.oppt_details={opportunity_code:"",created_at:"",currency_code:"",amount:"",bill_to:""},this.fpsTypeList=this.fpsService.getTransSactionTypeList(),this.fpsStatusList=this.fpsService.getFpsStatusList()}return o(e,[{key:"form_controls",get:function(){return this.fpsAddForm.controls}},{key:"ngOnInit",value:function(){var t=this;this.fpsAddForm=this.fb.group({fps_no:new u.f("",[u.y.required]),fps_opportunity_id:new u.f,fps_quote_id:new u.f,fps_customer_name:new u.f,fps_soci_uuid:new u.f,fps_transaction_type_id:new u.f,fps_financier_id:new u.f("",[u.y.required]),fps_payment_frequency:new u.f("",[u.y.required]),fps_status_id:new u.f,fps_tenure_id:new u.f("",[u.y.required]),fps_adv_payment:new u.f,fps_adv_payment_percentage:new u.f,fps_net_financing_amount:new u.f,fps_monthly_payment_amount:new u.f,fps_interest_rate:new u.f,fps_validated_by:new u.f,fps_approved_by:new u.f,fps_leas_aggr_no:new u.f,fps_internal_aggr_no:new u.f,fps_remarks:new u.f,fps_currency_code:new u.f,fps_total_financial_amount:new u.f,fps_min_payment_amount:new u.f,fps_required_docs:new u.f,fps_data_area_id:new u.f}),this.activatedRoute.queryParams.subscribe(function(e){t.current_apportunity_id=e.opport_id,t.fpsAddForm.controls.fps_opportunity_id.setValue(t.current_apportunity_id)}),this.appService.getQuery("/opportunity/detail/"+this.current_apportunity_id,null).subscribe(function(e){t.oppt_details=e.data,console.log("opptDetiasl",t.oppt_details),t.fpsAddForm.controls.fps_currency_code.setValue(t.oppt_details.currency_code),t.fpsAddForm.controls.fps_total_financial_amount.setValue(t.oppt_details.amount),t.fpsAddForm.controls.fps_data_area_id.setValue(t.oppt_details.bill_to.data_area_id)}),this.fpsService.getUsersList().subscribe(function(e){t.fps_user_list=e.data}),this.institutionService.getFPSAutoGeneratedKey().subscribe({next:function(e){e.success?t.zone.run(function(){t.fpsAddForm.controls.fps_no.setValue("FPS"+(e.data[0].id+1)+"-"+t.oppt_details.opportunity_code)}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve institutions list")}}),this.institutionService.getFinancialInstition(this.countryCode).subscribe({next:function(e){e.success?t.zone.run(function(){t.institutions_list=e.data.institutions}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve institutions list")}})}},{key:"onSave",value:function(){var t=this;if(!this.fpsAddForm.valid)return this.fpsService.validateAllFormFields(this.fpsAddForm),void this.fpsAddFormContainerRef.nativeElement.scrollIntoView({behavior:"smooth"});console.log("data",this.fpsAddForm),this.fpsService.saveFps({fps_no:this.fpsAddForm.get("fps_no").value+"",fps_opportunity_id:this.fpsAddForm.get("fps_opportunity_id").value+"",fps_quote_id:this.fpsAddForm.get("fps_quote_id").value+"",fps_payment_frequency:this.fpsAddForm.get("fps_no").value+""}).subscribe(function(e){e.id&&(t.alertBody="FPS saved successfully.",t.successModal.show(),setTimeout(function(){t.successModal.hide()},2e3),t.fpsAddForm.reset())},function(e){console.log(e),t.alertBody="The FPS can't save",t.dangerModal.show(),setTimeout(function(){t.dangerModal.hide()},2e3)})}},{key:"onChangeAdvancePayment",value:function(){var t=this.fpsAddForm.controls.fps_total_financial_amount.value;this.fpsAddForm.controls.fps_net_financing_amount.setValue(t-t/100*this.fpsAddForm.controls.fps_adv_payment_percentage.value)}},{key:"updateInterestRate",value:function(){var t=this.getFilteredCodes(this.tenure_list,"id",this.fpsAddForm.controls.fps_tenure_id.value);this.fpsAddForm.controls.fps_interest_rate.setValue(t[0].details_interest_rate),this.fpsAddForm.controls.fps_min_payment_amount.setValue(t[0].min_payment_amount),this.fpsAddForm.controls.fps_required_docs.setValue(t[0].required_docs),this.agreement_mandatory=0!=t[0].agreement_mandatory,this.updateMontlyPayment()}},{key:"updateMontlyPayment",value:function(){var t=parseFloat(this.fpsAddForm.controls.fps_total_financial_amount.value),e=parseFloat(this.fpsAddForm.controls.fps_interest_rate.value),o=parseFloat(this.fpsAddForm.controls.fps_tenure_id.value);this.fpsAddForm.controls.fps_monthly_payment_amount.setValue((t*(1+e/12*o)/o).toFixed(2))}},{key:"updateTenure",value:function(){var t=this,e=this.fpsAddForm.controls.fps_financier_id.value,o=this.fpsAddForm.controls.fps_transaction_type_id.value;o=o<1?1:o,e=e<1?null:e,this.fpsService.getTenureList(o,e,this.fpsAddForm.controls.fps_payment_frequency.value).subscribe(function(e){e.unshift(e.length>0?{id:"",details_tenure:"Select Tenure"}:{id:"",details_tenure:"No Tenure Available"}),t.tenure_list=e},function(t){console.log(t)})}},{key:"getFilteredCodes",value:function(t,e,o){return t.filter(function(t){return t[e]==o})}},{key:"isFieldValid",value:function(t){return!this.fpsAddForm.get(t).valid&&this.fpsAddForm.get(t).touched}}]),e}()).\u0275fac=function(t){return new(t||N)(W.Qb(u.e),W.Qb(w),W.Qb(O),W.Qb(F),W.Qb(W.A),W.Qb(_.a),W.Qb(g.a))},N.\u0275cmp=W.Kb({type:N,selectors:[["app-create"]],viewQuery:function(t,e){var o;1&t&&(W.Uc(I,1),W.Uc(T,1),W.Uc(U,1),W.Uc(Q,1)),2&t&&(W.Cc(o=W.hc())&&(e.successModal=o.first),W.Cc(o=W.hc())&&(e.dangerModal=o.first),W.Cc(o=W.hc())&&(e.foundModal=o.first),W.Cc(o=W.hc())&&(e.fpsAddFormContainerRef=o.first))},features:[W.Cb([O])],decls:202,vars:22,consts:[[1,"animated","fadeIn"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header","d-flex","b-btm-green"],[1,"chead"],[1,"card-body"],[1,"card-row"],[1,"lead-data"],[1,"lead-header"],[1,"col-md-3"],[1,"form-group"],[1,"bold"],[1,"col-md-3","lead-id"],[1,"bg-opp","text-white","p-1"],["type","hidden","formControlName","fps_no",1,"form-control"],["formControlName","fps_transaction_type_id","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No FPS Type Available",3,"options","onChange"],["formControlName","fps_status_id","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No FPS Status Available",3,"options"],[1,"details","grey"],["type","hidden","formControlName","fps_opportunity_id",1,"form-control"],["type","hidden","formControlName","fps_data_area_id","title","fps_data_area_id",1,"form-control"],["fpsAddFormContainer",""],[1,"col-md-12"],[1,"mb-4"],[1,"form-group","row"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"asterisk"],[1,"col-md-4"],["formControlName","fps_payment_frequency","optionLabel","label","optionValue","value","styleClass","form-control","placeholder","Select Frequency","id","fps_payment_frequency","emptyMessage","No Payment Frequency Available",3,"options","onChange"],["errorMsg","Payment Frequency is rquired.",3,"displayError"],["formControlName","fps_tenure_id","id","fps_tenure_id","optionLabel","details_tenure","optionValue","id","styleClass","form-control",3,"options","onChange"],["errorMsg","Tenure is rquired.",3,"displayError"],["formControlName","fps_financier_id","id","fps_financier_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select Institution","emptyMessage","No Institution Available",3,"options","onChange"],["errorMsg","Financial Instititue is rquired.",3,"displayError"],["type","number","step","0.1","formControlName","fps_interest_rate",1,"form-control",3,"change"],["type","text","formControlName","fps_currency_code",1,"form-control",3,"readonly"],["type","number","formControlName","fps_monthly_payment_amount",1,"form-control"],["type","number","formControlName","fps_total_financial_amount",1,"form-control"],["type","number","formControlName","fps_min_payment_amount",1,"form-control"],[1,"col-md-6"],["for","booking-reason",1,"col-md-4","col-form-label"],[1,"col-md-8"],["type","number","step","0.1","formControlName","fps_adv_payment_percentage",1,"form-control",3,"change"],["type","number","formControlName","fps_adv_payment",1,"form-control"],["type","number","formControlName","fps_net_financing_amount",1,"form-control"],["formControlName","fps_remarks","rows","9",1,"form-control"],["formControlName","fps_validated_by","optionLabel","full_name","optionValue","id","styleClass","form-control","placeholder","Select User","emptyMessage","No User Available",3,"options"],["type","text","formControlName","fps_leas_aggr_no",1,"form-control",3,"readonly"],["formControlName","fps_approved_by","optionLabel","full_name","optionValue","id","styleClass","form-control","placeholder","Select User","emptyMessage","No User Available",3,"options"],["formControlName","fps_required_docs","rows","9",1,"form-control"],[1,"custom-footer","d-flex","justify-content-center"],["type","submit",1,"btn","btn-sm","btn-primary"],[1,"fa","fa-plus"],[1,"col-sm-12","col-md-12","form-group"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"form",1),W.gc("ngSubmit",function(){return e.onSave()}),W.Wb(2,"div",2),W.Wb(3,"div",3),W.Wb(4,"div",4),W.Wb(5,"div",5),W.Wb(6,"div",6),W.Pc(7,"Create FPS Request Form"),W.Vb(),W.Vb(),W.Wb(8,"div",7),W.Wb(9,"div",8),W.Wb(10,"div",9),W.Wb(11,"div",10),W.Wb(12,"div",2),W.Wb(13,"div",11),W.Wb(14,"div",12),W.Wb(15,"h3",13),W.Pc(16),W.Vb(),W.Vb(),W.Vb(),W.Wb(17,"div",14),W.Wb(18,"div",12),W.Wb(19,"label",13),W.Pc(20,"FPS Request No."),W.Vb(),W.Wb(21,"div",15),W.Pc(22),W.Vb(),W.Wb(23,"span"),W.Rb(24,"input",16),W.Vb(),W.Vb(),W.Vb(),W.Wb(25,"div",11),W.Wb(26,"div",12),W.Wb(27,"label",13),W.Pc(28,"Transaction Type"),W.Vb(),W.Wb(29,"p-dropdown",17),W.gc("onChange",function(){return e.updateTenure()}),W.Vb(),W.Vb(),W.Vb(),W.Wb(30,"div",11),W.Wb(31,"div",12),W.Wb(32,"label",13),W.Pc(33,"Status"),W.Vb(),W.Rb(34,"p-dropdown",18),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(35,"div",19),W.Wb(36,"div",2),W.Wb(37,"div",11),W.Wb(38,"div",12),W.Wb(39,"label",13),W.Pc(40,"Created Date"),W.Vb(),W.Wb(41,"div"),W.Pc(42),W.lc(43,"date"),W.Vb(),W.Vb(),W.Vb(),W.Wb(44,"div",11),W.Wb(45,"div",12),W.Wb(46,"label",13),W.Pc(47,"Opportunity ID "),W.Vb(),W.Wb(48,"div"),W.Pc(49),W.Rb(50,"input",20),W.Rb(51,"input",21),W.Vb(),W.Vb(),W.Vb(),W.Wb(52,"div",11),W.Wb(53,"div",12),W.Wb(54,"label",13),W.Pc(55,"Quote ID (Version)"),W.Vb(),W.Wb(56,"div"),W.Pc(57," ... "),W.Vb(),W.Vb(),W.Vb(),W.Wb(58,"div",11),W.Wb(59,"div",12),W.Wb(60,"label",13),W.Pc(61,"SOCI No."),W.Vb(),W.Wb(62,"div"),W.Pc(63," ... "),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(64,"div",2,22),W.Wb(66,"div",23),W.Wb(67,"div",4),W.Wb(68,"div",7),W.Wb(69,"div",24),W.Wb(70,"h2"),W.Pc(71,"General"),W.Vb(),W.Vb(),W.Wb(72,"div",25),W.Wb(73,"label",26),W.Pc(74," Payment Frequency"),W.Wb(75,"span",27),W.Pc(76," * "),W.Vb(),W.Vb(),W.Wb(77,"div",28),W.Wb(78,"p-dropdown",29),W.gc("onChange",function(){return e.updateTenure()}),W.Vb(),W.Rb(79,"app-form-error-presentation",30),W.Vb(),W.Wb(80,"label",26),W.Pc(81," Tenure "),W.Vb(),W.Wb(82,"div",28),W.Wb(83,"p-dropdown",31),W.gc("onChange",function(){return e.updateInterestRate()}),W.Vb(),W.Rb(84,"app-form-error-presentation",32),W.Vb(),W.Vb(),W.Wb(85,"div",25),W.Wb(86,"label",26),W.Pc(87," Financial Instititue"),W.Wb(88,"span",27),W.Pc(89," * "),W.Vb(),W.Vb(),W.Wb(90,"div",28),W.Wb(91,"p-dropdown",33),W.gc("onChange",function(){return e.updateTenure()}),W.Vb(),W.Rb(92,"app-form-error-presentation",34),W.Vb(),W.Wb(93,"label",26),W.Pc(94," Interest % "),W.Vb(),W.Wb(95,"div",28),W.Wb(96,"input",35),W.gc("change",function(){return e.updateMontlyPayment()}),W.Vb(),W.Vb(),W.Vb(),W.Wb(97,"div",25),W.Wb(98,"label",26),W.Pc(99," Currency"),W.Wb(100,"span",27),W.Pc(101," * "),W.Vb(),W.Vb(),W.Wb(102,"div",28),W.Rb(103,"input",36),W.Vb(),W.Wb(104,"label",26),W.Pc(105," Monthly Payment Amount "),W.Vb(),W.Wb(106,"div",28),W.Rb(107,"input",37),W.Vb(),W.Vb(),W.Wb(108,"div",25),W.Wb(109,"label",26),W.Pc(110," Total Financial Amount"),W.Wb(111,"span",27),W.Pc(112," * "),W.Vb(),W.Vb(),W.Wb(113,"div",28),W.Rb(114,"input",38),W.Vb(),W.Wb(115,"label",26),W.Pc(116," Min Payment Amount "),W.Vb(),W.Wb(117,"div",28),W.Rb(118,"input",39),W.Vb(),W.Vb(),W.Wb(119,"div",25),W.Wb(120,"div",40),W.Wb(121,"div",25),W.Wb(122,"label",41),W.Pc(123," Advance Payment (%) "),W.Vb(),W.Wb(124,"div",42),W.Wb(125,"input",43),W.gc("change",function(){return e.onChangeAdvancePayment()}),W.Vb(),W.Vb(),W.Vb(),W.Wb(126,"div",25),W.Wb(127,"label",41),W.Pc(128," Advance Payment "),W.Vb(),W.Wb(129,"div",42),W.Rb(130,"input",44),W.Vb(),W.Vb(),W.Wb(131,"div",25),W.Wb(132,"label",41),W.Pc(133," Net Financing Amount "),W.Vb(),W.Wb(134,"div",42),W.Rb(135,"input",45),W.Vb(),W.Vb(),W.Vb(),W.Wb(136,"div",40),W.Wb(137,"div",25),W.Wb(138,"label",41),W.Pc(139," Remark "),W.Vb(),W.Wb(140,"div",42),W.Rb(141,"textarea",46),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(142,"hr"),W.Wb(143,"div",25),W.Wb(144,"label",26),W.Pc(145," Validated By "),W.Vb(),W.Wb(146,"div",28),W.Rb(147,"p-dropdown",47),W.Vb(),W.Wb(148,"label",26),W.Pc(149," Argeement No. "),W.Vb(),W.Wb(150,"div",28),W.Rb(151,"input",48),W.Vb(),W.Vb(),W.Wb(152,"div",25),W.Wb(153,"div",40),W.Wb(154,"div",25),W.Wb(155,"label",41),W.Pc(156," Approved By "),W.Vb(),W.Wb(157,"div",42),W.Rb(158,"p-dropdown",49),W.Vb(),W.Vb(),W.Vb(),W.Wb(159,"div",40),W.Wb(160,"div",25),W.Wb(161,"label",41),W.Pc(162," Required Documents "),W.Vb(),W.Wb(163,"div",42),W.Rb(164,"textarea",50),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(165,"div",51),W.Wb(166,"button",52),W.Rb(167,"i",53),W.Pc(168," Save"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(169,"br"),W.Wb(170,"div",54),W.Wb(171,"h3"),W.Pc(172,"Consumable Usage"),W.Vb(),W.Wb(173,"p"),W.Pc(174,"Work on this section will be done later"),W.Vb(),W.Vb(),W.Rb(175,"br"),W.Wb(176,"div",54),W.Wb(177,"h3"),W.Pc(178,"File Library"),W.Vb(),W.Wb(179,"p"),W.Pc(180,"Work on this section will be done later"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(181,"div",55,56),W.Wb(183,"div",57),W.Wb(184,"div",58),W.Wb(185,"div",59),W.Wb(186,"h4",60),W.Pc(187,"Success"),W.Vb(),W.Vb(),W.Wb(188,"div",61),W.Wb(189,"p"),W.Pc(190),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(191,"div",62,63),W.Wb(193,"div",64),W.Wb(194,"div",58),W.Wb(195,"div",59),W.Wb(196,"h4",60),W.Pc(197,"Error"),W.Vb(),W.Vb(),W.Wb(198,"div",61),W.Wb(199,"p"),W.Pc(200),W.Vb(),W.Vb(),W.Rb(201,"div",65),W.Vb(),W.Vb(),W.Vb()),2&t&&(W.Db(1),W.rc("formGroup",e.fpsAddForm),W.Db(15),W.Rc(" ",e.oppt_details.bill_to.company_name," "),W.Db(6),W.Qc(e.form_controls.fps_no.value),W.Db(7),W.rc("options",e.fpsTypeList),W.Db(5),W.rc("options",e.fpsStatusList),W.Db(8),W.Rc(" ",W.nc(43,19,e.oppt_details.created_at,"dd-MMM-yyyy")," "),W.Db(7),W.Rc(" ",e.current_apportunity_id," "),W.Db(29),W.rc("options",e.payment_frequency_list),W.Db(1),W.rc("displayError",e.isFieldValid("fps_payment_frequency")),W.Db(4),W.rc("options",e.tenure_list),W.Db(1),W.rc("displayError",e.isFieldValid("fps_tenure_id")),W.Db(7),W.rc("options",e.institutions_list),W.Db(1),W.rc("displayError",e.isFieldValid("fps_financier_id")),W.Db(11),W.rc("readonly",!0),W.Db(44),W.rc("options",e.fps_user_list),W.Db(4),W.rc("readonly",9!=e.fpsAddForm.controls.fps_status_id.value),W.Db(7),W.rc("options",e.fps_user_list),W.Db(32),W.Qc(e.alertBody),W.Db(10),W.Qc(e.alertBody))},directives:[u.z,u.q,u.j,u.c,u.p,u.h,A.a,E,u.u,p.a],pipes:[l.f],styles:["[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{padding:0}","opp-opportunity-booking[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-calendar, [_nghost-%COMP%]     .p-inputnumber{width:100%}[_nghost-%COMP%]     p-checkbox+label{display:inline-block;margin-bottom:0;padding-left:5px}[_nghost-%COMP%]     .p-disabled{background-color:#e4e7ea;opacity:1}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}"]}),N),B=function(){return["/fps/sku-create"]},j=((L=function(){function e(){t(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||L)},L.\u0275cmp=W.Kb({type:L,selectors:[["app-sku-index"]],decls:5,vars:2,consts:[[1,"btn","btn-custom","form-group",3,"routerLink"],[1,"cil-plus","c-icon"]],template:function(t,e){1&t&&(W.Wb(0,"p"),W.Pc(1,"sku-index works!"),W.Vb(),W.Wb(2,"a",0),W.Rb(3,"i",1),W.Pc(4," \xa0New FPS SKU\n"),W.Vb()),2&t&&(W.Db(2),W.rc("routerLink",W.uc(1,B)))},directives:[g.f],styles:[""]}),L),G=((q=function(){function e(o){t(this,e),this.apiClient=o}return o(e,[{key:"getList",value:function(){return this.apiClient.get("sku")}},{key:"saveSku",value:function(t){return this.apiClient.post("sku/createDraft",t)}},{key:"saveRates",value:function(t){return this.apiClient.post("rate/store",t)}}]),e}()).\u0275fac=function(t){return new(t||q)(W.dc(M))},q.\u0275prov=W.Mb({token:q,factory:q.\u0275fac,providedIn:"root"}),q),K=((x=function(){function e(o){t(this,e),this.httpClient=o}return o(e,[{key:"getCountry",value:function(){return this.httpClient.get(k.a.apiBaseUrl+"/countries-list").pipe()}}]),e}()).\u0275fac=function(t){return new(t||x)(W.dc(y.b))},x.\u0275prov=W.Mb({token:x,factory:x.\u0275fac,providedIn:"root"}),x),J=((D=function(){function e(o){t(this,e),this.httpClient=o}return o(e,[{key:"getCurrencyList",value:function(){return this.httpClient.get(k.a.apiBaseUrl+"/currencies-list").pipe()}}]),e}()).\u0275fac=function(t){return new(t||D)(W.dc(y.b))},D.\u0275prov=W.Mb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),H=r("7vha"),Y=r("+yXi"),Z=r("FjU+"),X=r("KnEf"),$=["successModal"],tt=["dangerModal"],et=["foundModal"],ot=["submitSkuAdd"],nt=["skuAddFormContainer"];function rt(t,e){1&t&&W.Rb(0,"input",76)}function it(t,e){if(1&t){var o=W.Xb();W.Wb(0,"tr",77),W.Wb(1,"td",78),W.Rb(2,"input",79),W.Vb(),W.Wb(3,"td",78),W.Rb(4,"input",80),W.Vb(),W.Wb(5,"td",81),W.Rb(6,"input",82),W.Vb(),W.Wb(7,"td",83),W.Rb(8,"p-dropdown",84),W.Vb(),W.Wb(9,"td",78),W.Rb(10,"p-dropdown",85),W.Vb(),W.Wb(11,"td",86),W.Wb(12,"a",87),W.Rb(13,"i",88),W.Vb(),W.Pc(14," \xa0 "),W.Wb(15,"a",60),W.gc("click",function(){W.Fc(o);var t=e.index;return W.kc().removeAddRates(t)}),W.Rb(16,"i",89),W.Vb(),W.Vb(),W.Vb()}if(2&t){var n=e.index,r=W.kc();W.rc("formGroupName",n),W.Db(8),W.rc("options",r.rateStatusList),W.Db(2),W.rc("options",r.rateTypeOptions)}}var at,st,dt,lt=[{path:"fps-listing",component:h.a},{path:"fps-create",component:z},{path:"sku-listing",component:j},{path:"sku-create",component:(at=function(){function e(o,n,r,i,a,s,d,l,c,b){t(this,e),this.countryService=o,this.currencyService=n,this.institutionService=r,this.dialogService=i,this.zone=a,this.fb=s,this.SkuService=d,this.datePipe=l,this.router=c,this.fpsService=b,this.rate_counter=0,this.countryList=[],this.currencies_list=[],this.institutions_list=[],this.countryCode="MY",this.fpsTypeList=this.fpsService.getTransSactionTypeList(),this.rateStatusList=this.fpsService.getrateStatusList(),this.rateTypeOptions=[{value:"normal",label:"Normal"},{value:"promotion",label:"Promotion"}]}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.skuAddForm=this.fb.group({uuid:new u.f("",[u.y.required]),validity_start_at:new u.f(new Date),package_type_id:new u.f("1",[u.y.required]),validity_end_at:new u.f(new Date),country_code:new u.f("",[u.y.required]),interest_rate:new u.f,financier_id:new u.f("",[u.y.required]),has_interest:new u.f,monthly_payment:new u.f,quarterly_payment:new u.f,half_yearly_payment:new u.f,currency_code:new u.f,min_payment_amount:new u.f("0"),min_usage:new u.f("0"),consumable_usage:new u.f,procedure_per_month:new u.f,required_tenure:new u.f("0"),required_docs:new u.f,agreement_mandatory:new u.f("0")}),this.rateAddForm=this.fb.group({addRates:this.fb.array([])}),this.institutionService.getSkuAutoGeneratedKey().subscribe({next:function(e){e.success?t.zone.run(function(){t.skuAddForm.controls.uuid.setValue("FPS-"+(e.data[0].id+1))}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve institutions list")}}),this.countryService.getCountry().subscribe({next:function(e){e.success?t.zone.run(function(){t.countryList=e.data.countries}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve country list")}}),this.institutionService.getFinancialInstition(this.countryCode).subscribe({next:function(e){e.success?t.zone.run(function(){t.institutions_list=e.data.institutions}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve institutions list")}}),this.currencyService.getCurrencyList().subscribe({next:function(e){e.success?t.zone.run(function(){t.currencies_list=e.data}):t.dialogService.showErrorDialog(e.message)},error:function(e){t.dialogService.showErrorDialog(null!=e.error.message?e.error.message:"Error retrieve currencies list")}}),this.setConditionalValidators()}},{key:"setConditionalValidators",value:function(){var t=this.skuAddForm.get("interest_rate");this.skuAddForm.get("has_interest").valueChanges.subscribe(function(e){1==e?t.setValidators([u.y.required]):t.clearValidators()})}},{key:"onSave",value:function(){var t=this;if(!this.skuAddForm.valid)return this.fpsService.validateAllFormFields(this.skuAddForm),void this.skuAddFormContainerRef.nativeElement.scrollIntoView({behavior:"smooth"});this.SkuService.saveSku({uuid:this.skuAddForm.get("uuid").value+"",country_code:this.skuAddForm.get("country_code").value+"",financier_id:this.skuAddForm.get("financier_id").value+"",monthly_payment:this.skuAddForm.get("monthly_payment").value?1:0,quarterly_payment:this.skuAddForm.get("quarterly_payment").value?1:0,half_yearly_payment:this.skuAddForm.get("half_yearly_payment").value?1:0,package_type_id:this.skuAddForm.get("package_type_id").value+"",interest_rate:(this.skuAddForm.get("interest_rate").value?this.skuAddForm.get("interest_rate").value:0)+"",currency_code:this.skuAddForm.get("currency_code").value+"",validity_start_at:this.datePipe.transform(this.skuAddForm.get("validity_start_at").value,"yyyy-MM-dd"),validity_end_at:this.datePipe.transform(this.skuAddForm.get("validity_end_at").value,"yyyy-MM-dd"),required_docs:this.skuAddForm.get("required_docs").value+"",procedure_per_month:this.skuAddForm.get("procedure_per_month").value+"",min_usage:this.skuAddForm.get("min_usage").value+"",required_tenure:this.skuAddForm.get("required_tenure").value+"",agreement_mandatory:this.skuAddForm.get("agreement_mandatory").value+""}).subscribe(function(e){e.id&&(t.alertBody="FPS saved successfully.",t.successModal.show(),setTimeout(function(){t.successModal.hide();for(var o=t.rateAddForm.value.addRates,n=0;n<o.length;n++)t.storeRates({financial_package_id:e.id,validity_start_at:o[n].validity_start_at,validity_end_at:o[n].validity_end_at,status:o[n].status,type:o[n].rate_type})},2e3))},function(e){console.log(e),t.alertBody="The FPS can't save <br>"+e,t.dangerModal.show(),setTimeout(function(){t.dangerModal.hide()},2e3)})}},{key:"triggerFalseClick",value:function(){this.submitSkuAdd.nativeElement.click()}},{key:"cancelSkuForm",value:function(){this.router.navigateByUrl("/fps/sku-listing",{replaceUrl:!0})}},{key:"addRates",value:function(){return this.rateAddForm.get("addRates")}},{key:"newAddRates",value:function(){return this.fb.group({rate_no:++this.rate_counter,validity_start_at:0,validity_end_at:0,status:1,rate_type:"normal"})}},{key:"addAddRates",value:function(){this.addRates().push(this.newAddRates())}},{key:"removeAddRates",value:function(t){this.addRates().removeAt(t)}},{key:"storeRates",value:function(t){this.SkuService.saveRates(t).subscribe(function(t){t.id&&console.log("Rates Stored successfully.")},function(t){console.log(t)})}},{key:"isFieldValid",value:function(t){return!this.skuAddForm.get(t).valid&&this.skuAddForm.get(t).touched}}]),e}(),at.\u0275fac=function(t){return new(t||at)(W.Qb(K),W.Qb(J),W.Qb(F),W.Qb(_.a),W.Qb(W.A),W.Qb(u.e),W.Qb(G),W.Qb(l.f),W.Qb(g.c),W.Qb(w))},at.\u0275cmp=W.Kb({type:at,selectors:[["app-sku-create"]],viewQuery:function(t,e){var o;1&t&&(W.Uc($,1),W.Uc(tt,1),W.Uc(et,1),W.Uc(ot,1),W.Uc(nt,1)),2&t&&(W.Cc(o=W.hc())&&(e.successModal=o.first),W.Cc(o=W.hc())&&(e.dangerModal=o.first),W.Cc(o=W.hc())&&(e.foundModal=o.first),W.Cc(o=W.hc())&&(e.submitSkuAdd=o.first),W.Cc(o=W.hc())&&(e.skuAddFormContainerRef=o.first))},decls:214,vars:27,consts:[[1,"animated","fadeIn"],[1,"row"],["skuAddFormContainer",""],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"mb-4"],["id","skuAddForm",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","booking-reason",1,"col-md-2","col-form-label"],[1,"asterisk"],[1,"col-md-4"],["type","text","formControlName","uuid","id","uuid",1,"form-control",3,"readonly"],["errorMsg","Uuid is rquired.",3,"displayError"],["dateFormat","yy-mm-dd","formControlName","validity_start_at",3,"showTime"],["formControlName","package_type_id","id","package_type_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select FPS Type","emptyMessage","No FPS Type Available",3,"options"],["errorMsg","FPS Type is rquired.",3,"displayError"],["dateFormat","yy-mm-dd","formControlName","validity_end_at",3,"showTime"],["formControlName","country_code","id","country_code","optionLabel","official_name","optionValue","code","styleClass","form-control","placeholder","Select Country","emptyMessage","No Country Available",3,"options"],["errorMsg","Country is rquired.",3,"displayError"],[1,"col-md-3"],["formControlName","has_interest",1,"example-margin"],["has_interest",""],[1,"col-md-9"],["type","number","step","0.1","id","interest_rate","formControlName","interest_rate","class","form-control",4,"ngIf"],["errorMsg","Interest Rate is rquired.",3,"displayError"],["formControlName","financier_id","id","financier_id","optionLabel","title","optionValue","id","styleClass","form-control","placeholder","Select Institution","emptyMessage","No Institution Available",3,"options"],["errorMsg","Financial Institution is rquired.",3,"displayError"],[1,"d-flex","justify-content-between"],[1,"d-flex"],["name","monthly_payment","formControlName","monthly_payment","inputId","status1",3,"binary"],["for","status1",1,"radio-label"],["name","quarterly_payment","formControlName","quarterly_payment","inputId","status2",3,"binary"],["for","status2",1,"radio-label"],["name","half_yearly_payment","formControlName","half_yearly_payment","inputId","status3",3,"binary"],["for","status3",1,"radio-label"],["type","number","formControlName","min_payment_amount",1,"form-control",3,"readonly"],[1,"col-md-6"],["for","booking-reason",1,"col-md-8","col-form-label"],[1,"example-margin"],["min_payment",""],["for","booking-reason",1,"col-md-4","col-form-label"],[1,"col-md-8"],["formControlName","currency_code","optionLabel","currency_code","optionValue","id","styleClass","form-control","placeholder","$","emptyMessage","No Currency Available",3,"disabled","options"],["min_usage",""],["type","number","formControlName","min_usage",1,"form-control",3,"readonly"],["min_procedure",""],["type","number","formControlName","procedure_per_month",1,"form-control",3,"readonly"],["id","required_tenure","formControlName","required_tenure"],["errorMsg","Tenure is rquired.",3,"displayError"],["formControlName","agreement_mandatory",1,"example-margin"],["formControlName","required_docs","data-lpignore","true","rows","9",1,"form-control"],[1,"col-sm-12","col-md-12","form-group"],[3,"formGroup"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","FPS SKU Rate"],["id","sku_rate","formArrayName","addRates",1,"table","table-borderless"],["align","center",3,"formGroupName",4,"ngFor","ngForOf"],["align","center"],["colspan","9","align","center",1,"td-actions"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"icon-plus","icons"],[1,"custom-footer","d-flex","justify-content-center"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],["type","submit","form","skuAddForm",1,"btn","btn-sm","btn-primary"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","number","step","0.1","id","interest_rate","formControlName","interest_rate",1,"form-control"],["align","center",3,"formGroupName"],[2,"width","15%"],["formControlName","rate_no","size","1","type","number",1,"form-control"],["formControlName","validity_start_at","type","date","min","0",1,"form-control"],[2,"width","10%"],["formControlName","validity_end_at","type","date","min","0","step",".01",1,"form-control"],[2,"width","20%"],["formControlName","status","optionLabel","title","optionValue","id","styleClass","form-control","emptyMessage","No Status Available",3,"options"],["formControlName","rate_type","optionLabel","label","optionValue","value","styleClass","form-control",3,"options"],[1,"td-actions",2,"width","10%"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"fa","fa-edit"],[1,"fa","fa-trash"]],template:function(t,e){if(1&t&&(W.Wb(0,"div",0),W.Wb(1,"div",1,2),W.Wb(3,"div",3),W.Wb(4,"div",4),W.Wb(5,"div",5),W.Wb(6,"div",6),W.Wb(7,"h2"),W.Pc(8,"Create FPS SKU Management"),W.Vb(),W.Vb(),W.Rb(9,"hr"),W.Wb(10,"form",7),W.gc("ngSubmit",function(){return e.onSave()}),W.Wb(11,"div",8),W.Wb(12,"label",9),W.Pc(13," FPS SKU No "),W.Wb(14,"span",10),W.Pc(15," * "),W.Vb(),W.Vb(),W.Wb(16,"div",11),W.Rb(17,"input",12),W.Rb(18,"app-form-error-presentation",13),W.Vb(),W.Wb(19,"label",9),W.Pc(20," Validity Start Date"),W.Wb(21,"span",10),W.Pc(22," * "),W.Vb(),W.Vb(),W.Wb(23,"div",11),W.Rb(24,"p-calendar",14),W.Vb(),W.Vb(),W.Wb(25,"div",8),W.Wb(26,"label",9),W.Pc(27," FPS Type "),W.Wb(28,"span",10),W.Pc(29," * "),W.Vb(),W.Vb(),W.Wb(30,"div",11),W.Rb(31,"p-dropdown",15),W.Rb(32,"app-form-error-presentation",16),W.Vb(),W.Wb(33,"label",9),W.Pc(34," Validity End Date "),W.Vb(),W.Wb(35,"div",11),W.Rb(36,"p-calendar",17),W.Vb(),W.Vb(),W.Wb(37,"div",8),W.Wb(38,"label",9),W.Pc(39," Country"),W.Wb(40,"span",10),W.Pc(41," * "),W.Vb(),W.Vb(),W.Wb(42,"div",11),W.Rb(43,"p-dropdown",18),W.Rb(44,"app-form-error-presentation",19),W.Vb(),W.Wb(45,"label",9),W.Pc(46," Interest "),W.Vb(),W.Wb(47,"div",11),W.Wb(48,"div",8),W.Wb(49,"div",20),W.Rb(50,"mat-slide-toggle",21,22),W.Vb(),W.Wb(52,"div",23),W.Nc(53,rt,1,0,"input",24),W.Rb(54,"app-form-error-presentation",25),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(55,"div",8),W.Wb(56,"label",9),W.Pc(57," Financial Instititue"),W.Wb(58,"span",10),W.Pc(59," * "),W.Vb(),W.Vb(),W.Wb(60,"div",11),W.Rb(61,"p-dropdown",26),W.Rb(62,"app-form-error-presentation",27),W.Vb(),W.Vb(),W.Wb(63,"div",8),W.Wb(64,"label",9),W.Pc(65," Payment Frequency "),W.Vb(),W.Wb(66,"div",11),W.Wb(67,"div",28),W.Wb(68,"div",29),W.Rb(69,"p-checkbox",30),W.Wb(70,"label",31),W.Pc(71,"Monthly"),W.Vb(),W.Vb(),W.Wb(72,"div",29),W.Rb(73,"p-checkbox",32),W.Wb(74,"label",33),W.Pc(75,"Quarterly"),W.Vb(),W.Vb(),W.Wb(76,"div",29),W.Rb(77,"p-checkbox",34),W.Wb(78,"label",35),W.Pc(79,"Half-Yearly"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(80,"label",9),W.Pc(81," Mininumum Payment Amount "),W.Vb(),W.Wb(82,"div",11),W.Rb(83,"input",36),W.Vb(),W.Vb(),W.Wb(84,"div",8),W.Wb(85,"div",37),W.Wb(86,"div",8),W.Wb(87,"label",38),W.Pc(88," Mininumum Payment Amount "),W.Vb(),W.Wb(89,"div",11),W.Rb(90,"mat-slide-toggle",39,40),W.Vb(),W.Vb(),W.Vb(),W.Wb(92,"div",37),W.Wb(93,"div",8),W.Wb(94,"label",41),W.Pc(95," Min Payment Amount Currency "),W.Vb(),W.Wb(96,"div",42),W.Rb(97,"p-dropdown",43),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(98,"div",8),W.Wb(99,"div",37),W.Wb(100,"div",8),W.Wb(101,"label",38),W.Pc(102," Minimum Usage"),W.Wb(103,"span",10),W.Pc(104," * "),W.Vb(),W.Vb(),W.Wb(105,"div",11),W.Rb(106,"mat-slide-toggle",39,44),W.Vb(),W.Vb(),W.Vb(),W.Wb(108,"label",9),W.Pc(109," Minimum Usage"),W.Wb(110,"span",10),W.Pc(111," * "),W.Vb(),W.Vb(),W.Wb(112,"div",11),W.Rb(113,"input",45),W.Vb(),W.Vb(),W.Wb(114,"div",8),W.Wb(115,"div",37),W.Wb(116,"div",8),W.Wb(117,"label",38),W.Pc(118," Procedure Per Month"),W.Wb(119,"span",10),W.Pc(120," * "),W.Vb(),W.Vb(),W.Wb(121,"div",11),W.Rb(122,"mat-slide-toggle",39,46),W.Vb(),W.Vb(),W.Vb(),W.Wb(124,"label",9),W.Pc(125," Minimum Procedure"),W.Wb(126,"span",10),W.Pc(127," * "),W.Vb(),W.Vb(),W.Wb(128,"div",11),W.Rb(129,"input",47),W.Vb(),W.Vb(),W.Wb(130,"div",8),W.Wb(131,"div",37),W.Wb(132,"div",8),W.Wb(133,"label",38),W.Pc(134," Consumable Usage"),W.Wb(135,"span",10),W.Pc(136," * "),W.Vb(),W.Vb(),W.Wb(137,"div",11),W.Rb(138,"mat-slide-toggle",39,44),W.Vb(),W.Vb(),W.Vb(),W.Wb(140,"label",9),W.Pc(141," Required Tenure"),W.Wb(142,"span",10),W.Pc(143," * "),W.Vb(),W.Vb(),W.Wb(144,"div",11),W.Rb(145,"p-inputNumber",48),W.Rb(146,"app-form-error-presentation",49),W.Vb(),W.Vb(),W.Wb(147,"div",8),W.Wb(148,"div",37),W.Wb(149,"div",8),W.Wb(150,"label",38),W.Pc(151," Agreement Number Mandatory"),W.Wb(152,"span",10),W.Pc(153," * "),W.Vb(),W.Vb(),W.Wb(154,"div",11),W.Rb(155,"mat-slide-toggle",50),W.Vb(),W.Vb(),W.Vb(),W.Wb(156,"label",9),W.Pc(157," List of Document Required "),W.Vb(),W.Wb(158,"div",11),W.Rb(159,"textarea",51),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Rb(160,"br"),W.Wb(161,"div",52),W.Wb(162,"form",53),W.Wb(163,"p-accordion",54),W.Wb(164,"p-accordionTab",55),W.Wb(165,"div",1),W.Wb(166,"table",56),W.Wb(167,"thead"),W.Wb(168,"tr"),W.Wb(169,"th"),W.Pc(170,"Rate No"),W.Vb(),W.Wb(171,"th"),W.Pc(172,"Validity Start Date"),W.Vb(),W.Wb(173,"th"),W.Pc(174,"Validity End Date"),W.Vb(),W.Wb(175,"th"),W.Pc(176,"Status"),W.Vb(),W.Wb(177,"th"),W.Pc(178,"Type"),W.Vb(),W.Rb(179,"th"),W.Vb(),W.Vb(),W.Wb(180,"tbody"),W.Nc(181,it,17,3,"tr",57),W.Vb(),W.Wb(182,"tfoot",58),W.Wb(183,"tr"),W.Wb(184,"td",59),W.Wb(185,"a",60),W.gc("click",function(){return e.addAddRates()}),W.Rb(186,"i",61),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(187,"div",52),W.Wb(188,"div",62),W.Wb(189,"button",63),W.gc("click",function(){return e.cancelSkuForm()}),W.Pc(190," CANCEL"),W.Vb(),W.Wb(191,"button",64),W.Pc(192,"Save"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(193,"div",65,66),W.Wb(195,"div",67),W.Wb(196,"div",68),W.Wb(197,"div",69),W.Wb(198,"h4",70),W.Pc(199,"Success"),W.Vb(),W.Vb(),W.Wb(200,"div",71),W.Wb(201,"p"),W.Pc(202),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Wb(203,"div",72,73),W.Wb(205,"div",74),W.Wb(206,"div",68),W.Wb(207,"div",69),W.Wb(208,"h4",70),W.Pc(209,"Error"),W.Vb(),W.Vb(),W.Wb(210,"div",71),W.Wb(211,"p"),W.Pc(212),W.Vb(),W.Vb(),W.Rb(213,"div",75),W.Vb(),W.Vb(),W.Vb()),2&t){var o=W.Dc(51),n=W.Dc(91),r=W.Dc(107),i=W.Dc(123);W.Db(10),W.rc("formGroup",e.skuAddForm),W.Db(7),W.rc("readonly",!0),W.Db(1),W.rc("displayError",e.isFieldValid("uuid")),W.Db(6),W.rc("showTime",!1),W.Db(7),W.rc("options",e.fpsTypeList),W.Db(1),W.rc("displayError",e.isFieldValid("package_type_id")),W.Db(4),W.rc("showTime",!1),W.Db(7),W.rc("options",e.countryList),W.Db(1),W.rc("displayError",e.isFieldValid("country_code")),W.Db(9),W.rc("ngIf",o.checked),W.Db(1),W.rc("displayError",e.isFieldValid("interest_rate")),W.Db(7),W.rc("options",e.institutions_list),W.Db(1),W.rc("displayError",e.isFieldValid("financier_id")),W.Db(7),W.rc("binary",!0),W.Db(4),W.rc("binary",!0),W.Db(4),W.rc("binary",!0),W.Db(6),W.rc("readonly",!n.checked),W.Db(14),W.rc("disabled",!n.checked)("options",e.currencies_list),W.Db(16),W.rc("readonly",!r.checked),W.Db(16),W.rc("readonly",!i.checked),W.Db(17),W.rc("displayError",e.isFieldValid("required_tenure")),W.Db(16),W.rc("formGroup",e.rateAddForm),W.Db(1),W.rc("multiple",!0),W.Db(18),W.rc("ngForOf",e.addRates().controls),W.Db(21),W.Qc(e.alertBody),W.Db(10),W.Qc(e.alertBody)}},directives:[u.z,u.q,u.j,u.c,u.p,u.h,E,H.a,A.a,f.a,l.p,Y.a,u.u,Z.a,X.a,X.c,u.d,l.o,g.f,g.e,p.a,u.k],styles:["[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{padding:0}[_nghost-%COMP%]     table#sku_rate{width:95%;margin:auto}","opp-opportunity-booking[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{border-radius:0}.card-header[_ngcontent-%COMP%]{background-color:#898485;color:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:24px;font-weight:bolder;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}td[_ngcontent-%COMP%]{text-align:center}  .nav-link.active{background:#2297e6!important;color:#fff!important}  .nav-tabs .nav-link{border:none!important;border-left:1px solid!important}.bg-lightgrey[_ngcontent-%COMP%]{background:#fcfcfc}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{border-top:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], .no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none!important}.no-outline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none!important}.btn-custom[_ngcontent-%COMP%]{background-color:#00538a;border-color:#00538a;color:#fff}.chead[_ngcontent-%COMP%]{font-size:24px;line-height:34px;font-style:normal;font-weight:600}.btn-icon[_ngcontent-%COMP%]{height:2rem;line-height:1rem;padding:0!important;width:2rem;font-size:1.2rem!important;font-weight:700;border-radius:50%;text-align:center}.btn-in-tab[_ngcontent-%COMP%]{position:absolute;right:-3.5rem;height:1.5rem!important;line-height:.75rem;width:1.5rem!important;font-size:.9rem}.btn-white[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.btn-white[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:.2rem}.p-relative[_ngcontent-%COMP%]{position:relative}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-125[_ngcontent-%COMP%]{padding:1.25rem}.b-btm-green[_ngcontent-%COMP%]{border-bottom:3px solid #5dbec0}.bg-opp[_ngcontent-%COMP%]{background-color:#5dbec0}.table-price[_ngcontent-%COMP%]{border-radius:30px}[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-calendar, [_nghost-%COMP%]     .p-inputnumber{width:100%}[_nghost-%COMP%]     p-checkbox+label{display:inline-block;margin-bottom:0;padding-left:5px}[_nghost-%COMP%]     .p-disabled{background-color:#e4e7ea;opacity:1}@media screen and (max-width:960px){[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td{text-align:left;display:block;border:0!important;width:100%!important;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-opportunity .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}"]}),at)},{path:"**",redirectTo:"fps-listing"}],ct=((dt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||dt)},dt.\u0275mod=W.Ob({type:dt}),dt.\u0275inj=W.Nb({imports:[[g.g.forChild(lt)],g.g]}),dt),bt=((st=function e(){t(this,e)}).\u0275fac=function(t){return new(t||st)},st.\u0275mod=W.Ob({type:st}),st.\u0275inj=W.Nb({imports:[[l.c,ct,m.g,u.l,u.v,p.b,b.b,c.a,f.b]]}),st)}}])}();