!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{UvRE:function(t,o,i){"use strict";i.r(o),i.d(o,"userAccessModule",function(){return we});var a=i("SVse"),c=i("s7LF"),r=i("iInd"),l=i("8Y7J"),s=i("c/fn"),d=i("hhfa"),b=i("QGev"),p=i("MEzG"),u=i("xCnN"),g=i("GS7A");function h(e,t){if(1&e&&(l.Wb(0,"span",10),l.Pc(1),l.Vb()),2&e){var n=l.kc(2);l.Eb("id",n.id+"_header"),l.Db(1),l.Qc(n.header)}}function f(e,t){1&e&&l.Sb(0)}function m(e,t){}function v(e,t){1&e&&l.Nc(0,m,0,0,"ng-template")}function V(e,t){if(1&e){var n=l.Xb();l.Wb(0,"button",11),l.gc("click",function(e){return l.Fc(n),l.kc(2).onIconClick(e)})("keydown.enter",function(e){return l.Fc(n),l.kc(2).onIconClick(e)}),l.Rb(1,"span"),l.Vb()}if(2&e){var o=l.kc(2);l.Eb("id",o.id+"-label")("aria-controls",o.id+"-content")("aria-expanded",!o.collapsed),l.Db(1),l.Fb(o.collapsed?o.expandIcon:o.collapseIcon)}}function W(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",6),l.gc("click",function(e){return l.Fc(n),l.kc().onHeaderClick(e)}),l.Nc(1,h,2,2,"span",7),l.pc(2,1),l.Nc(3,f,1,0,"ng-container",4),l.Wb(4,"div",8),l.Nc(5,v,1,0,void 0,4),l.Nc(6,V,2,5,"button",9),l.Vb(),l.Vb()}if(2&e){var o=l.kc();l.Eb("id",o.id+"-titlebar"),l.Db(1),l.rc("ngIf",o.header),l.Db(2),l.rc("ngTemplateOutlet",o.headerTemplate),l.Db(2),l.rc("ngTemplateOutlet",o.iconTemplate),l.Db(1),l.rc("ngIf",o.toggleable)}}function y(e,t){1&e&&l.Sb(0)}function P(e,t){1&e&&l.Sb(0)}function k(e,t){if(1&e&&(l.Wb(0,"div",12),l.pc(1,2),l.Nc(2,P,1,0,"ng-container",4),l.Vb()),2&e){var n=l.kc();l.Db(2),l.rc("ngTemplateOutlet",n.footerTemplate)}}var C,M,x=["*",[["p-header"]],[["p-footer"]]],O=function(e){return{"p-panel p-component":!0,"p-panel-toggleable":e}},w=function(e){return{transitionParams:e,height:"0",opacity:"0"}},_=function(e){return{value:"hidden",params:e}},D=function(e){return{transitionParams:e,height:"*",opacity:"1"}},R=function(e){return{value:"visible",params:e}},A=["*","p-header","p-footer"],I=0,S=((M=function(){function t(n){e(this,t),this.el=n,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new l.n,this.onBeforeToggle=new l.n,this.onAfterToggle=new l.n,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+I++}return n(t,[{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"content":e.contentTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"icons":e.iconTemplate=t.template;break;default:e.contentTemplate=t.template}})}},{key:"onHeaderClick",value:function(e){"header"===this.toggler&&this.toggle(e)}},{key:"onIconClick",value:function(e){"icon"===this.toggler&&this.toggle(e)}},{key:"toggle",value:function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}},{key:"expand",value:function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}]),t}()).\u0275fac=function(e){return new(e||M)(l.Qb(l.l))},M.\u0275cmp=l.Kb({type:M,selectors:[["p-panel"]],contentQueries:function(e,t,n){var o;1&e&&(l.Jb(n,d.d,1),l.Jb(n,d.h,0)),2&e&&(l.Cc(o=l.hc())&&(t.footerFacet=o.first),l.Cc(o=l.hc())&&(t.templates=o))},inputs:{collapsed:"collapsed",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions",toggleable:"toggleable",header:"header",style:"style",styleClass:"styleClass"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:A,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,t){1&e&&(l.qc(x),l.Wb(0,"div",0),l.Nc(1,W,7,5,"div",1),l.Wb(2,"div",2),l.gc("@panelContent.done",function(e){return t.onToggleDone(e)}),l.Wb(3,"div",3),l.pc(4),l.Nc(5,y,1,0,"ng-container",4),l.Vb(),l.Nc(6,k,3,1,"div",5),l.Vb(),l.Vb()),2&e&&(l.Fb(t.styleClass),l.rc("ngClass",l.vc(12,O,t.toggleable))("ngStyle",t.style),l.Eb("id",t.id),l.Db(1),l.rc("ngIf",t.showHeader),l.Db(1),l.rc("@panelContent",t.collapsed?l.vc(16,_,l.vc(14,w,t.animating?t.transitionOptions:"0ms")):l.vc(20,R,l.vc(18,D,t.animating?t.transitionOptions:"0ms"))),l.Eb("id",t.id+"-content")("aria-hidden",t.collapsed)("aria-labelledby",t.id+"-titlebar"),l.Db(3),l.rc("ngTemplateOutlet",t.contentTemplate),l.Db(1),l.rc("ngIf",t.footerFacet||t.footerTemplate))},directives:[a.n,a.q,a.p,a.u,u.a],styles:[".p-panel-header{align-items:center;display:flex;justify-content:space-between}.p-panel-title{line-height:1}.p-panel-header-icon{align-items:center;cursor:pointer;display:inline-flex;justify-content:center;overflow:hidden;position:relative;text-decoration:none}"],encapsulation:2,data:{animation:[Object(g.j)("panelContent",[Object(g.g)("hidden",Object(g.h)({height:"0",overflow:"hidden"})),Object(g.g)("void",Object(g.h)({height:"{{height}}"}),{params:{height:"0"}}),Object(g.g)("visible",Object(g.h)({height:"*"})),Object(g.i)("visible <=> hidden",[Object(g.h)({overflow:"hidden"}),Object(g.e)("{{transitionParams}}")]),Object(g.i)("void => hidden",Object(g.e)("{{transitionParams}}")),Object(g.i)("void => visible",Object(g.e)("{{transitionParams}}"))])]},changeDetection:0}),M),T=((C=function t(){e(this,t)}).\u0275fac=function(e){return new(e||C)},C.\u0275mod=l.Ob({type:C}),C.\u0275inj=l.Nb({imports:[[a.c,d.i,u.b],d.i]}),C),N=i("ZRSf"),L=i("+yXi");function F(e,t){1&e&&l.Rb(0,"img",24)}function Q(e,t){1&e&&l.Rb(0,"img",25)}function E(e,t){1&e&&(l.Wb(0,"div",26),l.Rb(1,"div"),l.Vb())}function j(e,t){if(1&e&&(l.Wb(0,"div",27),l.Rb(1,"p-checkbox",28),l.Wb(2,"label"),l.Pc(3),l.Vb(),l.Vb()),2&e){var n=t.$implicit;l.Db(1),l.rc("value",n)("inputId",n.key),l.Db(2),l.Qc(n.name)}}function U(e,t){1&e&&(l.Wb(0,"tr"),l.Wb(1,"th",29),l.Pc(2,"Oppertunity"),l.Vb(),l.Wb(3,"th",30),l.Pc(4,"All"),l.Vb(),l.Wb(5,"th",30),l.Pc(6,"Create"),l.Vb(),l.Wb(7,"th",30),l.Pc(8,"Edit"),l.Vb(),l.Wb(9,"th",30),l.Pc(10,"Delete"),l.Vb(),l.Wb(11,"th",30),l.Pc(12,"Approved"),l.Vb(),l.Vb())}function G(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",31),l.Pc(2),l.Vb(),l.Wb(3,"td",32),l.Rb(4,"p-tableCheckbox",33),l.Vb(),l.Wb(5,"td",32),l.Rb(6,"p-tableCheckbox",33),l.Vb(),l.Wb(7,"td",32),l.Rb(8,"p-tableCheckbox",33),l.Vb(),l.Wb(9,"td",32),l.Rb(10,"p-tableCheckbox",33),l.Vb(),l.Wb(11,"td",32),l.Rb(12,"p-tableCheckbox",33),l.Vb(),l.Vb()),2&e){var n=t.$implicit;l.Db(2),l.Qc(n.name),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n)}}function B(e,t){1&e&&(l.Wb(0,"tr"),l.Wb(1,"th",29),l.Pc(2,"Quotes"),l.Vb(),l.Wb(3,"th",30),l.Pc(4,"All"),l.Vb(),l.Wb(5,"th",30),l.Pc(6,"Create"),l.Vb(),l.Wb(7,"th",30),l.Pc(8,"Edit"),l.Vb(),l.Wb(9,"th",30),l.Pc(10,"Delete"),l.Vb(),l.Wb(11,"th",30),l.Pc(12,"Approved"),l.Vb(),l.Vb())}function q(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",31),l.Pc(2),l.Vb(),l.Wb(3,"td",32),l.Rb(4,"p-tableCheckbox",33),l.Vb(),l.Wb(5,"td",32),l.Rb(6,"p-tableCheckbox",33),l.Vb(),l.Wb(7,"td",32),l.Rb(8,"p-tableCheckbox",33),l.Vb(),l.Wb(9,"td",32),l.Rb(10,"p-tableCheckbox",33),l.Vb(),l.Wb(11,"td",32),l.Rb(12,"p-tableCheckbox",33),l.Vb(),l.Vb()),2&e){var n=t.$implicit;l.Db(2),l.Qc(n.name),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n),l.Db(2),l.rc("value",n)}}function z(e,t){1&e&&(l.Wb(0,"tr"),l.Wb(1,"th",29),l.Pc(2,"DMS"),l.Vb(),l.Wb(3,"th",30),l.Pc(4,"All"),l.Vb(),l.Wb(5,"th",30),l.Pc(6,"Create"),l.Vb(),l.Wb(7,"th",30),l.Pc(8,"Edit"),l.Vb(),l.Wb(9,"th",30),l.Pc(10,"Delete"),l.Vb(),l.Wb(11,"th",30),l.Pc(12,"Approved"),l.Vb(),l.Vb())}function J(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",31),l.Pc(2),l.Vb(),l.Wb(3,"td",32),l.Rb(4,"p-tableCheckbox",33),l.Vb(),l.Vb()),2&e){var n=t.$implicit;l.Db(2),l.Qc(n.name),l.Db(2),l.rc("value",n)}}var $,X=function(){return{width:"100%"}},H=(($=function(){function t(){e(this,t),this.leadValue=[{name:"Read",key:"read"},{name:"Create",key:"create"},{name:"Bulk Import",key:"bulk_import"},{name:"Edit/ Update",key:"edit/update"},{name:"Delete",key:"delete"},{name:"Verify Qualified/ Disqualified",key:"verify_qualified/disqualified"},{name:"Assignment",key:"assignment"},{name:"Transfer",key:"transfer"}],this.oppertunityValue=[{name:"Product",key:"product"},{name:"Dummy SKU",key:"dummy_sku"},{name:"Costing",key:"costing"},{name:"Credit Limit",key:"credit_limit"},{name:"Submission",key:"submission"},{name:"Oppertunity",key:"oppertunity"}],this.QuoteValues=[{name:"Quote Listing",key:"quote_listing"},{name:"Product",key:"product"},{name:"Revision",key:"revision"},{name:"Billing Milestone",key:"billing_Milestone"},{name:"Payment Schedule",key:"payemnt_schedule"},{name:"Confirmation",key:"confirmation"},{name:"Discount & Exceptional Pricing",key:"discount_and_exception_pricing"}],this.DMS=[],this.cities=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||$)},$.\u0275cmp=l.Kb({type:$,selectors:[["app-add-user-access"]],decls:54,vars:15,consts:[[1,"animated","fadeIn"],[1,"col-md-12"],[1,"row","header","pt-3","pb-3"],[1,"col-lg-10","mr-5"],[1,"header-icon"],[1,"title","text-dark"],[1,"top-btn"],["styleClass","p-px-3"],["pTemplate","content"],[1,"card-header","row",2,"background-color","#f6f6f6"],[1,"pi","pi-pencil"],[1,"ml-2"],[1,"row","mt-4"],[1,"col-md-2","mt-2"],[1,"col-md-10"],["field","name",3,"dropdown","inputStyle"],["optionLabel","name","optionValue","code","display","chip",3,"options","ngModel","ngModelChange"],["header","Lead"],["class","p-field-checkbox check-field",4,"ngFor","ngForOf"],["styleClass","p-datatable-gridlines",3,"value"],["dt2",""],["pTemplate","header"],["pTemplate","body"],[1,"row","mt-4","mb-4"],["src","../../../../assets/img/icons/save.svg","alt","",2,"width","15px"],["src","../../../../assets/img/icons/back-arrow.svg","alt","",2,"width","17px"],[1,"product-item"],[1,"p-field-checkbox","check-field"],["name","group2",3,"value","inputId"],["width","133%"],["width","20%",1,"text-center"],[1,"table-text"],[1,"text-center"],[3,"value"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"form"),l.Wb(2,"div",1),l.Wb(3,"div",2),l.Wb(4,"div",3),l.Wb(5,"span",4),l.Wb(6,"h3",5),l.Wb(7,"b"),l.Pc(8,"User Access Setup"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(9,"div",6),l.Wb(10,"p-button",7),l.Nc(11,F,1,0,"ng-template",8),l.Vb(),l.Wb(12,"p-button",7),l.Nc(13,Q,1,0,"ng-template",8),l.Vb(),l.Vb(),l.Vb(),l.Wb(14,"div",9),l.Rb(15,"i",10),l.Wb(16,"span",11),l.Wb(17,"b"),l.Pc(18,"Add User Access"),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"div",12),l.Wb(20,"div",13),l.Wb(21,"label"),l.Pc(22,"User Access Name:"),l.Vb(),l.Vb(),l.Wb(23,"div",14),l.Wb(24,"p-autoComplete",15),l.Nc(25,E,2,0,"ng-template"),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"div",12),l.Wb(27,"div",13),l.Wb(28,"label"),l.Pc(29,"Unit Name:"),l.Vb(),l.Vb(),l.Wb(30,"div",14),l.Wb(31,"p-multiSelect",16),l.gc("ngModelChange",function(e){return t.selectedCities=e}),l.Vb(),l.Vb(),l.Vb(),l.Wb(32,"div",12),l.Wb(33,"div",1),l.Wb(34,"p-panel",17),l.Nc(35,j,4,3,"div",18),l.Vb(),l.Vb(),l.Vb(),l.Wb(36,"div",12),l.Wb(37,"div",1),l.Wb(38,"p-table",19,20),l.Nc(40,U,13,0,"ng-template",21),l.Nc(41,G,13,6,"ng-template",22),l.Vb(),l.Vb(),l.Vb(),l.Wb(42,"div",12),l.Wb(43,"div",1),l.Wb(44,"p-table",19,20),l.Nc(46,B,13,0,"ng-template",21),l.Nc(47,q,13,6,"ng-template",22),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"div",23),l.Wb(49,"div",1),l.Wb(50,"p-table",19,20),l.Nc(52,z,13,0,"ng-template",21),l.Nc(53,J,5,2,"ng-template",22),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(24),l.Jc(l.uc(12,X)),l.rc("dropdown",!0)("inputStyle",l.uc(13,X)),l.Db(7),l.Jc(l.uc(14,X)),l.rc("options",t.cities)("ngModel",t.selectedCities),l.Db(4),l.rc("ngForOf",t.leadValue),l.Db(3),l.rc("value",t.oppertunityValue),l.Db(6),l.rc("value",t.QuoteValues),l.Db(6),l.rc("value",t.DMS))},directives:[c.z,c.q,c.r,s.a,d.h,b.a,p.a,c.p,c.s,S,a.o,N.f,L.a,N.g],styles:[".card-header[_ngcontent-%COMP%]{border:none}.card-header[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:0}.top-btn[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-auto-rows:auto}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:left;color:#000;margin-right:15px;font-size:1.5rem}.header-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}.check-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;margin:10px}.check-field[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{padding-right:10px;padding-left:30px}.check-field[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%], .table-text[_ngcontent-%COMP%]{font-size:16px;font-family:Lato;font-weight:600}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:16px;font-weight:600;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{background:#f8f9fa}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#f8f9fa}"]}),$),K=i("alOh"),Y=i("gtx6"),Z=i("LqlI"),ee=["successModal"],te=["dangerModal"];function ne(e,t){1&e&&l.Rb(0,"img",39)}function oe(e,t){1&e&&(l.Wb(0,"tr"),l.Wb(1,"th",40),l.Pc(2,"All Permissions"),l.Vb(),l.Wb(3,"th",41),l.Pc(4,"Check"),l.Vb(),l.Vb())}function ie(e,t){if(1&e){var n=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td",42),l.Pc(2),l.Vb(),l.Wb(3,"td",43),l.Wb(4,"p-checkbox",44),l.gc("ngModelChange",function(e){return l.Fc(n),l.kc().selectedRolePermission=e})("onChange",function(e){l.Fc(n);var o=t.$implicit;return l.kc().updatePermissionArray(e,o)}),l.Vb(),l.Vb(),l.Vb()}if(2&e){var o=t.$implicit,i=l.kc();l.Db(2),l.Qc(o.name),l.Db(2),l.rc("value",o)("ngModel",i.selectedRolePermission)("inputId",o.key)}}var ae,ce=function(){return["name"]},re=function(){return{showAll:"All"}},le=function(e){return[e,10,25,50]},se=((ae=function(){function t(n,o,i){e(this,t),this.systemAdminSerive=n,this.route=o,this.router=i,this.permissionValue=[{name:"Read",key:"read",check:!0},{name:"Create",key:"create",check:!0},{name:"Bulk Import",key:"bulk_import",check:!0},{name:"Edit/ Update",key:"edit/update",check:!0},{name:"Delete",key:"delete",check:!1},{name:"Verify Qualified/ Disqualified",key:"verify_qualified/disqualified",check:!1},{name:"Assignment",key:"assignment",check:!1},{name:"Transfer",key:"transfer",check:!1}],this.selectedRolePermission=[],this.rolePermissionsList=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){e.roleId=t.roleId,e.getRoleDetail(e.roleId)})}},{key:"getRoleDetail",value:function(e){var t=this;this.systemAdminSerive.getQuery("/role/"+e+"/edit").subscribe(function(e){console.log("Roles-detail:",e),t.roleDetail=e.data,t.rolePermissionsList=e.data.role_permissions,t.selectedRolePermission=t.rolePermissionsList.filter(function(e){return e.assigned}),console.log("rolePermissionsList:",t.rolePermissionsList)})}},{key:"updateRolePermission",value:function(){var e=this;this.systemAdminSerive.putQuery("/role/"+this.roleId,{slugs:this.rolePermissionsList}).subscribe(function(t){console.log("update-res:",t),e.alertBody=t.message,e.successModal.show(),setTimeout(function(){e.successModal.hide()},2e3)},function(t){console.log("error:",t),e.alertBody=t.error.message,e.dangerModal.show(),setTimeout(function(){e.dangerModal.hide()},2e3)})}},{key:"updatePermissionArray",value:function(e,t){t.assigned=e.checked,this.rolePermissionsList.forEach(function(e){console.log("value:",e),e.id==t.id&&(e.assigned=t.assigned)}),console.log("edit:--\x3e",this.rolePermissionsList)}}]),t}()).\u0275fac=function(e){return new(e||ae)(l.Qb(K.a),l.Qb(r.a),l.Qb(r.c))},ae.\u0275cmp=l.Kb({type:ae,selectors:[["app-edit-role"]],viewQuery:function(e,t){var n;1&e&&(l.Uc(ee,1),l.Uc(te,1)),2&e&&(l.Cc(n=l.hc())&&(t.successModal=n.first),l.Cc(n=l.hc())&&(t.dangerModal=n.first))},decls:58,vars:13,consts:[[1,"animated","fadeIn"],[1,"col-md-12"],[1,"row","header","pt-3","pb-3"],[1,"col-lg-10","mr-5"],[1,"header-icon"],[1,"title","text-dark"],[1,"top-btn"],["styleClass","p-button-outlined",1,"back-p-btn"],["pTemplate","content"],[1,"card-header","row",2,"background-color","#f6f6f6"],[1,"pi","pi-pencil"],[1,"ml-2"],[1,"row","mt-4"],[1,"col-md-2","mt-2"],[1,"col-md-10"],["type","text","disabled","","pInputText","",1,"read-only",2,"width","100%",3,"value"],[1,"row","mt-5"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","id","search-input","placeholder","Search...",1,"form-control","ds-input",2,"position","relative","vertical-align","top",3,"input"],[1,"row"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","globalFilterFields","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"action-btn"],["type","button",1,"btn","btn-outline-primary","cancel-btn"],["type","button",1,"btn","btn-primary","save-btn",3,"click"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],["src","../../../../assets/img/icons/back-arrow.svg","alt","",2,"width","17px"],["width","100%"],["width","15%",1,"text-center"],[1,"table-text"],[1,"text-center"],["name","group2",3,"value","ngModel","inputId","ngModelChange","onChange"]],template:function(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"span",4),l.Wb(5,"h3",5),l.Wb(6,"b"),l.Pc(7,"User Access Setup"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(8,"div",6),l.Wb(9,"p-button",7),l.Nc(10,ne,1,0,"ng-template",8),l.Vb(),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Rb(12,"i",10),l.Wb(13,"span",11),l.Wb(14,"b"),l.Pc(15,"Add User Access"),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"div",12),l.Wb(17,"div",13),l.Wb(18,"label"),l.Pc(19,"User Access Name:"),l.Vb(),l.Vb(),l.Wb(20,"div",14),l.Rb(21,"input",15),l.Vb(),l.Vb(),l.Wb(22,"div",16),l.Wb(23,"div",17),l.Wb(24,"div",18),l.Rb(25,"span",19),l.Wb(26,"input",20),l.gc("input",function(e){return l.Fc(n),l.Dc(30).filterGlobal(e.target.value,"contains")}),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(27,"div",21),l.Wb(28,"div",1),l.Wb(29,"p-table",22,23),l.Nc(31,oe,5,0,"ng-template",24),l.Nc(32,ie,5,4,"ng-template",25),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(33,"div",26),l.Wb(34,"button",27),l.Pc(35," CANCEL "),l.Vb(),l.Wb(36,"button",28),l.gc("click",function(){return t.updateRolePermission()}),l.Pc(37," SAVE "),l.Vb(),l.Vb(),l.Vb(),l.Wb(38,"div",29,30),l.Wb(40,"div",31),l.Wb(41,"div",32),l.Wb(42,"div",33),l.Wb(43,"h4",34),l.Pc(44,"Success"),l.Vb(),l.Vb(),l.Wb(45,"div",35),l.Wb(46,"p"),l.Pc(47),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"div",36,37),l.Wb(50,"div",38),l.Wb(51,"div",32),l.Wb(52,"div",33),l.Wb(53,"h4",34),l.Pc(54,"Error"),l.Vb(),l.Vb(),l.Wb(55,"div",35),l.Wb(56,"p"),l.Pc(57),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}2&e&&(l.Db(21),l.rc("value",null==t.roleDetail?null:t.roleDetail.name),l.Db(8),l.rc("value",t.rolePermissionsList)("globalFilterFields",l.uc(9,ce))("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",l.vc(11,le,l.uc(10,re))),l.Db(18),l.Qc(t.alertBody),l.Db(10),l.Qc(t.alertBody))},directives:[s.a,d.h,Y.a,N.f,Z.a,L.a,c.p,c.s],styles:[".card-header[_ngcontent-%COMP%]{border:none}.card-header[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:0}.top-btn[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:10px;grid-auto-rows:auto}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:left;color:#000;margin-right:15px;font-size:1.5rem}.header-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}.check-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;margin:10px}.check-field[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{padding-right:10px;padding-left:30px}.check-field[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%], .table-text[_ngcontent-%COMP%]{font-size:16px;font-family:Lato;font-weight:600}.action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:50px;margin-bottom:50px}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px}.action-btn[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{margin-right:10px}.read-only[_ngcontent-%COMP%]:disabled{color:rgba(0,0,0,.87);background:#e0e0e0}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{font-size:16px;font-weight:600;background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header span.pi{margin-top:-8px;position:absolute;right:.5em;top:50%}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#fff}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-content{padding:0;overflow-x:hidden}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header{background:#f8f9fa}[_nghost-%COMP%]     .customColor.p-accordion .p-accordion-header .p-accordion-header-link{background:#f8f9fa}"]}),ae),de=["addRoleModel"],be=["successModal"],pe=["dangerModal"];function ue(e,t){1&e&&(l.Wb(0,"tr"),l.Wb(1,"th",41),l.Pc(2,"User Group Name"),l.Vb(),l.Wb(3,"th",42),l.Pc(4,"Status"),l.Vb(),l.Wb(5,"th",42),l.Pc(6,"Creaed Date"),l.Vb(),l.Wb(7,"th",43),l.Pc(8,"Action"),l.Vb(),l.Vb())}function ge(e,t){if(1&e&&(l.Wb(0,"div"),l.Pc(1),l.Vb()),2&e){var n=l.kc().$implicit;l.Db(1),l.Rc(" ",n.status," ")}}function he(e,t){1&e&&(l.Wb(0,"div"),l.Pc(1,"_"),l.Vb())}function fe(e,t){if(1&e&&(l.Wb(0,"div"),l.Pc(1),l.lc(2,"date"),l.Vb()),2&e){var n=l.kc().$implicit;l.Db(1),l.Rc(" ",l.nc(2,1,n.created_at,"dd-MMM-yyyy")," ")}}function me(e,t){1&e&&(l.Wb(0,"div"),l.Pc(1,"_"),l.Vb())}function ve(e,t){if(1&e){var n=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td"),l.Pc(2),l.Vb(),l.Wb(3,"td",44),l.Nc(4,ge,2,1,"div",45),l.Nc(5,he,2,0,"div",45),l.Vb(),l.Wb(6,"td",44),l.Nc(7,fe,3,4,"div",45),l.Nc(8,me,2,0,"div",45),l.Vb(),l.Wb(9,"td",44),l.Wb(10,"a",46),l.gc("click",function(){l.Fc(n);var e=t.$implicit;return l.kc().editRole(e.id)}),l.Rb(11,"i",47),l.Vb(),l.Vb(),l.Vb()}if(2&e){var o=t.$implicit;l.Db(2),l.Qc(o.name),l.Db(2),l.rc("ngIf",o.status),l.Db(1),l.rc("ngIf",!o.status),l.Db(2),l.rc("ngIf",o.created_at),l.Db(1),l.rc("ngIf",!o.created_at)}}var Ve,We,ye,Pe=function(){return["name","status","created_at"]},ke=function(){return{showAll:"All"}},Ce=function(e){return[e,10,25,50]},Me=[{path:"useraccess",redirectTo:"useraccess/user-access-setup",pathMatch:"full"},{path:"user-access-setup",component:(Ve=function(){function t(n,o){e(this,t),this.systemAdminSerive=n,this.router=o,this.userGroupList=[],this.userRoleList=[],this.first=0,this.rows=10,this.searchInput="",this.roleName="",this.alertBody="",this.selectedRole=[],this.selectAllRoleList=[]}return n(t,[{key:"ngOnInit",value:function(){this.getListOfRolePermission()}},{key:"getListOfRolePermission",value:function(){var e=this;this.systemAdminSerive.getQuery("/role").subscribe(function(t){console.log("permission-role-data:",t),e.userRoleList=t.data})}},{key:"addRole",value:function(){var e=this;this.addRoleModel.hide(),this.systemAdminSerive.postQuery("/role",{name:this.roleName}).subscribe(function(t){console.log("add-role-res:",t),e.userRoleList.unshift(t.data);var n={queryParams:{roleId:t.data.id}};e.alertBody=t.message,e.successModal.show(),setTimeout(function(){e.successModal.hide(),e.router.navigate(["/useraccess/edit"],n)},2e3)},function(t){e.alertBody=t.error.message,e.dangerModal.show()})}},{key:"editRole",value:function(e){this.router.navigate(["/useraccess/edit"],{queryParams:{roleId:e}})}},{key:"selectData",value:function(e,t){this.dataIsSelected=!0,console.log("Event",e),console.log("user",t)}},{key:"selectAllData",value:function(e,t){console.log("Event",e),console.log("user",t),this.selectedRole=t}},{key:"fetchUserList",value:function(){this.userGroupList=[{userGroup:"FSS Malaysia",status:"Inactive",createdDate:"29-Oct-2021"},{userGroup:"FSS Singapore",status:"Active",createdDate:"17-Jul-2021"},{userGroup:"FSS Vietnam",status:"Active",createdDate:"17-Jul-2021"},{userGroup:"FSS Thailand",status:"Active",createdDate:"17-Jul-2021"},{userGroup:"FSS Malaysia",status:"Active",createdDate:"17-Jul-2021"},{userGroup:"FSS Indonesia",status:"Active",createdDate:"17-Jul-2021"}]}},{key:"next",value:function(){this.first=this.first+this.rows}},{key:"prev",value:function(){this.first=this.first-this.rows}},{key:"reset",value:function(){this.first=0}},{key:"isLastPage",value:function(){return!this.userGroupList||this.first===this.userGroupList.length-this.rows}},{key:"isFirstPage",value:function(){return!this.userGroupList||0===this.first}}]),t}(),Ve.\u0275fac=function(e){return new(e||Ve)(l.Qb(K.a),l.Qb(r.c))},Ve.\u0275cmp=l.Kb({type:Ve,selectors:[["app-user-access-setup"]],viewQuery:function(e,t){var n;1&e&&(l.Uc(de,1),l.Uc(be,1),l.Uc(pe,1)),2&e&&(l.Cc(n=l.hc())&&(t.addRoleModel=n.first),l.Cc(n=l.hc())&&(t.successModal=n.first),l.Cc(n=l.hc())&&(t.dangerModal=n.first))},decls:67,vars:13,consts:[[1,"animated","fadeIn"],[1,"col-md-12"],[1,"row","header","pt-3","pb-3"],[1,"col-lg-11","col-md-8","col-sm-8"],[1,"header-icon"],[1,"pi","pi-user-plus"],[1,"title","text-dark"],[1,"col-lg-1","col-md-2","col-sm-2"],["href","#"],["type","submit",1,"btn","btn-primary","btn-fill","pull-right","form-control",3,"click"],[1,"pi","pi-plus"],[1,"card-header","row",2,"background-color","#f6f6f6"],[1,"pi","pi-list"],[1,"ml-2"],[1,"pt-3","pb-3"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","id","search-input","placeholder","Search...",1,"form-control","ds-input",2,"position","relative","vertical-align","top",3,"input"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","globalFilterFields","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","body"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["addRoleModel","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"add-role-field"],["type","text","pInputText","",2,"width","100%","height","40px",3,"ngModel","ngModelChange"],[1,"action-btn"],["type","button",1,"btn","btn-outline-primary","cancel-btn",3,"click"],["type","button",1,"btn","btn-primary","save-btn",3,"click"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],["dangerModal","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],["width","40%"],["width","20%",1,"text-center"],["width","15%",1,"text-center"],[1,"text-center"],[4,"ngIf"],["routerLinkActive","router-link-active","title","Edit Record",3,"routerLink","click"],[1,"fa","fa-edit"]],template:function(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",0),l.Wb(1,"form"),l.Wb(2,"div",1),l.Wb(3,"div",2),l.Wb(4,"div",3),l.Wb(5,"span",4),l.Rb(6,"i",5),l.Wb(7,"h3",6),l.Wb(8,"b"),l.Pc(9,"User Access"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(10,"div",7),l.Wb(11,"a",8),l.Wb(12,"button",9),l.gc("click",function(){return l.Fc(n),l.Dc(28).show()}),l.Rb(13,"i",10),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(14,"div",11),l.Rb(15,"i",12),l.Wb(16,"span",13),l.Wb(17,"b"),l.Pc(18,"User Group"),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"div",14),l.Wb(20,"div",15),l.Rb(21,"span",16),l.Wb(22,"input",17),l.gc("input",function(e){return l.Fc(n),l.Dc(24).filterGlobal(e.target.value,"contains")}),l.Vb(),l.Vb(),l.Wb(23,"p-table",18,19),l.Nc(25,ue,9,0,"ng-template",20),l.Nc(26,ve,12,5,"ng-template",21),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(27,"div",22,23),l.Wb(29,"div",24),l.Wb(30,"div",25),l.Wb(31,"div",26),l.Wb(32,"h4",27),l.Pc(33,"Add Role"),l.Vb(),l.Wb(34,"button",28),l.gc("click",function(){return l.Fc(n),l.Dc(28).hide()}),l.Wb(35,"span",29),l.Pc(36,"\xd7"),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"div",30),l.Wb(38,"div",31),l.Wb(39,"label"),l.Pc(40,"Add Role:"),l.Vb(),l.Wb(41,"input",32),l.gc("ngModelChange",function(e){return t.roleName=e}),l.Vb(),l.Vb(),l.Vb(),l.Wb(42,"div",33),l.Wb(43,"button",34),l.gc("click",function(){return l.Fc(n),l.Dc(28).hide()}),l.Pc(44," CANCEL "),l.Vb(),l.Wb(45,"button",35),l.gc("click",function(){return t.addRole()}),l.Pc(46," SAVE "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(47,"div",36,37),l.Wb(49,"div",38),l.Wb(50,"div",25),l.Wb(51,"div",26),l.Wb(52,"h4",27),l.Pc(53,"Success"),l.Vb(),l.Vb(),l.Wb(54,"div",30),l.Wb(55,"p"),l.Pc(56),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(57,"div",22,39),l.Wb(59,"div",40),l.Wb(60,"div",25),l.Wb(61,"div",26),l.Wb(62,"h4",27),l.Pc(63,"Error"),l.Vb(),l.Vb(),l.Wb(64,"div",30),l.Wb(65,"p"),l.Pc(66),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}2&e&&(l.Db(23),l.rc("value",t.userRoleList)("globalFilterFields",l.uc(9,Pe))("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",l.vc(11,Ce,l.uc(10,ke))),l.Db(18),l.rc("ngModel",t.roleName),l.Db(15),l.Qc(t.alertBody),l.Db(10),l.Qc(t.alertBody))},directives:[c.z,c.q,c.r,N.f,d.h,Z.a,c.c,Y.a,c.p,c.s,a.p,r.f,r.e],pipes:[a.f],styles:[".card-header[_ngcontent-%COMP%]{border:none}.header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:left;color:#000;margin-right:15px;font-size:1.5rem}.header-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}.user-access-table[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]{background:none;border:none}.add-role-field[_ngcontent-%COMP%]{display:flex;flex-direction:row}.add-role-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;width:100px;margin:10px;font-weight:600}.action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:50px;margin-bottom:50px}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px}.action-btn[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{margin-right:10px}"]}),Ve),data:{title:"User Access Setup"}},{path:"add-user-access",component:H},{path:"edit",component:se}],xe=((We=function t(){e(this,t)}).\u0275fac=function(e){return new(e||We)},We.\u0275mod=l.Ob({type:We}),We.\u0275inj=l.Nb({imports:[[r.g.forChild(Me)],r.g]}),We),Oe=i("KnEf"),we=((ye=function t(){e(this,t)}).\u0275fac=function(e){return new(e||ye)},ye.\u0275mod=l.Ob({type:ye}),ye.\u0275inj=l.Nb({imports:[[a.c,xe,c.l,c.v,s.c,p.b,L.b,Oe.b,Y.b,T,Z.b,b.b,N.h]]}),ye)}}])}();