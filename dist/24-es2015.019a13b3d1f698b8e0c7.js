(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{akgE:function(t,e,i){"use strict";i.r(e),i.d(e,"UserActivitiesModule",function(){return dt});var a=i("SVse"),c=i("s7LF"),n=i("iInd"),o=i("AytR"),b=i("z6cu"),r=i("vkgz"),d=i("JIr8"),l=i("8Y7J"),s=i("IheW");let p=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=o.b.apiBaseUrl}getActivity(){return this.httpClient.get(this.apiURL+"/activity")}getCumpanyDetails(t){let e=localStorage.getItem("auth-token");return this.httpClient.get(this.apiURL+"/opportunity/get-customer?company_name="+t,{headers:{Authorization:e}}).pipe(Object(r.a)(t=>{}),Object(d.a)(this.errorHandler))}createActivity(t,e){let i=localStorage.getItem("auth-token");return this.httpClient.post(this.apiURL+"/activity/",{customer_id:t,activities:[{subject:"subject",due_date:e.activityDueDate,description:e.activityDesc,type:e.activityType,status:e.activityStatus,completion_date:e.activityCompletionDate,remark:e.activityRemarks,is_open:"1"}]},{headers:{Authorization:i}}).pipe(Object(r.a)(t=>{}),Object(d.a)(this.errorHandler))}updateActivity(t,e){let i={customer_id:1,completion_date:e.activityCompletionDate,description:e.activityDesc,due_date:e.activityDueDate,remark:e.activityRemarks,status:e.activityStatus,activity_type:e.activityType},a=localStorage.getItem("auth-token");return this.httpClient.put(this.apiURL+"/activity/"+t,i,{headers:{Authorization:a}}).pipe(Object(r.a)(t=>{}),Object(d.a)(this.errorHandler))}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(b.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(s.b))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("T7Ec"),y=i("ZRSf"),v=i("hhfa"),m=i("MY3+"),h=i("gtx6");const g=["confirmationExportExcelModal"],f=["columnChooserModal"];function V(t,e){1&t&&(l.Wb(0,"div",7),l.Wb(1,"span",8),l.Qc(2," Activities Listing "),l.Vb(),l.Wb(3,"div",9),l.Wb(4,"a",10),l.Rb(5,"i",11),l.Vb(),l.Vb(),l.Wb(6,"span",12),l.Rb(7,"i",13),l.Rb(8,"input",14),l.Vb(),l.Wb(9,"div"),l.Rb(10,"img",15),l.Rb(11,"img",16),l.Rb(12,"img",17),l.Vb(),l.Vb())}function W(t,e){if(1&t){const t=l.Xb();l.Wb(0,"tr",40),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.lc(9,"date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.lc(12,"date"),l.Vb(),l.Wb(13,"td"),l.Wb(14,"a",41),l.gc("click",function(){l.Fc(t);const i=e.$implicit;return l.kc(2).selectedActivity(i)}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.activity_type," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.Sc(" ",l.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),l.Db(3),l.Sc(" ",l.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}const D=function(){return{width:"5%"}};function x(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",18),l.Wb(2,"div",19),l.Qc(3," Description "),l.Wb(4,"div",20),l.Rb(5,"p-sortIcon",21),l.Rb(6,"p-columnFilter",22),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",23),l.Wb(8,"div",19),l.Qc(9," Type "),l.Wb(10,"div",24),l.Rb(11,"p-sortIcon",25),l.Rb(12,"p-columnFilter",26),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",27),l.Wb(14,"div",19),l.Qc(15," Status "),l.Wb(16,"div",28),l.Rb(17,"p-sortIcon",29),l.Rb(18,"p-columnFilter",30),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",31),l.Wb(20,"div",19),l.Qc(21," Due Date "),l.Wb(22,"div",32),l.Rb(23,"p-sortIcon",33),l.Rb(24,"p-columnFilter",34),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",35),l.Wb(26,"div",19),l.Qc(27," Completion Date "),l.Wb(28,"div",36),l.Rb(29,"p-sortIcon",37),l.Rb(30,"p-columnFilter",38),l.Vb(),l.Vb(),l.Vb(),l.Rb(31,"th"),l.Vb(),l.Oc(32,W,15,11,"tr",39)),2&t){const t=l.kc();l.Db(31),l.Kc(l.uc(3,D)),l.Db(1),l.rc("ngForOf",t.openData)}}function C(t,e){if(1&t&&(l.Wb(0,"td",43),l.Qc(1," No records found "),l.Vb()),2&t){const t=l.kc().$implicit;l.Eb("colspan",t.length)}}function M(t,e){if(1&t&&(l.Wb(0,"tr"),l.Oc(1,C,2,1,"td",42),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t)}}function A(t,e){1&t&&(l.Wb(0,"div",7),l.Wb(1,"span",8),l.Qc(2," Activities Listing "),l.Vb(),l.Wb(3,"div",9),l.Wb(4,"a",44),l.Rb(5,"i",11),l.Vb(),l.Vb(),l.Wb(6,"span",12),l.Rb(7,"i",13),l.Rb(8,"input",14),l.Vb(),l.Wb(9,"div"),l.Rb(10,"img",15),l.Rb(11,"img",16),l.Rb(12,"img",17),l.Vb(),l.Vb())}function Q(t,e){if(1&t){const t=l.Xb();l.Wb(0,"tr",40),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.lc(9,"date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.lc(12,"date"),l.Vb(),l.Wb(13,"td"),l.Wb(14,"a",41),l.gc("click",function(){l.Fc(t);const i=e.$implicit;return l.kc(2).selectedActivity(i)}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.activity_type," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.Sc(" ",l.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),l.Db(3),l.Sc(" ",l.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}function R(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",18),l.Wb(2,"div",19),l.Qc(3," Description "),l.Wb(4,"div",20),l.Rb(5,"p-sortIcon",45),l.Rb(6,"p-columnFilter",46),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",23),l.Wb(8,"div",19),l.Qc(9," Type "),l.Wb(10,"div",24),l.Rb(11,"p-sortIcon",47),l.Rb(12,"p-columnFilter",48),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",27),l.Wb(14,"div",19),l.Qc(15," Status "),l.Wb(16,"div",28),l.Rb(17,"p-sortIcon",49),l.Rb(18,"p-columnFilter",50),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",31),l.Wb(20,"div",19),l.Qc(21," Due Date "),l.Wb(22,"div",32),l.Rb(23,"p-sortIcon",51),l.Rb(24,"p-columnFilter",52),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",35),l.Wb(26,"div",19),l.Qc(27," Completion Date "),l.Wb(28,"div",36),l.Rb(29,"p-sortIcon",53),l.Rb(30,"p-columnFilter",54),l.Vb(),l.Vb(),l.Vb(),l.Rb(31,"th"),l.Vb(),l.Oc(32,Q,15,11,"tr",39)),2&t){const t=l.kc();l.Db(31),l.Kc(l.uc(3,D)),l.Db(1),l.rc("ngForOf",t.closedData)}}function O(t,e){if(1&t&&(l.Wb(0,"td",43),l.Qc(1," No records found "),l.Vb()),2&t){const t=l.kc().$implicit;l.Eb("colspan",t.length)}}function k(t,e){if(1&t&&(l.Wb(0,"tr"),l.Oc(1,O,2,1,"td",42),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t)}}const S=function(){return["quote_id","company","amount","status"]},_=function(){return{showAll:"All"}},w=function(t){return[10,25,50,t]};let I=(()=>{class t{constructor(t){this.userAactivities=t,this.pageItems=200,this.search_text="",this.activitydata=[]}ngOnInit(){this.getActivitydata()}getActivitydata(){this.loading=!0,this.userAactivities.getActivity().subscribe(t=>{this.activitydata=t.data,this.closedData=this.activitydata.filter(function(t){return"CLOSED"==t.status}),this.openData=this.activitydata.filter(function(t){return"CLOSED"!=t.status}),this.loading=!1})}selectedActivity(t){}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(p))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-user-activities"]],viewQuery:function(t,e){if(1&t&&(l.Vc(g,1),l.Vc(f,1)),2&t){let t;l.Cc(t=l.hc())&&(e.confirmationExportExcelModal=t.first),l.Cc(t=l.hc())&&(e.columnChooserModal=t.first)}},decls:12,vars:18,consts:[["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"loading","rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],[3,"rows","rowsPerPageOptions"],[1,"table-header",2,"margin","0px 41px 0px 37px"],[1,"p-input-icon-left"],[1,"ml-2","mt-1"],["routerLink","create","routerLinkActive","router-link-active",1,"customPlusIcon"],[1,"icon-plus","icons",2,"color","#ffffff"],[1,"p-input-icon-left",2,"margin","0px 0px 0px 375px"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search"],["src","../../../../assets/img/icons/Vector (2).svg",2,"width","25px"],["src","../../../../assets/img/icons/Vector (1).svg",2,"width","25px"],["src","../../../../assets/img/icons/vertcalLines.svg",2,"width","25px"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","description"],["type","text","field","description","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","activity_type"],["type","text","field","activity_type","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","status"],["type","text","field","status","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","due_date"],["type","text","field","due_date","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","completion_date"],["type","text","field","completion_date","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLink","create",1,"fa","fa-edit",2,"cursor","pointer",3,"click"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center"],["routerLink","create","routerLinkActive","router-link-active"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"]],template:function(t,e){1&t&&(l.Wb(0,"p-tabView"),l.Wb(1,"p-tabPanel",0),l.Wb(2,"p-table",1),l.Oc(3,V,13,0,"ng-template",2),l.Oc(4,x,33,4,"ng-template",3),l.Oc(5,M,2,1,"ng-template",4),l.Vb(),l.Vb(),l.Wb(6,"p-tabPanel",5),l.Wb(7,"p-table",1),l.Oc(8,A,13,0,"ng-template",2),l.Oc(9,R,33,4,"ng-template",3),l.Oc(10,k,2,1,"ng-template",4),l.Vb(),l.Vb(),l.Vb(),l.Rb(11,"p-paginator",6)),2&t&&(l.Db(1),l.rc("selected",!0),l.Db(1),l.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",l.uc(13,S)),l.Db(5),l.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",l.uc(14,S)),l.Db(4),l.rc("rows",e.pageItems)("rowsPerPageOptions",l.vc(16,w,l.uc(15,_))))},directives:[u.b,u.a,y.f,v.h,m.a,n.f,n.e,h.a,y.e,y.d,y.a,a.o,a.p],pipes:[a.f],styles:["[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link{background:#fff;border-color:#2196f3;color:#2196f3;width:100px;margin-right:10px;justify-content:center}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:0 solid transparent;border-bottom:2px solid #dee2e6;background:#fff;color:#6c757d;padding:1rem;font-weight:600;border-top-right-radius:3px;border-top-left-radius:3px;transition:box-shadow .2s;width:100px;margin:0 10px -2px 0;justify-content:center}.customPlusIcon[_ngcontent-%COMP%]{font-size:23px;height:23px}"]}),t})();var F=i("QGev"),T=i("KnEf"),E=i("LqlI");const L=["createActivity"],P=["createActivityModal"],N=["columnChooserModal"],H=["successModal"];function $(t,e){if(1&t&&(l.Wb(0,"div",62),l.Wb(1,"div"),l.Qc(2),l.Vb(),l.Vb()),2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",t.company_name," ")}}function j(t,e){if(1&t){const t=l.Xb();l.Wb(0,"tr",85),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.lc(9,"date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.lc(12,"date"),l.Vb(),l.Wb(13,"td"),l.Wb(14,"a",86),l.gc("click",function(){l.Fc(t);const i=e.$implicit;return l.kc(2).selectedActivity(i)}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.activity_type," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.Sc(" ",l.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),l.Db(3),l.Sc(" ",l.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}const U=function(){return{width:"5%"}};function K(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",63),l.Wb(2,"div",64),l.Qc(3," Description "),l.Wb(4,"div",65),l.Rb(5,"p-sortIcon",66),l.Rb(6,"p-columnFilter",67),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",68),l.Wb(8,"div",64),l.Qc(9," Type "),l.Wb(10,"div",69),l.Rb(11,"p-sortIcon",70),l.Rb(12,"p-columnFilter",71),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",72),l.Wb(14,"div",64),l.Qc(15," Status "),l.Wb(16,"div",73),l.Rb(17,"p-sortIcon",74),l.Rb(18,"p-columnFilter",75),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",76),l.Wb(20,"div",64),l.Qc(21," Due Date "),l.Wb(22,"div",77),l.Rb(23,"p-sortIcon",78),l.Rb(24,"p-columnFilter",79),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",80),l.Wb(26,"div",64),l.Qc(27," Completion Date "),l.Wb(28,"div",81),l.Rb(29,"p-sortIcon",82),l.Rb(30,"p-columnFilter",83),l.Vb(),l.Vb(),l.Vb(),l.Rb(31,"th"),l.Vb(),l.Oc(32,j,15,11,"tr",84)),2&t){const t=l.kc();l.Db(31),l.Kc(l.uc(3,U)),l.Db(1),l.rc("ngForOf",t.openData)}}function q(t,e){if(1&t&&(l.Wb(0,"td",88),l.Qc(1," No records found "),l.Vb()),2&t){const t=l.kc().$implicit;l.Eb("colspan",t.length)}}function B(t,e){if(1&t&&(l.Wb(0,"tr"),l.Oc(1,q,2,1,"td",87),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t)}}function G(t,e){if(1&t){const t=l.Xb();l.Wb(0,"tr",85),l.Wb(1,"td"),l.Qc(2),l.Vb(),l.Wb(3,"td"),l.Qc(4),l.Vb(),l.Wb(5,"td"),l.Qc(6),l.Vb(),l.Wb(7,"td"),l.Qc(8),l.lc(9,"date"),l.Vb(),l.Wb(10,"td"),l.Qc(11),l.lc(12,"date"),l.Vb(),l.Wb(13,"td"),l.Wb(14,"a",86),l.gc("click",function(){l.Fc(t);const i=e.$implicit;return l.kc(2).selectedActivity(i)}),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit;l.Db(2),l.Sc(" ",t.description," "),l.Db(2),l.Sc(" ",t.activity_type," "),l.Db(2),l.Sc(" ",t.status," "),l.Db(2),l.Sc(" ",l.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),l.Db(3),l.Sc(" ",l.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}function X(t,e){if(1&t&&(l.Wb(0,"tr"),l.Wb(1,"th",63),l.Wb(2,"div",64),l.Qc(3," Description "),l.Wb(4,"div",65),l.Rb(5,"p-sortIcon",66),l.Rb(6,"p-columnFilter",67),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"th",68),l.Wb(8,"div",64),l.Qc(9," Type "),l.Wb(10,"div",69),l.Rb(11,"p-sortIcon",70),l.Rb(12,"p-columnFilter",71),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"th",72),l.Wb(14,"div",64),l.Qc(15," Status "),l.Wb(16,"div",73),l.Rb(17,"p-sortIcon",74),l.Rb(18,"p-columnFilter",75),l.Vb(),l.Vb(),l.Vb(),l.Wb(19,"th",76),l.Wb(20,"div",64),l.Qc(21," Due Date "),l.Wb(22,"div",77),l.Rb(23,"p-sortIcon",78),l.Rb(24,"p-columnFilter",79),l.Vb(),l.Vb(),l.Vb(),l.Wb(25,"th",80),l.Wb(26,"div",64),l.Qc(27," Completion Date "),l.Wb(28,"div",81),l.Rb(29,"p-sortIcon",82),l.Rb(30,"p-columnFilter",83),l.Vb(),l.Vb(),l.Vb(),l.Rb(31,"th"),l.Vb(),l.Oc(32,G,15,11,"tr",84)),2&t){const t=l.kc();l.Db(31),l.Kc(l.uc(3,U)),l.Db(1),l.rc("ngForOf",t.closedData)}}function z(t,e){if(1&t&&(l.Wb(0,"td",88),l.Qc(1," No records found "),l.Vb()),2&t){const t=l.kc().$implicit;l.Eb("colspan",t.length)}}function J(t,e){if(1&t&&(l.Wb(0,"tr"),l.Oc(1,z,2,1,"td",87),l.Vb()),2&t){const t=e.$implicit;l.Db(1),l.rc("ngIf",t)}}function Y(t,e){if(1&t){const t=l.Xb();l.Wb(0,"a",90),l.gc("click",function(){return l.Fc(t),l.kc(2).createActivity.show()}),l.Rb(1,"i",91),l.Vb()}}function Z(t,e){if(1&t){const t=l.Xb();l.Wb(0,"a",90),l.gc("click",function(){return l.Fc(t),l.kc(2),l.Dc(52).show()}),l.Rb(1,"i",91),l.Vb()}}function tt(t,e){if(1&t&&(l.Oc(0,Y,2,0,"a",89),l.Oc(1,Z,2,0,"a",89)),2&t){const t=l.kc();l.rc("ngIf",!t.isCompanyName),l.Db(1),l.rc("ngIf",t.isCompanyName)}}function et(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",19,92),l.Wb(2,"div",93),l.Wb(3,"div",22),l.Wb(4,"div",23),l.Wb(5,"h4",24),l.Qc(6,"Warning"),l.Vb(),l.Vb(),l.Wb(7,"div",61),l.Wb(8,"p"),l.Qc(9),l.Vb(),l.Vb(),l.Wb(10,"div",94),l.Wb(11,"button",95),l.gc("click",function(){return l.Fc(t),l.Dc(1).hide()}),l.Qc(12," Close "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.kc();l.Db(9),l.Rc(t.dangerBody)}}function it(t,e){1&t&&l.Rb(0,"input",96)}function at(t,e){if(1&t){const t=l.Xb();l.Wb(0,"input",97),l.gc("ngModelChange",function(e){return l.Fc(t),l.kc().addActivityData.activityType=e}),l.Vb()}if(2&t){const t=l.kc();l.rc("ngModel",t.addActivityData.activityType)}}const ct=function(){return{width:"100%"}},nt=function(){return["quote_id","company","amount","status"]},ot=[{path:"activities",redirectTo:"/activities",pathMatch:"full"},{path:"",component:I},{path:"create",component:(()=>{class t{constructor(t,e){this.userAactivitiesService=t,this.router=e,this.pageItems=200,this.activitydata=[],this.isCompanyName=!1,this.dangerBody="Company Name is Required...!",this.isTypeOthers=!1,this.addActivityData={activityDesc:"",activityDueDate:"",activityCompletionDate:"",activityStatus:"NEW",activityType:"MEETING",activityTypeOther:"",activityRemarks:""},this.activityMainHeading="Add Activity",this.activityHeading="Add Activity",this.activityButton="Save"}ngOnInit(){this.getActivitydata(),this.isCompanyName=!1}getActivitydata(){this.loading=!0,this.userAactivitiesService.getActivity().subscribe(t=>{var e;this.activitydata=t.data,this.customer_id=null===(e=null==t?void 0:t.data[0])||void 0===e?void 0:e.customer_id,this.closedData=this.activitydata.filter(function(t){return"CLOSED"==t.status}),this.openData=this.activitydata.filter(function(t){return"CLOSED"!=t.status}),this.loading=!1})}searchName(t){this.userAactivitiesService.getCumpanyDetails(t.query).subscribe(t=>{t.success&&(0==t.data.length?setTimeout(()=>{this.filteredData=""},2e3):this.filteredData=t.data)})}onSelect(t){t&&(this.companyId=t.id,this.companyName=t.company_name,this.isCompanyName=!0,this.activityMainHeading="Add Activity",this.activityHeading="Add Activity",this.activityButton="Save",this.addActivityData.activityDesc="",this.addActivityData.activityType="New",this.addActivityData.activityStatus="Meeting",this.addActivityData.activityDueDate="",this.addActivityData.activityCompletionDate="",this.addActivityData.activityRemarks="")}activityTypeGet(t){this.isTypeOthers="others"==t.target.value}saveActivity(t,e){this.activityButton==e?this.userAactivitiesService.createActivity(this.customer_id,this.addActivityData).subscribe(t=>{this.createActivityModal.hide(),this.successMessage="Data added Successfully...!!",this.successModal.show(),setTimeout(()=>{t&&this.router.navigateByUrl("/activities",{replaceUrl:!0})},1e3)}):this.userAactivitiesService.updateActivity(this.selectedActivityId,this.addActivityData).subscribe(t=>{this.createActivityModal.hide(),this.successMessage="Data Updated Successfully...!!",this.successModal.show(),setTimeout(()=>{this.getActivitydata()},500)})}selectedActivity(t){this.selectedActivityId=t.id,this.activityMainHeading="Update Activity",this.activityHeading="Update Activity",this.activityButton="Update",this.createActivityModal.show(),this.addActivityData.activityDesc=t.description,this.addActivityData.activityType=t.activity_type,this.addActivityData.activityStatus=t.status,this.addActivityData.activityDueDate=t.due_date.slice(0,10),this.addActivityData.activityCompletionDate=t.completion_date.slice(0,10),this.addActivityData.activityRemarks=t.remark}getDate(t){}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(p),l.Qb(n.c))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-create-activity"]],viewQuery:function(t,e){if(1&t&&(l.Vc(L,1),l.Vc(P,1),l.Vc(N,1),l.Vc(H,1)),2&t){let t;l.Cc(t=l.hc())&&(e.createActivity=t.first),l.Cc(t=l.hc())&&(e.createActivityModal=t.first),l.Cc(t=l.hc())&&(e.columnChooserModal=t.first),l.Cc(t=l.hc())&&(e.successModal=t.first)}},decls:150,vars:32,consts:[[1,"card-header","row",2,"background-color","#898485","color","white"],[2,"padding-left","20px"],[2,"overflow-y","hidden"],[1,"col-md-6",2,"display","grid"],[2,"color","black"],[1,"p-input-icon-right",2,"width","61%","margin-bottom","10px"],["placeholder","Select Company Name...",1,"search_field",3,"inputStyle","suggestions","ngModel","completeMethod","onSelect","ngModelChange"],["pTemplate","item"],[1,"pi","pi-search"],[1,"table","table-hover","table-striped"],[2,"background","lightgray","color","black"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","Activities","activeIndex","0"],["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],["bsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["createActivityModal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"display","flex","flex-direction","column","align-items","center"],[1,"row","mb-2"],[1,"col-12"],[1,"col-6"],[1,"row"],[1,"col-3","mt-2"],["for","description",2,"display","flex"],[1,"asterisk"],[1,"col-9",2,"margin-bottom","19px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-9"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Default select example",1,"form-control",3,"ngModel","ngModelChange"],["value","NEW"],["value","IN PROGRESS"],["value","KIV/POSTPONE"],["value","CLOSED"],[1,"col-9",2,"margin-bottom","19px","display","flex"],["aria-label","Default select example",1,"form-control",3,"ngModel","change","ngModelChange"],["value","MEETING"],["value","CONTACT"],["value","FOLLOW UP"],["value","OTHERS"],["style"," margin-left: 9px","placeholder","OTHERS","readonly","","type","text","class","form-control",4,"ngIf"],["style"," margin-left: 9px","type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-9",2,"margin-bottom","21px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin","0px 0px 0px 104px"],["type","reset",1,"btn","btn-light","mr-2","px-4",3,"click"],["type","submit",1,"btn","btn-primary","px-5",3,"click"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-body"],[1,"item"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLinkActive","router-link-active",1,"fa","fa-edit",3,"routerLink","click"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["class","customPlusIcon","routerLinkActive","router-link-active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","router-link-active",1,"customPlusIcon",3,"routerLink","click"],[1,"icon-plus","icons"],["createActivity","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["placeholder","OTHERS","readonly","","type","text",1,"form-control",2,"margin-left","9px"],["type","text",1,"form-control",2,"margin-left","9px",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"h2"),l.Qc(3,"Create Activity"),l.Vb(),l.Vb(),l.Vb(),l.Wb(4,"div",2),l.Wb(5,"div"),l.Wb(6,"div",3),l.Wb(7,"label",4),l.Wb(8,"b"),l.Qc(9,"Customer Name"),l.Vb(),l.Vb(),l.Wb(10,"span",5),l.Wb(11,"p-autoComplete",6),l.gc("completeMethod",function(t){return e.searchName(t)})("onSelect",function(t){return e.onSelect(t)})("ngModelChange",function(t){return e.companyName=t}),l.Oc(12,$,3,1,"ng-template",7),l.Vb(),l.Rb(13,"i",8),l.Vb(),l.Vb(),l.Wb(14,"table",9),l.Wb(15,"thead",10),l.Wb(16,"tr"),l.Wb(17,"th"),l.Qc(18,"Created date"),l.Vb(),l.Wb(19,"th"),l.Qc(20,"Primary Contact"),l.Vb(),l.Wb(21,"th"),l.Qc(22,"Other Contacts"),l.Vb(),l.Wb(23,"th"),l.Qc(24,"Owner"),l.Vb(),l.Rb(25,"th"),l.Vb(),l.Vb(),l.Wb(26,"tbody"),l.Wb(27,"tr"),l.Wb(28,"td"),l.Qc(29,"11-DEC-2021"),l.Vb(),l.Wb(30,"td"),l.Qc(31,"+6298754422"),l.Vb(),l.Wb(32,"td"),l.Qc(33,"+889283232"),l.Vb(),l.Wb(34,"td"),l.Qc(35,"Lee"),l.Vb(),l.Rb(36,"td"),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"p-accordion",11),l.Wb(38,"p-accordionTab",12),l.Wb(39,"p-tabView"),l.Wb(40,"p-tabPanel",13),l.Wb(41,"p-table",14),l.Oc(42,K,33,4,"ng-template",15),l.Oc(43,B,2,1,"ng-template",16),l.Vb(),l.Vb(),l.Wb(44,"p-tabPanel",17),l.Wb(45,"p-table",14),l.Oc(46,X,33,4,"ng-template",15),l.Oc(47,J,2,1,"ng-template",16),l.Vb(),l.Vb(),l.Wb(48,"p-tabPanel"),l.Oc(49,tt,2,2,"ng-template",15),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Oc(50,et,13,1,"div",18),l.Wb(51,"div",19,20),l.Wb(53,"div",21),l.Wb(54,"div",22),l.Wb(55,"div",23),l.Wb(56,"h4",24),l.Qc(57),l.Vb(),l.Wb(58,"button",25),l.gc("click",function(){return l.Fc(t),l.Dc(52).hide()}),l.Wb(59,"span",26),l.Qc(60,"\xd7"),l.Vb(),l.Vb(),l.Vb(),l.Wb(61,"div",27),l.Wb(62,"div",28),l.Wb(63,"h5",29),l.Wb(64,"label"),l.Wb(65,"b"),l.Qc(66),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(67,"div",30),l.Wb(68,"div",31),l.Wb(69,"div",32),l.Wb(70,"label",33),l.Qc(71," Description"),l.Wb(72,"span",34),l.Qc(73," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(74,"div",35),l.Wb(75,"input",36),l.gc("ngModelChange",function(t){return e.addActivityData.activityDesc=t}),l.Vb(),l.Vb(),l.Vb(),l.Wb(76,"div",31),l.Wb(77,"div",32),l.Wb(78,"label",33),l.Qc(79," Due Date"),l.Wb(80,"span",34),l.Qc(81," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(82,"div",35),l.Wb(83,"input",37),l.gc("ngModelChange",function(t){return e.addActivityData.activityDueDate=t})("change",function(t){return e.getDate(t)}),l.Vb(),l.Vb(),l.Vb(),l.Wb(84,"div",31),l.Wb(85,"div",32),l.Wb(86,"label",33),l.Qc(87," Completion Date"),l.Wb(88,"span",34),l.Qc(89," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(90,"div",38),l.Wb(91,"input",39),l.gc("ngModelChange",function(t){return e.addActivityData.activityCompletionDate=t}),l.Vb(),l.Vb(),l.Vb(),l.Wb(92,"div",31),l.Wb(93,"div",32),l.Wb(94,"label",33),l.Qc(95," Status"),l.Wb(96,"span",34),l.Qc(97," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(98,"div",35),l.Wb(99,"select",40),l.gc("ngModelChange",function(t){return e.addActivityData.activityStatus=t}),l.Wb(100,"option",41),l.Qc(101,"NEW"),l.Vb(),l.Wb(102,"option",42),l.Qc(103," IN PROGRESS"),l.Vb(),l.Wb(104,"option",43),l.Qc(105," KIV/POSTPONE"),l.Vb(),l.Wb(106,"option",44),l.Qc(107," CLOSED"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(108,"div",31),l.Wb(109,"div",32),l.Wb(110,"label",33),l.Qc(111," Type"),l.Wb(112,"span",34),l.Qc(113," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(114,"div",45),l.Wb(115,"select",46),l.gc("change",function(t){return e.activityTypeGet(t)})("ngModelChange",function(t){return e.addActivityData.activityType=t}),l.Wb(116,"option",47),l.Qc(117,"MEETING"),l.Vb(),l.Wb(118,"option",48),l.Qc(119,"CONTACT"),l.Vb(),l.Wb(120,"option",49),l.Qc(121,"FOLLOW UP"),l.Vb(),l.Wb(122,"option",50),l.Qc(123," OTHERS "),l.Vb(),l.Vb(),l.Oc(124,it,1,0,"input",51),l.Oc(125,at,1,1,"input",52),l.Vb(),l.Vb(),l.Wb(126,"div",31),l.Wb(127,"div",32),l.Wb(128,"label",33),l.Qc(129," Remarks"),l.Wb(130,"span",34),l.Qc(131," * "),l.Vb(),l.Vb(),l.Vb(),l.Wb(132,"div",53),l.Wb(133,"textarea",54),l.gc("ngModelChange",function(t){return e.addActivityData.activityRemarks=t}),l.Qc(134,"                "),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(135,"div",55),l.Wb(136,"button",56),l.gc("click",function(){return l.Fc(t),l.Dc(52).hide()}),l.Qc(137," CANCEL "),l.Vb(),l.Wb(138,"button",57),l.gc("click",function(t){return e.saveActivity(t,"Save")}),l.Qc(139),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(140,"div",58,59),l.Wb(142,"div",60),l.Wb(143,"div",22),l.Wb(144,"div",23),l.Wb(145,"h4",24),l.Qc(146,"Success"),l.Vb(),l.Vb(),l.Wb(147,"div",61),l.Wb(148,"p"),l.Qc(149),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}2&t&&(l.Db(11),l.Kc(l.uc(28,ct)),l.rc("inputStyle",l.uc(29,ct))("suggestions",e.filteredData)("ngModel",e.companyName),l.Db(26),l.rc("multiple",!0),l.Db(3),l.rc("selected",!0),l.Db(1),l.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",l.uc(30,nt)),l.Db(4),l.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",l.uc(31,nt)),l.Db(5),l.rc("ngIf",!e.isCompanyName),l.Db(7),l.Rc(e.activityMainHeading),l.Db(9),l.Rc(e.activityHeading),l.Db(9),l.rc("ngModel",e.addActivityData.activityDesc),l.Db(8),l.rc("ngModel",e.addActivityData.activityDueDate),l.Db(8),l.rc("ngModel",e.addActivityData.activityCompletionDate),l.Db(8),l.rc("ngModel",e.addActivityData.activityStatus),l.Db(16),l.rc("ngModel",e.addActivityData.activityType),l.Db(9),l.rc("ngIf",!e.isTypeOthers),l.Db(1),l.rc("ngIf",e.isTypeOthers),l.Db(8),l.rc("ngModel",e.addActivityData.activityRemarks),l.Db(6),l.Sc(" ",e.activityButton," "),l.Db(10),l.Rc(e.successMessage))},directives:[F.a,c.p,c.s,v.h,T.a,T.c,u.b,u.a,y.f,a.p,E.a,c.c,h.a,c.w,c.x,c.t,c.A,y.e,y.d,y.a,a.o,n.f,n.e],pipes:[a.f],styles:[".p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link{background:#fff;border-color:#2196f3;color:#2196f3;width:100px;margin-right:15px;height:58px;justify-content:center}.p-tabview .p-tabview-nav li .p-tabview-nav-link{border:0 solid transparent;border-bottom:2px solid #dee2e6;background:#fff;color:#6c757d;padding:1rem;font-weight:600;border-top-right-radius:3px;border-top-left-radius:3px;transition:box-shadow .2s;margin:0 0 -2px;width:100px;height:58px;justify-content:center}.customPlusIcon{font-size:23px;height:23px}"],encapsulation:2}),t})()}];let bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({imports:[[n.g.forChild(ot)],n.g]}),t})();var rt=i("Wcfd");let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({imports:[[a.c,bt,rt.a,E.b,T.b,u.c,m.b,y.g,c.l,c.v]]}),t})()}}]);