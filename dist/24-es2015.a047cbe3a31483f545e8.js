(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{akgE:function(t,e,i){"use strict";i.r(e),i.d(e,"UserActivitiesModule",function(){return bt});var c=i("SVse"),a=i("s7LF"),o=i("iInd"),n=i("AytR"),b=i("z6cu"),l=i("vkgz"),r=i("JIr8"),d=i("8Y7J"),s=i("IheW");let p=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL=n.b.apiBaseUrl}getActivity(){return this.httpClient.get(this.apiURL+"/activity")}getCumpanyDetails(t){let e=localStorage.getItem("auth-token");return this.httpClient.get(this.apiURL+"/opportunity/get-customer?company_name="+t,{headers:{Authorization:e}}).pipe(Object(l.a)(t=>{console.log(t)}),Object(r.a)(this.errorHandler))}createActivity(t,e){let i=localStorage.getItem("auth-token");return console.log("data====> ",e),this.httpClient.post(this.apiURL+"/activity/",{customer_id:t,activities:[{subject:"subject",due_date:e.activityDueDate,description:e.activityDesc,type:e.activityType,status:e.activityStatus,completion_date:e.activityCompletionDate,remark:e.activityRemarks,is_open:"1"}]},{headers:{Authorization:i}}).pipe(Object(l.a)(t=>{console.log(t)}),Object(r.a)(this.errorHandler))}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(b.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(d.dc(s.b))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("T7Ec"),m=i("ZRSf"),y=i("hhfa"),v=i("MY3+"),g=i("gtx6");const V=["confirmationExportExcelModal"],W=["columnChooserModal"];function f(t,e){1&t&&(d.Wb(0,"div",7),d.Wb(1,"span",8),d.Pc(2," Activities Listing "),d.Vb(),d.Wb(3,"div",9),d.Wb(4,"a",10),d.Rb(5,"i",11),d.Vb(),d.Vb(),d.Wb(6,"span",12),d.Rb(7,"i",13),d.Rb(8,"input",14),d.Vb(),d.Wb(9,"div"),d.Rb(10,"img",15),d.Rb(11,"img",16),d.Rb(12,"img",17),d.Vb(),d.Vb())}function h(t,e){if(1&t&&(d.Wb(0,"tr",40),d.Wb(1,"td"),d.Pc(2),d.Vb(),d.Wb(3,"td"),d.Pc(4),d.Vb(),d.Wb(5,"td"),d.Pc(6),d.Vb(),d.Wb(7,"td"),d.Pc(8),d.lc(9,"date"),d.Vb(),d.Wb(10,"td"),d.Pc(11),d.lc(12,"date"),d.Vb(),d.Wb(13,"td"),d.Rb(14,"a",41),d.Vb(),d.Vb()),2&t){const t=e.$implicit;d.Db(2),d.Rc(" ",t.description," "),d.Db(2),d.Rc(" ",t.activity_type," "),d.Db(2),d.Rc(" ",t.status," "),d.Db(2),d.Rc(" ",d.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),d.Db(3),d.Rc(" ",d.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}const D=function(){return{width:"5%"}};function P(t,e){if(1&t&&(d.Wb(0,"tr"),d.Wb(1,"th",18),d.Wb(2,"div",19),d.Pc(3," Description "),d.Wb(4,"div",20),d.Rb(5,"p-sortIcon",21),d.Rb(6,"p-columnFilter",22),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"th",23),d.Wb(8,"div",19),d.Pc(9," Type "),d.Wb(10,"div",24),d.Rb(11,"p-sortIcon",25),d.Rb(12,"p-columnFilter",26),d.Vb(),d.Vb(),d.Vb(),d.Wb(13,"th",27),d.Wb(14,"div",19),d.Pc(15," Status "),d.Wb(16,"div",28),d.Rb(17,"p-sortIcon",29),d.Rb(18,"p-columnFilter",30),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"th",31),d.Wb(20,"div",19),d.Pc(21," Due Date "),d.Wb(22,"div",32),d.Rb(23,"p-sortIcon",33),d.Rb(24,"p-columnFilter",34),d.Vb(),d.Vb(),d.Vb(),d.Wb(25,"th",35),d.Wb(26,"div",19),d.Pc(27," Completion Date "),d.Wb(28,"div",36),d.Rb(29,"p-sortIcon",37),d.Rb(30,"p-columnFilter",38),d.Vb(),d.Vb(),d.Vb(),d.Rb(31,"th"),d.Vb(),d.Nc(32,h,15,11,"tr",39)),2&t){const t=d.kc();d.Db(31),d.Jc(d.uc(3,D)),d.Db(1),d.rc("ngForOf",t.openData)}}function R(t,e){if(1&t&&(d.Wb(0,"td",43),d.Pc(1," No records found "),d.Vb()),2&t){const t=d.kc().$implicit;d.Eb("colspan",t.length)}}function C(t,e){if(1&t&&(d.Wb(0,"tr"),d.Nc(1,R,2,1,"td",42),d.Vb()),2&t){const t=e.$implicit;d.Db(1),d.rc("ngIf",t)}}function M(t,e){1&t&&(d.Wb(0,"div",7),d.Wb(1,"span",8),d.Pc(2," Activities Listing "),d.Vb(),d.Wb(3,"div",9),d.Wb(4,"a",10),d.Rb(5,"i",11),d.Vb(),d.Vb(),d.Wb(6,"span",12),d.Rb(7,"i",13),d.Rb(8,"input",14),d.Vb(),d.Wb(9,"div"),d.Rb(10,"img",15),d.Rb(11,"img",16),d.Rb(12,"img",17),d.Vb(),d.Vb())}function x(t,e){if(1&t&&(d.Wb(0,"tr",40),d.Wb(1,"td"),d.Pc(2),d.Vb(),d.Wb(3,"td"),d.Pc(4),d.Vb(),d.Wb(5,"td"),d.Pc(6),d.Vb(),d.Wb(7,"td"),d.Pc(8),d.lc(9,"date"),d.Vb(),d.Wb(10,"td"),d.Pc(11),d.lc(12,"date"),d.Vb(),d.Vb()),2&t){const t=e.$implicit;d.Db(2),d.Rc(" ",t.description," "),d.Db(2),d.Rc(" ",t.activity_type," "),d.Db(2),d.Rc(" ",t.status," "),d.Db(2),d.Rc(" ",d.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),d.Db(3),d.Rc(" ",d.nc(12,8,t.completion_date,"dd-MMM-yyyy"),"\n")}}function k(t,e){if(1&t&&(d.Wb(0,"tr"),d.Wb(1,"th",18),d.Wb(2,"div",19),d.Pc(3," Description "),d.Wb(4,"div",20),d.Rb(5,"p-sortIcon",21),d.Rb(6,"p-columnFilter",22),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"th",23),d.Wb(8,"div",19),d.Pc(9," Type "),d.Wb(10,"div",24),d.Rb(11,"p-sortIcon",25),d.Rb(12,"p-columnFilter",26),d.Vb(),d.Vb(),d.Vb(),d.Wb(13,"th",27),d.Wb(14,"div",19),d.Pc(15," Status "),d.Wb(16,"div",28),d.Rb(17,"p-sortIcon",29),d.Rb(18,"p-columnFilter",30),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"th",31),d.Wb(20,"div",19),d.Pc(21," Due Date "),d.Wb(22,"div",32),d.Rb(23,"p-sortIcon",33),d.Rb(24,"p-columnFilter",34),d.Vb(),d.Vb(),d.Vb(),d.Wb(25,"th",35),d.Wb(26,"div",19),d.Pc(27," Completion Date "),d.Wb(28,"div",36),d.Rb(29,"p-sortIcon",37),d.Rb(30,"p-columnFilter",38),d.Vb(),d.Vb(),d.Vb(),d.Rb(31,"th"),d.Vb(),d.Nc(32,x,13,11,"tr",39)),2&t){const t=d.kc();d.Db(31),d.Jc(d.uc(3,D)),d.Db(1),d.rc("ngForOf",t.closedData)}}function I(t,e){if(1&t&&(d.Wb(0,"td",43),d.Pc(1," No records found "),d.Vb()),2&t){const t=d.kc().$implicit;d.Eb("colspan",t.length)}}function A(t,e){if(1&t&&(d.Wb(0,"tr"),d.Nc(1,I,2,1,"td",42),d.Vb()),2&t){const t=e.$implicit;d.Db(1),d.rc("ngIf",t)}}const O=function(){return["quote_id","company","amount","status"]},_=function(){return{showAll:"All"}},F=function(t){return[10,25,50,t]};let N=(()=>{class t{constructor(t){this.userAactivities=t,this.pageItems=200,this.search_text="",this.activitydata=[]}ngOnInit(){this.getActivitydata()}getActivitydata(){this.loading=!0,this.userAactivities.getActivity().subscribe(t=>{this.activitydata=t.data,this.closedData=this.activitydata.filter(function(t){return"CLOSED"==t.status}),console.log("this is res",this.closedData),this.openData=this.activitydata.filter(function(t){return"CLOSED"!=t.status}),console.log("this is res",this.openData),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(p))},t.\u0275cmp=d.Kb({type:t,selectors:[["app-user-activities"]],viewQuery:function(t,e){if(1&t&&(d.Uc(V,1),d.Uc(W,1)),2&t){let t;d.Cc(t=d.hc())&&(e.confirmationExportExcelModal=t.first),d.Cc(t=d.hc())&&(e.columnChooserModal=t.first)}},decls:12,vars:18,consts:[["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"loading","rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],[3,"rows","rowsPerPageOptions"],[1,"table-header",2,"margin","0px 41px 0px 37px"],[1,"p-input-icon-left"],[1,"ml-2","mt-1"],["routerLink","create","routerLinkActive","router-link-active"],[1,"icon-plus","icons",2,"color","#ffffff"],[1,"p-input-icon-left",2,"margin","0px 0px 0px 375px"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search"],["src","../../../../assets/img/icons/Vector (2).svg",2,"width","25px"],["src","../../../../assets/img/icons/Vector (1).svg",2,"width","25px"],["src","../../../../assets/img/icons/vertcalLines.svg",2,"width","25px"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLink","create",1,"fa","fa-edit",2,"cursor","pointer"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center"]],template:function(t,e){1&t&&(d.Wb(0,"p-tabView"),d.Wb(1,"p-tabPanel",0),d.Wb(2,"p-table",1),d.Nc(3,f,13,0,"ng-template",2),d.Nc(4,P,33,4,"ng-template",3),d.Nc(5,C,2,1,"ng-template",4),d.Vb(),d.Vb(),d.Wb(6,"p-tabPanel",5),d.Wb(7,"p-table",1),d.Nc(8,M,13,0,"ng-template",2),d.Nc(9,k,33,4,"ng-template",3),d.Nc(10,A,2,1,"ng-template",4),d.Vb(),d.Vb(),d.Vb(),d.Rb(11,"p-paginator",6)),2&t&&(d.Db(1),d.rc("selected",!0),d.Db(1),d.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",d.uc(13,O)),d.Db(5),d.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",d.uc(14,O)),d.Db(4),d.rc("rows",e.pageItems)("rowsPerPageOptions",d.vc(16,F,d.uc(15,_))))},directives:[u.b,u.a,m.f,y.h,v.a,o.f,o.e,g.a,m.e,m.d,m.a,c.o,c.p],pipes:[c.f],styles:["[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),t})();var w=i("QGev"),S=i("KnEf"),T=i("LqlI");const E=["createActivity"],L=["columnChooserModal"],U=["successModal"];function $(t,e){if(1&t&&(d.Wb(0,"div",26),d.Wb(1,"div"),d.Pc(2),d.Vb(),d.Vb()),2&t){const t=e.$implicit;d.Db(2),d.Rc(" ",t.company_name," ")}}function H(t,e){if(1&t){const t=d.Xb();d.Wb(0,"tr",49),d.Wb(1,"td"),d.Pc(2),d.Vb(),d.Wb(3,"td"),d.Pc(4),d.Vb(),d.Wb(5,"td"),d.Pc(6),d.Vb(),d.Wb(7,"td"),d.Pc(8),d.lc(9,"date"),d.Vb(),d.Wb(10,"td"),d.Pc(11),d.lc(12,"date"),d.Vb(),d.Wb(13,"td"),d.Wb(14,"a",50),d.gc("click",function(){return d.Fc(t),d.kc(2).createActivity.show()}),d.Vb(),d.Vb(),d.Vb()}if(2&t){const t=e.$implicit;d.Db(2),d.Rc(" ",t.description," "),d.Db(2),d.Rc(" ",t.activity_type," "),d.Db(2),d.Rc(" ",t.status," "),d.Db(2),d.Rc(" ",d.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),d.Db(3),d.Rc(" ",d.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}const j=function(){return{width:"5%"}};function G(t,e){if(1&t&&(d.Wb(0,"tr"),d.Wb(1,"th",27),d.Wb(2,"div",28),d.Pc(3," Description "),d.Wb(4,"div",29),d.Rb(5,"p-sortIcon",30),d.Rb(6,"p-columnFilter",31),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"th",32),d.Wb(8,"div",28),d.Pc(9," Type "),d.Wb(10,"div",33),d.Rb(11,"p-sortIcon",34),d.Rb(12,"p-columnFilter",35),d.Vb(),d.Vb(),d.Vb(),d.Wb(13,"th",36),d.Wb(14,"div",28),d.Pc(15," Status "),d.Wb(16,"div",37),d.Rb(17,"p-sortIcon",38),d.Rb(18,"p-columnFilter",39),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"th",40),d.Wb(20,"div",28),d.Pc(21," Due Date "),d.Wb(22,"div",41),d.Rb(23,"p-sortIcon",42),d.Rb(24,"p-columnFilter",43),d.Vb(),d.Vb(),d.Vb(),d.Wb(25,"th",44),d.Wb(26,"div",28),d.Pc(27," Completion Date "),d.Wb(28,"div",45),d.Rb(29,"p-sortIcon",46),d.Rb(30,"p-columnFilter",47),d.Vb(),d.Vb(),d.Vb(),d.Rb(31,"th"),d.Vb(),d.Nc(32,H,15,11,"tr",48)),2&t){const t=d.kc();d.Db(31),d.Jc(d.uc(3,j)),d.Db(1),d.rc("ngForOf",t.openData)}}function J(t,e){if(1&t&&(d.Wb(0,"td",52),d.Pc(1," No records found "),d.Vb()),2&t){const t=d.kc().$implicit;d.Eb("colspan",t.length)}}function q(t,e){if(1&t&&(d.Wb(0,"tr"),d.Nc(1,J,2,1,"td",51),d.Vb()),2&t){const t=e.$implicit;d.Db(1),d.rc("ngIf",t)}}function Q(t,e){if(1&t&&(d.Wb(0,"tr",49),d.Wb(1,"td"),d.Pc(2),d.Vb(),d.Wb(3,"td"),d.Pc(4),d.Vb(),d.Wb(5,"td"),d.Pc(6),d.Vb(),d.Wb(7,"td"),d.Pc(8),d.lc(9,"date"),d.Vb(),d.Wb(10,"td"),d.Pc(11),d.lc(12,"date"),d.Vb(),d.Vb()),2&t){const t=e.$implicit;d.Db(2),d.Rc(" ",t.description," "),d.Db(2),d.Rc(" ",t.activity_type," "),d.Db(2),d.Rc(" ",t.status," "),d.Db(2),d.Rc(" ",d.nc(9,5,t.due_date,"dd-MMM-yyyy")," "),d.Db(3),d.Rc(" ",d.nc(12,8,t.completion_date,"dd-MMM-yyyy")," ")}}function z(t,e){if(1&t&&(d.Wb(0,"tr"),d.Wb(1,"th",27),d.Wb(2,"div",28),d.Pc(3," Description "),d.Wb(4,"div",29),d.Rb(5,"p-sortIcon",30),d.Rb(6,"p-columnFilter",31),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"th",32),d.Wb(8,"div",28),d.Pc(9," Type "),d.Wb(10,"div",33),d.Rb(11,"p-sortIcon",34),d.Rb(12,"p-columnFilter",35),d.Vb(),d.Vb(),d.Vb(),d.Wb(13,"th",36),d.Wb(14,"div",28),d.Pc(15," Status "),d.Wb(16,"div",37),d.Rb(17,"p-sortIcon",38),d.Rb(18,"p-columnFilter",39),d.Vb(),d.Vb(),d.Vb(),d.Wb(19,"th",40),d.Wb(20,"div",28),d.Pc(21," Due Date "),d.Wb(22,"div",41),d.Rb(23,"p-sortIcon",42),d.Rb(24,"p-columnFilter",43),d.Vb(),d.Vb(),d.Vb(),d.Wb(25,"th",44),d.Wb(26,"div",28),d.Pc(27," Completion Date "),d.Wb(28,"div",45),d.Rb(29,"p-sortIcon",46),d.Rb(30,"p-columnFilter",47),d.Vb(),d.Vb(),d.Vb(),d.Rb(31,"th"),d.Vb(),d.Nc(32,Q,13,11,"tr",48)),2&t){const t=d.kc();d.Db(31),d.Jc(d.uc(3,j)),d.Db(1),d.rc("ngForOf",t.closedData)}}function K(t,e){if(1&t&&(d.Wb(0,"td",52),d.Pc(1," No records found "),d.Vb()),2&t){const t=d.kc().$implicit;d.Eb("colspan",t.length)}}function X(t,e){if(1&t&&(d.Wb(0,"tr"),d.Nc(1,K,2,1,"td",51),d.Vb()),2&t){const t=e.$implicit;d.Db(1),d.rc("ngIf",t)}}function B(t,e){if(1&t){const t=d.Xb();d.Wb(0,"a",53),d.gc("click",function(){return d.Fc(t),d.kc().createActivity.show()}),d.Rb(1,"i",54),d.Vb()}}function Y(t,e){if(1&t){const t=d.Xb();d.Wb(0,"div",55,56),d.Wb(2,"div",57),d.Wb(3,"div",22),d.Wb(4,"div",23),d.Wb(5,"h4",24),d.Pc(6,"Warning"),d.Vb(),d.Vb(),d.Wb(7,"div",25),d.Wb(8,"p"),d.Pc(9),d.Vb(),d.Vb(),d.Wb(10,"div",58),d.Wb(11,"button",59),d.gc("click",function(){return d.Fc(t),d.Dc(1).hide()}),d.Pc(12," Close "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&t){const t=d.kc();d.Db(9),d.Qc(t.dangerBody)}}function Z(t,e){1&t&&d.Rb(0,"input",93)}function tt(t,e){if(1&t){const t=d.Xb();d.Wb(0,"input",94),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc(2).addActivityData.activityType=e}),d.Vb()}if(2&t){const t=d.kc(2);d.rc("ngModel",t.addActivityData.activityType)}}function et(t,e){if(1&t){const t=d.Xb();d.Wb(0,"div",55,56),d.Wb(2,"div",60),d.Wb(3,"div",22),d.Wb(4,"div",23),d.Wb(5,"h4",24),d.Pc(6,"Add Activity"),d.Vb(),d.Wb(7,"button",61),d.gc("click",function(){return d.Fc(t),d.Dc(1).hide()}),d.Wb(8,"span",62),d.Pc(9,"\xd7"),d.Vb(),d.Vb(),d.Vb(),d.Wb(10,"div",63),d.Wb(11,"div",64),d.Wb(12,"h5",65),d.Wb(13,"label"),d.Wb(14,"b"),d.Pc(15,"Add Activity"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"div",66),d.Wb(17,"div",67),d.Wb(18,"div",68),d.Wb(19,"label",69),d.Pc(20," Description"),d.Wb(21,"span",70),d.Pc(22," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(23,"div",71),d.Wb(24,"input",72),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityDesc=e}),d.Vb(),d.Vb(),d.Vb(),d.Wb(25,"div",67),d.Wb(26,"div",68),d.Wb(27,"label",69),d.Pc(28," Due Date"),d.Wb(29,"span",70),d.Pc(30," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",71),d.Wb(32,"input",73),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityDueDate=e}),d.Vb(),d.Vb(),d.Vb(),d.Wb(33,"div",67),d.Wb(34,"div",68),d.Wb(35,"label",69),d.Pc(36," Completion Date"),d.Wb(37,"span",70),d.Pc(38," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(39,"div",74),d.Wb(40,"input",73),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityCompletionDate=e}),d.Vb(),d.Vb(),d.Vb(),d.Wb(41,"div",67),d.Wb(42,"div",68),d.Wb(43,"label",69),d.Pc(44," Status"),d.Wb(45,"span",70),d.Pc(46," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(47,"div",71),d.Wb(48,"select",75),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityStatus=e}),d.Wb(49,"option",76),d.Pc(50,"NEW"),d.Vb(),d.Wb(51,"option",77),d.Pc(52," IN PROGRESS"),d.Vb(),d.Wb(53,"option",78),d.Pc(54," KIV/POSTPONE"),d.Vb(),d.Wb(55,"option",79),d.Pc(56," CLOSED"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(57,"div",67),d.Wb(58,"div",68),d.Wb(59,"label",69),d.Pc(60," Type"),d.Wb(61,"span",70),d.Pc(62," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(63,"div",80),d.Wb(64,"select",81),d.gc("change",function(e){return d.Fc(t),d.kc().activityTypeGet(e)})("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityType=e}),d.Wb(65,"option",82),d.Pc(66,"MEETING"),d.Vb(),d.Wb(67,"option",83),d.Pc(68,"CONTACT"),d.Vb(),d.Wb(69,"option",84),d.Pc(70,"FOLLOW UP"),d.Vb(),d.Wb(71,"option",85),d.Pc(72," OTHERS "),d.Vb(),d.Vb(),d.Nc(73,Z,1,0,"input",86),d.Nc(74,tt,1,1,"input",87),d.Vb(),d.Vb(),d.Wb(75,"div",67),d.Wb(76,"div",68),d.Wb(77,"label",69),d.Pc(78," Remarks"),d.Wb(79,"span",70),d.Pc(80," * "),d.Vb(),d.Vb(),d.Vb(),d.Wb(81,"div",88),d.Wb(82,"input",89),d.gc("ngModelChange",function(e){return d.Fc(t),d.kc().addActivityData.activityRemarks=e}),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(83,"div",90),d.Wb(84,"button",91),d.gc("click",function(){return d.Fc(t),d.Dc(1).hide()}),d.Pc(85," CANCEL "),d.Vb(),d.Wb(86,"button",92),d.gc("click",function(){return d.Fc(t),d.Dc(1).hide()})("click",function(e){return d.Fc(t),d.kc().saveActivity(e)}),d.Pc(87," SAVE "),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&t){const t=d.kc();d.Db(24),d.rc("ngModel",t.addActivityData.activityDesc),d.Db(8),d.rc("ngModel",t.addActivityData.activityDueDate),d.Db(8),d.rc("ngModel",t.addActivityData.activityCompletionDate),d.Db(8),d.rc("ngModel",t.addActivityData.activityStatus),d.Db(16),d.rc("ngModel",t.addActivityData.activityType),d.Db(9),d.rc("ngIf",!t.isTypeOthers),d.Db(1),d.rc("ngIf",t.isTypeOthers),d.Db(8),d.rc("ngModel",t.addActivityData.activityRemarks)}}const it=function(){return{width:"100%"}},ct=function(){return["quote_id","company","amount","status"]},at=[{path:"activities",redirectTo:"/activities",pathMatch:"full"},{path:"",component:N},{path:"create",component:(()=>{class t{constructor(t,e){this.userAactivities=t,this.router=e,this.pageItems=200,this.activitydata=[],this.isCompanyName=!1,this.dangerBody="Company Name is Required...!",this.isTypeOthers=!1,this.addActivityData={activityDesc:"",activityDueDate:"",activityCompletionDate:"",activityStatus:"NEW",activityType:"MEETING",activityTypeOther:"",activityRemarks:""}}ngOnInit(){this.getActivitydata(),this.isCompanyName=!1}getActivitydata(){this.loading=!0,this.userAactivities.getActivity().subscribe(t=>{var e;this.activitydata=t.data,this.customer_id=null===(e=null==t?void 0:t.data[0])||void 0===e?void 0:e.customer_id,this.closedData=this.activitydata.filter(function(t){return"CLOSED"==t.status}),this.openData=this.activitydata.filter(function(t){return"CLOSED"!=t.status}),this.loading=!1})}searchName(t){this.userAactivities.getCumpanyDetails(t.query).subscribe(t=>{t.success&&(0==t.data.length?setTimeout(()=>{this.filteredData=""},2e3):this.filteredData=t.data)})}onSelect(t){t&&(this.companyId=t.id,this.companyName=t.company_name,this.isCompanyName=!0)}activityTypeGet(t){this.isTypeOthers="others"==t.target.value}saveActivity(t){this.userAactivities.createActivity(this.customer_id,this.addActivityData).subscribe(t=>{this.successMessage="Data added Successfully...!!",this.successModal.show(),setTimeout(()=>{t&&this.router.navigateByUrl("/activities",{replaceUrl:!0})},1e3)})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(p),d.Qb(o.c))},t.\u0275cmp=d.Kb({type:t,selectors:[["app-create-activity"]],viewQuery:function(t,e){if(1&t&&(d.Uc(E,1),d.Uc(L,1),d.Uc(U,1)),2&t){let t;d.Cc(t=d.hc())&&(e.createActivity=t.first),d.Cc(t=d.hc())&&(e.columnChooserModal=t.first),d.Cc(t=d.hc())&&(e.successModal=t.first)}},decls:62,vars:22,consts:[[1,"card-header","row",2,"background-color","#898485","color","white"],[2,"padding-left","20px"],[2,"overflow-y","hidden"],[1,"col-md-6"],[2,"color","black"],[1,"p-input-icon-right",2,"width","100%","margin-bottom","10px"],["placeholder","Select Company Name...",1,"search_field",3,"inputStyle","suggestions","ngModel","completeMethod","onSelect","ngModelChange"],["pTemplate","item"],[1,"pi","pi-search"],[1,"table","table-hover","table-striped"],[2,"background","lightgray","color","black"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","Activities","activeIndex","0"],["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],["bsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",4,"ngIf"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"item"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLinkActive","router-link-active",1,"fa","fa-edit",3,"routerLink","click"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"icon-plus","icons"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["createActivity","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["role","document",1,"modal-dialog","modal-lg"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"display","flex","flex-direction","column","align-items","center"],[1,"row","mb-2"],[1,"col-12"],[1,"col-6"],[1,"row"],[1,"col-3","mt-2"],["for","description",2,"display","flex"],[1,"asterisk"],[1,"col-9",2,"margin-bottom","19px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-9"],["aria-label","Default select example",1,"form-control",3,"ngModel","ngModelChange"],["value","NEW"],["value","IN PROGRESS"],["value","KIV/POSTPONE"],["value","CLOSED"],[1,"col-9",2,"margin-bottom","19px","display","flex"],["aria-label","Default select example",1,"form-control",3,"ngModel","change","ngModelChange"],["value","MEETING"],["value","CONTACT"],["value","FOLLOW UP"],["value","OTHERS"],["style"," margin-left: 9px","placeholder","OTHERS","readonly","","type","text","class","form-control",4,"ngIf"],["style"," margin-left: 9px","type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-9",2,"margin-bottom","21px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin","0px 0px 0px 104px"],["type","reset",1,"btn","btn-light","mr-2","px-4",3,"click"],["type","submit",1,"btn","btn-primary","px-5",3,"click"],["placeholder","OTHERS","readonly","","type","text",1,"form-control",2,"margin-left","9px"],["type","text",1,"form-control",2,"margin-left","9px",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"h2"),d.Pc(3,"Create Activity"),d.Vb(),d.Vb(),d.Vb(),d.Wb(4,"div",2),d.Wb(5,"div"),d.Wb(6,"div",3),d.Wb(7,"label",4),d.Wb(8,"b"),d.Pc(9,"Customer Name"),d.Vb(),d.Vb(),d.Wb(10,"span",5),d.Wb(11,"p-autoComplete",6),d.gc("completeMethod",function(t){return e.searchName(t)})("onSelect",function(t){return e.onSelect(t)})("ngModelChange",function(t){return e.companyName=t}),d.Nc(12,$,3,1,"ng-template",7),d.Vb(),d.Rb(13,"i",8),d.Vb(),d.Vb(),d.Wb(14,"table",9),d.Wb(15,"thead",10),d.Wb(16,"tr"),d.Wb(17,"th"),d.Pc(18,"Created date"),d.Vb(),d.Wb(19,"th"),d.Pc(20,"Primary Contact"),d.Vb(),d.Wb(21,"th"),d.Pc(22,"Other Contacts"),d.Vb(),d.Wb(23,"th"),d.Pc(24,"Owner"),d.Vb(),d.Rb(25,"th"),d.Vb(),d.Vb(),d.Wb(26,"tbody"),d.Wb(27,"tr"),d.Wb(28,"td"),d.Pc(29,"11-DEC-2021"),d.Vb(),d.Wb(30,"td"),d.Pc(31,"+6298754422"),d.Vb(),d.Wb(32,"td"),d.Pc(33,"+889283232"),d.Vb(),d.Wb(34,"td"),d.Pc(35,"Lee"),d.Vb(),d.Rb(36,"td"),d.Vb(),d.Vb(),d.Vb(),d.Wb(37,"p-accordion",11),d.Wb(38,"p-accordionTab",12),d.Wb(39,"p-tabView"),d.Wb(40,"p-tabPanel",13),d.Wb(41,"p-table",14),d.Nc(42,G,33,4,"ng-template",15),d.Nc(43,q,2,1,"ng-template",16),d.Vb(),d.Vb(),d.Wb(44,"p-tabPanel",17),d.Wb(45,"p-table",14),d.Nc(46,z,33,4,"ng-template",15),d.Nc(47,X,2,1,"ng-template",16),d.Vb(),d.Vb(),d.Wb(48,"p-tabPanel"),d.Nc(49,B,2,0,"ng-template",15),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Nc(50,Y,13,1,"div",18),d.Nc(51,et,88,8,"div",18),d.Vb(),d.Wb(52,"div",19,20),d.Wb(54,"div",21),d.Wb(55,"div",22),d.Wb(56,"div",23),d.Wb(57,"h4",24),d.Pc(58,"Success"),d.Vb(),d.Vb(),d.Wb(59,"div",25),d.Wb(60,"p"),d.Pc(61),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Db(11),d.Jc(d.uc(18,it)),d.rc("inputStyle",d.uc(19,it))("suggestions",e.filteredData)("ngModel",e.companyName),d.Db(26),d.rc("multiple",!0),d.Db(3),d.rc("selected",!0),d.Db(1),d.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",d.uc(20,ct)),d.Db(4),d.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",d.uc(21,ct)),d.Db(5),d.rc("ngIf",!e.isCompanyName),d.Db(1),d.rc("ngIf",e.isCompanyName),d.Db(10),d.Qc(e.successMessage))},directives:[w.a,a.p,a.s,y.h,S.a,S.c,u.b,u.a,m.f,c.p,T.a,m.e,m.d,m.a,c.o,o.f,o.e,a.c,g.a,a.w,a.x,a.t,a.A],pipes:[c.f],styles:[""]}),t})()}];let ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({imports:[[o.g.forChild(at)],o.g]}),t})();var nt=i("Wcfd");let bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({imports:[[c.c,ot,nt.a,T.b,S.b,u.c,v.b,m.g,a.l,a.v]]}),t})()}}]);