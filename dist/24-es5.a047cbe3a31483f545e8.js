!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{akgE:function(e,a,c){"use strict";c.r(a),c.d(a,"UserActivitiesModule",function(){return mt});var n,o=c("SVse"),b=c("s7LF"),r=c("iInd"),l=c("AytR"),d=c("z6cu"),s=c("vkgz"),p=c("JIr8"),u=c("8Y7J"),m=c("IheW"),v=((n=function(){function e(i){t(this,e),this.httpClient=i,this.apiURL=l.b.apiBaseUrl}return i(e,[{key:"getActivity",value:function(){return this.httpClient.get(this.apiURL+"/activity")}},{key:"getCumpanyDetails",value:function(t){var e=localStorage.getItem("auth-token");return this.httpClient.get(this.apiURL+"/opportunity/get-customer?company_name="+t,{headers:{Authorization:e}}).pipe(Object(s.a)(function(t){console.log(t)}),Object(p.a)(this.errorHandler))}},{key:"createActivity",value:function(t,e){var i=localStorage.getItem("auth-token");return console.log("data====> ",e),this.httpClient.post(this.apiURL+"/activity/",{customer_id:t,activities:[{subject:"subject",due_date:e.activityDueDate,description:e.activityDesc,type:e.activityType,status:e.activityStatus,completion_date:e.activityCompletionDate,remark:e.activityRemarks,is_open:"1"}]},{headers:{Authorization:i}}).pipe(Object(s.a)(function(t){console.log(t)}),Object(p.a)(this.errorHandler))}},{key:"errorHandler",value:function(t){var e;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),Object(d.a)(e)}}]),e}()).\u0275fac=function(t){return new(t||n)(u.dc(m.b))},n.\u0275prov=u.Mb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),y=c("T7Ec"),f=c("ZRSf"),g=c("hhfa"),V=c("MY3+"),W=c("gtx6"),h=["confirmationExportExcelModal"],D=["columnChooserModal"];function P(t,e){1&t&&(u.Wb(0,"div",7),u.Wb(1,"span",8),u.Pc(2," Activities Listing "),u.Vb(),u.Wb(3,"div",9),u.Wb(4,"a",10),u.Rb(5,"i",11),u.Vb(),u.Vb(),u.Wb(6,"span",12),u.Rb(7,"i",13),u.Rb(8,"input",14),u.Vb(),u.Wb(9,"div"),u.Rb(10,"img",15),u.Rb(11,"img",16),u.Rb(12,"img",17),u.Vb(),u.Vb())}function R(t,e){if(1&t&&(u.Wb(0,"tr",40),u.Wb(1,"td"),u.Pc(2),u.Vb(),u.Wb(3,"td"),u.Pc(4),u.Vb(),u.Wb(5,"td"),u.Pc(6),u.Vb(),u.Wb(7,"td"),u.Pc(8),u.lc(9,"date"),u.Vb(),u.Wb(10,"td"),u.Pc(11),u.lc(12,"date"),u.Vb(),u.Wb(13,"td"),u.Rb(14,"a",41),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Db(2),u.Rc(" ",i.description," "),u.Db(2),u.Rc(" ",i.activity_type," "),u.Db(2),u.Rc(" ",i.status," "),u.Db(2),u.Rc(" ",u.nc(9,5,i.due_date,"dd-MMM-yyyy")," "),u.Db(3),u.Rc(" ",u.nc(12,8,i.completion_date,"dd-MMM-yyyy")," ")}}var C=function(){return{width:"5%"}};function M(t,e){if(1&t&&(u.Wb(0,"tr"),u.Wb(1,"th",18),u.Wb(2,"div",19),u.Pc(3," Description "),u.Wb(4,"div",20),u.Rb(5,"p-sortIcon",21),u.Rb(6,"p-columnFilter",22),u.Vb(),u.Vb(),u.Vb(),u.Wb(7,"th",23),u.Wb(8,"div",19),u.Pc(9," Type "),u.Wb(10,"div",24),u.Rb(11,"p-sortIcon",25),u.Rb(12,"p-columnFilter",26),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"th",27),u.Wb(14,"div",19),u.Pc(15," Status "),u.Wb(16,"div",28),u.Rb(17,"p-sortIcon",29),u.Rb(18,"p-columnFilter",30),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"th",31),u.Wb(20,"div",19),u.Pc(21," Due Date "),u.Wb(22,"div",32),u.Rb(23,"p-sortIcon",33),u.Rb(24,"p-columnFilter",34),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"th",35),u.Wb(26,"div",19),u.Pc(27," Completion Date "),u.Wb(28,"div",36),u.Rb(29,"p-sortIcon",37),u.Rb(30,"p-columnFilter",38),u.Vb(),u.Vb(),u.Vb(),u.Rb(31,"th"),u.Vb(),u.Nc(32,R,15,11,"tr",39)),2&t){var i=u.kc();u.Db(31),u.Jc(u.uc(3,C)),u.Db(1),u.rc("ngForOf",i.openData)}}function x(t,e){if(1&t&&(u.Wb(0,"td",43),u.Pc(1," No records found "),u.Vb()),2&t){var i=u.kc().$implicit;u.Eb("colspan",i.length)}}function k(t,e){if(1&t&&(u.Wb(0,"tr"),u.Nc(1,x,2,1,"td",42),u.Vb()),2&t){var i=e.$implicit;u.Db(1),u.rc("ngIf",i)}}function I(t,e){1&t&&(u.Wb(0,"div",7),u.Wb(1,"span",8),u.Pc(2," Activities Listing "),u.Vb(),u.Wb(3,"div",9),u.Wb(4,"a",10),u.Rb(5,"i",11),u.Vb(),u.Vb(),u.Wb(6,"span",12),u.Rb(7,"i",13),u.Rb(8,"input",14),u.Vb(),u.Wb(9,"div"),u.Rb(10,"img",15),u.Rb(11,"img",16),u.Rb(12,"img",17),u.Vb(),u.Vb())}function A(t,e){if(1&t&&(u.Wb(0,"tr",40),u.Wb(1,"td"),u.Pc(2),u.Vb(),u.Wb(3,"td"),u.Pc(4),u.Vb(),u.Wb(5,"td"),u.Pc(6),u.Vb(),u.Wb(7,"td"),u.Pc(8),u.lc(9,"date"),u.Vb(),u.Wb(10,"td"),u.Pc(11),u.lc(12,"date"),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Db(2),u.Rc(" ",i.description," "),u.Db(2),u.Rc(" ",i.activity_type," "),u.Db(2),u.Rc(" ",i.status," "),u.Db(2),u.Rc(" ",u.nc(9,5,i.due_date,"dd-MMM-yyyy")," "),u.Db(3),u.Rc(" ",u.nc(12,8,i.completion_date,"dd-MMM-yyyy"),"\n")}}function O(t,e){if(1&t&&(u.Wb(0,"tr"),u.Wb(1,"th",18),u.Wb(2,"div",19),u.Pc(3," Description "),u.Wb(4,"div",20),u.Rb(5,"p-sortIcon",21),u.Rb(6,"p-columnFilter",22),u.Vb(),u.Vb(),u.Vb(),u.Wb(7,"th",23),u.Wb(8,"div",19),u.Pc(9," Type "),u.Wb(10,"div",24),u.Rb(11,"p-sortIcon",25),u.Rb(12,"p-columnFilter",26),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"th",27),u.Wb(14,"div",19),u.Pc(15," Status "),u.Wb(16,"div",28),u.Rb(17,"p-sortIcon",29),u.Rb(18,"p-columnFilter",30),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"th",31),u.Wb(20,"div",19),u.Pc(21," Due Date "),u.Wb(22,"div",32),u.Rb(23,"p-sortIcon",33),u.Rb(24,"p-columnFilter",34),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"th",35),u.Wb(26,"div",19),u.Pc(27," Completion Date "),u.Wb(28,"div",36),u.Rb(29,"p-sortIcon",37),u.Rb(30,"p-columnFilter",38),u.Vb(),u.Vb(),u.Vb(),u.Rb(31,"th"),u.Vb(),u.Nc(32,A,13,11,"tr",39)),2&t){var i=u.kc();u.Db(31),u.Jc(u.uc(3,C)),u.Db(1),u.rc("ngForOf",i.closedData)}}function _(t,e){if(1&t&&(u.Wb(0,"td",43),u.Pc(1," No records found "),u.Vb()),2&t){var i=u.kc().$implicit;u.Eb("colspan",i.length)}}function F(t,e){if(1&t&&(u.Wb(0,"tr"),u.Nc(1,_,2,1,"td",42),u.Vb()),2&t){var i=e.$implicit;u.Db(1),u.rc("ngIf",i)}}var N,w=function(){return["quote_id","company","amount","status"]},S=function(){return{showAll:"All"}},T=function(t){return[10,25,50,t]},E=((N=function(){function e(i){t(this,e),this.userAactivities=i,this.pageItems=200,this.search_text="",this.activitydata=[]}return i(e,[{key:"ngOnInit",value:function(){this.getActivitydata()}},{key:"getActivitydata",value:function(){var t=this;this.loading=!0,this.userAactivities.getActivity().subscribe(function(e){t.activitydata=e.data,t.closedData=t.activitydata.filter(function(t){return"CLOSED"==t.status}),console.log("this is res",t.closedData),t.openData=t.activitydata.filter(function(t){return"CLOSED"!=t.status}),console.log("this is res",t.openData),t.loading=!1})}}]),e}()).\u0275fac=function(t){return new(t||N)(u.Qb(v))},N.\u0275cmp=u.Kb({type:N,selectors:[["app-user-activities"]],viewQuery:function(t,e){var i;1&t&&(u.Uc(h,1),u.Uc(D,1)),2&t&&(u.Cc(i=u.hc())&&(e.confirmationExportExcelModal=i.first),u.Cc(i=u.hc())&&(e.columnChooserModal=i.first))},decls:12,vars:18,consts:[["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"loading","rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],[3,"rows","rowsPerPageOptions"],[1,"table-header",2,"margin","0px 41px 0px 37px"],[1,"p-input-icon-left"],[1,"ml-2","mt-1"],["routerLink","create","routerLinkActive","router-link-active"],[1,"icon-plus","icons",2,"color","#ffffff"],[1,"p-input-icon-left",2,"margin","0px 0px 0px 375px"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search"],["src","../../../../assets/img/icons/Vector (2).svg",2,"width","25px"],["src","../../../../assets/img/icons/Vector (1).svg",2,"width","25px"],["src","../../../../assets/img/icons/vertcalLines.svg",2,"width","25px"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLink","create",1,"fa","fa-edit",2,"cursor","pointer"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center"]],template:function(t,e){1&t&&(u.Wb(0,"p-tabView"),u.Wb(1,"p-tabPanel",0),u.Wb(2,"p-table",1),u.Nc(3,P,13,0,"ng-template",2),u.Nc(4,M,33,4,"ng-template",3),u.Nc(5,k,2,1,"ng-template",4),u.Vb(),u.Vb(),u.Wb(6,"p-tabPanel",5),u.Wb(7,"p-table",1),u.Nc(8,I,13,0,"ng-template",2),u.Nc(9,O,33,4,"ng-template",3),u.Nc(10,F,2,1,"ng-template",4),u.Vb(),u.Vb(),u.Vb(),u.Rb(11,"p-paginator",6)),2&t&&(u.Db(1),u.rc("selected",!0),u.Db(1),u.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",u.uc(13,w)),u.Db(5),u.rc("loading",e.loading)("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",u.uc(14,w)),u.Db(4),u.rc("rows",e.pageItems)("rowsPerPageOptions",u.vc(16,T,u.uc(15,S))))},directives:[y.b,y.a,f.f,g.h,V.a,r.f,r.e,W.a,f.e,f.d,f.a,o.o,o.p],pipes:[o.f],styles:["[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem;background-color:#898485;color:#fff}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}[_nghost-%COMP%]     .p-datatable{min-height:500px!important}"]}),N),L=c("QGev"),U=c("KnEf"),j=c("LqlI"),H=["createActivity"],$=["columnChooserModal"],G=["successModal"];function J(t,e){if(1&t&&(u.Wb(0,"div",26),u.Wb(1,"div"),u.Pc(2),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Db(2),u.Rc(" ",i.company_name," ")}}function q(t,e){if(1&t){var i=u.Xb();u.Wb(0,"tr",49),u.Wb(1,"td"),u.Pc(2),u.Vb(),u.Wb(3,"td"),u.Pc(4),u.Vb(),u.Wb(5,"td"),u.Pc(6),u.Vb(),u.Wb(7,"td"),u.Pc(8),u.lc(9,"date"),u.Vb(),u.Wb(10,"td"),u.Pc(11),u.lc(12,"date"),u.Vb(),u.Wb(13,"td"),u.Wb(14,"a",50),u.gc("click",function(){return u.Fc(i),u.kc(2).createActivity.show()}),u.Vb(),u.Vb(),u.Vb()}if(2&t){var a=e.$implicit;u.Db(2),u.Rc(" ",a.description," "),u.Db(2),u.Rc(" ",a.activity_type," "),u.Db(2),u.Rc(" ",a.status," "),u.Db(2),u.Rc(" ",u.nc(9,5,a.due_date,"dd-MMM-yyyy")," "),u.Db(3),u.Rc(" ",u.nc(12,8,a.completion_date,"dd-MMM-yyyy")," ")}}var Q=function(){return{width:"5%"}};function z(t,e){if(1&t&&(u.Wb(0,"tr"),u.Wb(1,"th",27),u.Wb(2,"div",28),u.Pc(3," Description "),u.Wb(4,"div",29),u.Rb(5,"p-sortIcon",30),u.Rb(6,"p-columnFilter",31),u.Vb(),u.Vb(),u.Vb(),u.Wb(7,"th",32),u.Wb(8,"div",28),u.Pc(9," Type "),u.Wb(10,"div",33),u.Rb(11,"p-sortIcon",34),u.Rb(12,"p-columnFilter",35),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"th",36),u.Wb(14,"div",28),u.Pc(15," Status "),u.Wb(16,"div",37),u.Rb(17,"p-sortIcon",38),u.Rb(18,"p-columnFilter",39),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"th",40),u.Wb(20,"div",28),u.Pc(21," Due Date "),u.Wb(22,"div",41),u.Rb(23,"p-sortIcon",42),u.Rb(24,"p-columnFilter",43),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"th",44),u.Wb(26,"div",28),u.Pc(27," Completion Date "),u.Wb(28,"div",45),u.Rb(29,"p-sortIcon",46),u.Rb(30,"p-columnFilter",47),u.Vb(),u.Vb(),u.Vb(),u.Rb(31,"th"),u.Vb(),u.Nc(32,q,15,11,"tr",48)),2&t){var i=u.kc();u.Db(31),u.Jc(u.uc(3,Q)),u.Db(1),u.rc("ngForOf",i.openData)}}function K(t,e){if(1&t&&(u.Wb(0,"td",52),u.Pc(1," No records found "),u.Vb()),2&t){var i=u.kc().$implicit;u.Eb("colspan",i.length)}}function X(t,e){if(1&t&&(u.Wb(0,"tr"),u.Nc(1,K,2,1,"td",51),u.Vb()),2&t){var i=e.$implicit;u.Db(1),u.rc("ngIf",i)}}function B(t,e){if(1&t&&(u.Wb(0,"tr",49),u.Wb(1,"td"),u.Pc(2),u.Vb(),u.Wb(3,"td"),u.Pc(4),u.Vb(),u.Wb(5,"td"),u.Pc(6),u.Vb(),u.Wb(7,"td"),u.Pc(8),u.lc(9,"date"),u.Vb(),u.Wb(10,"td"),u.Pc(11),u.lc(12,"date"),u.Vb(),u.Vb()),2&t){var i=e.$implicit;u.Db(2),u.Rc(" ",i.description," "),u.Db(2),u.Rc(" ",i.activity_type," "),u.Db(2),u.Rc(" ",i.status," "),u.Db(2),u.Rc(" ",u.nc(9,5,i.due_date,"dd-MMM-yyyy")," "),u.Db(3),u.Rc(" ",u.nc(12,8,i.completion_date,"dd-MMM-yyyy")," ")}}function Y(t,e){if(1&t&&(u.Wb(0,"tr"),u.Wb(1,"th",27),u.Wb(2,"div",28),u.Pc(3," Description "),u.Wb(4,"div",29),u.Rb(5,"p-sortIcon",30),u.Rb(6,"p-columnFilter",31),u.Vb(),u.Vb(),u.Vb(),u.Wb(7,"th",32),u.Wb(8,"div",28),u.Pc(9," Type "),u.Wb(10,"div",33),u.Rb(11,"p-sortIcon",34),u.Rb(12,"p-columnFilter",35),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"th",36),u.Wb(14,"div",28),u.Pc(15," Status "),u.Wb(16,"div",37),u.Rb(17,"p-sortIcon",38),u.Rb(18,"p-columnFilter",39),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"th",40),u.Wb(20,"div",28),u.Pc(21," Due Date "),u.Wb(22,"div",41),u.Rb(23,"p-sortIcon",42),u.Rb(24,"p-columnFilter",43),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"th",44),u.Wb(26,"div",28),u.Pc(27," Completion Date "),u.Wb(28,"div",45),u.Rb(29,"p-sortIcon",46),u.Rb(30,"p-columnFilter",47),u.Vb(),u.Vb(),u.Vb(),u.Rb(31,"th"),u.Vb(),u.Nc(32,B,13,11,"tr",48)),2&t){var i=u.kc();u.Db(31),u.Jc(u.uc(3,Q)),u.Db(1),u.rc("ngForOf",i.closedData)}}function Z(t,e){if(1&t&&(u.Wb(0,"td",52),u.Pc(1," No records found "),u.Vb()),2&t){var i=u.kc().$implicit;u.Eb("colspan",i.length)}}function tt(t,e){if(1&t&&(u.Wb(0,"tr"),u.Nc(1,Z,2,1,"td",51),u.Vb()),2&t){var i=e.$implicit;u.Db(1),u.rc("ngIf",i)}}function et(t,e){if(1&t){var i=u.Xb();u.Wb(0,"a",53),u.gc("click",function(){return u.Fc(i),u.kc().createActivity.show()}),u.Rb(1,"i",54),u.Vb()}}function it(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",55,56),u.Wb(2,"div",57),u.Wb(3,"div",22),u.Wb(4,"div",23),u.Wb(5,"h4",24),u.Pc(6,"Warning"),u.Vb(),u.Vb(),u.Wb(7,"div",25),u.Wb(8,"p"),u.Pc(9),u.Vb(),u.Vb(),u.Wb(10,"div",58),u.Wb(11,"button",59),u.gc("click",function(){return u.Fc(i),u.Dc(1).hide()}),u.Pc(12," Close "),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var a=u.kc();u.Db(9),u.Qc(a.dangerBody)}}function at(t,e){1&t&&u.Rb(0,"input",93)}function ct(t,e){if(1&t){var i=u.Xb();u.Wb(0,"input",94),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc(2).addActivityData.activityType=t}),u.Vb()}if(2&t){var a=u.kc(2);u.rc("ngModel",a.addActivityData.activityType)}}function nt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div",55,56),u.Wb(2,"div",60),u.Wb(3,"div",22),u.Wb(4,"div",23),u.Wb(5,"h4",24),u.Pc(6,"Add Activity"),u.Vb(),u.Wb(7,"button",61),u.gc("click",function(){return u.Fc(i),u.Dc(1).hide()}),u.Wb(8,"span",62),u.Pc(9,"\xd7"),u.Vb(),u.Vb(),u.Vb(),u.Wb(10,"div",63),u.Wb(11,"div",64),u.Wb(12,"h5",65),u.Wb(13,"label"),u.Wb(14,"b"),u.Pc(15,"Add Activity"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(16,"div",66),u.Wb(17,"div",67),u.Wb(18,"div",68),u.Wb(19,"label",69),u.Pc(20," Description"),u.Wb(21,"span",70),u.Pc(22," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(23,"div",71),u.Wb(24,"input",72),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityDesc=t}),u.Vb(),u.Vb(),u.Vb(),u.Wb(25,"div",67),u.Wb(26,"div",68),u.Wb(27,"label",69),u.Pc(28," Due Date"),u.Wb(29,"span",70),u.Pc(30," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(31,"div",71),u.Wb(32,"input",73),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityDueDate=t}),u.Vb(),u.Vb(),u.Vb(),u.Wb(33,"div",67),u.Wb(34,"div",68),u.Wb(35,"label",69),u.Pc(36," Completion Date"),u.Wb(37,"span",70),u.Pc(38," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(39,"div",74),u.Wb(40,"input",73),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityCompletionDate=t}),u.Vb(),u.Vb(),u.Vb(),u.Wb(41,"div",67),u.Wb(42,"div",68),u.Wb(43,"label",69),u.Pc(44," Status"),u.Wb(45,"span",70),u.Pc(46," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(47,"div",71),u.Wb(48,"select",75),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityStatus=t}),u.Wb(49,"option",76),u.Pc(50,"NEW"),u.Vb(),u.Wb(51,"option",77),u.Pc(52," IN PROGRESS"),u.Vb(),u.Wb(53,"option",78),u.Pc(54," KIV/POSTPONE"),u.Vb(),u.Wb(55,"option",79),u.Pc(56," CLOSED"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(57,"div",67),u.Wb(58,"div",68),u.Wb(59,"label",69),u.Pc(60," Type"),u.Wb(61,"span",70),u.Pc(62," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(63,"div",80),u.Wb(64,"select",81),u.gc("change",function(t){return u.Fc(i),u.kc().activityTypeGet(t)})("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityType=t}),u.Wb(65,"option",82),u.Pc(66,"MEETING"),u.Vb(),u.Wb(67,"option",83),u.Pc(68,"CONTACT"),u.Vb(),u.Wb(69,"option",84),u.Pc(70,"FOLLOW UP"),u.Vb(),u.Wb(71,"option",85),u.Pc(72," OTHERS "),u.Vb(),u.Vb(),u.Nc(73,at,1,0,"input",86),u.Nc(74,ct,1,1,"input",87),u.Vb(),u.Vb(),u.Wb(75,"div",67),u.Wb(76,"div",68),u.Wb(77,"label",69),u.Pc(78," Remarks"),u.Wb(79,"span",70),u.Pc(80," * "),u.Vb(),u.Vb(),u.Vb(),u.Wb(81,"div",88),u.Wb(82,"input",89),u.gc("ngModelChange",function(t){return u.Fc(i),u.kc().addActivityData.activityRemarks=t}),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(83,"div",90),u.Wb(84,"button",91),u.gc("click",function(){return u.Fc(i),u.Dc(1).hide()}),u.Pc(85," CANCEL "),u.Vb(),u.Wb(86,"button",92),u.gc("click",function(){return u.Fc(i),u.Dc(1).hide()})("click",function(t){return u.Fc(i),u.kc().saveActivity(t)}),u.Pc(87," SAVE "),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var a=u.kc();u.Db(24),u.rc("ngModel",a.addActivityData.activityDesc),u.Db(8),u.rc("ngModel",a.addActivityData.activityDueDate),u.Db(8),u.rc("ngModel",a.addActivityData.activityCompletionDate),u.Db(8),u.rc("ngModel",a.addActivityData.activityStatus),u.Db(16),u.rc("ngModel",a.addActivityData.activityType),u.Db(9),u.rc("ngIf",!a.isTypeOthers),u.Db(1),u.rc("ngIf",a.isTypeOthers),u.Db(8),u.rc("ngModel",a.addActivityData.activityRemarks)}}var ot,bt,rt,lt=function(){return{width:"100%"}},dt=function(){return["quote_id","company","amount","status"]},st=[{path:"activities",redirectTo:"/activities",pathMatch:"full"},{path:"",component:E},{path:"create",component:(ot=function(){function e(i,a){t(this,e),this.userAactivities=i,this.router=a,this.pageItems=200,this.activitydata=[],this.isCompanyName=!1,this.dangerBody="Company Name is Required...!",this.isTypeOthers=!1,this.addActivityData={activityDesc:"",activityDueDate:"",activityCompletionDate:"",activityStatus:"NEW",activityType:"MEETING",activityTypeOther:"",activityRemarks:""}}return i(e,[{key:"ngOnInit",value:function(){this.getActivitydata(),this.isCompanyName=!1}},{key:"getActivitydata",value:function(){var t=this;this.loading=!0,this.userAactivities.getActivity().subscribe(function(e){var i;t.activitydata=e.data,t.customer_id=null===(i=null==e?void 0:e.data[0])||void 0===i?void 0:i.customer_id,t.closedData=t.activitydata.filter(function(t){return"CLOSED"==t.status}),t.openData=t.activitydata.filter(function(t){return"CLOSED"!=t.status}),t.loading=!1})}},{key:"searchName",value:function(t){var e=this;this.userAactivities.getCumpanyDetails(t.query).subscribe(function(t){t.success&&(0==t.data.length?setTimeout(function(){e.filteredData=""},2e3):e.filteredData=t.data)})}},{key:"onSelect",value:function(t){t&&(this.companyId=t.id,this.companyName=t.company_name,this.isCompanyName=!0)}},{key:"activityTypeGet",value:function(t){this.isTypeOthers="others"==t.target.value}},{key:"saveActivity",value:function(t){var e=this;this.userAactivities.createActivity(this.customer_id,this.addActivityData).subscribe(function(t){e.successMessage="Data added Successfully...!!",e.successModal.show(),setTimeout(function(){t&&e.router.navigateByUrl("/activities",{replaceUrl:!0})},1e3)})}}]),e}(),ot.\u0275fac=function(t){return new(t||ot)(u.Qb(v),u.Qb(r.c))},ot.\u0275cmp=u.Kb({type:ot,selectors:[["app-create-activity"]],viewQuery:function(t,e){var i;1&t&&(u.Uc(H,1),u.Uc($,1),u.Uc(G,1)),2&t&&(u.Cc(i=u.hc())&&(e.createActivity=i.first),u.Cc(i=u.hc())&&(e.columnChooserModal=i.first),u.Cc(i=u.hc())&&(e.successModal=i.first))},decls:62,vars:22,consts:[[1,"card-header","row",2,"background-color","#898485","color","white"],[2,"padding-left","20px"],[2,"overflow-y","hidden"],[1,"col-md-6"],[2,"color","black"],[1,"p-input-icon-right",2,"width","100%","margin-bottom","10px"],["placeholder","Select Company Name...",1,"search_field",3,"inputStyle","suggestions","ngModel","completeMethod","onSelect","ngModelChange"],["pTemplate","item"],[1,"pi","pi-search"],[1,"table","table-hover","table-striped"],[2,"background","lightgray","color","black"],["styleClass","customColor","activeIndex","0",3,"multiple"],["header","Activities","activeIndex","0"],["header","Open",3,"selected"],["styleClass","p-datatable-customers","responsiveLayout","scroll",1,"table","table-hover","table-striped",3,"rowHover","reorderableColumns","filterDelay","globalFilterFields"],["pTemplate","header"],["pTemplate","emptymessage"],["header","Close"],["bsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",4,"ngIf"],["id","success","bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"item"],["pSortableColumn","created_date",1,"text-center"],[1,"p-d-flex","p-jc-between","p-ai-center",2,"display","flex","white-space","nowrap","flex-direction","column","align-items","center"],[1,"date-icons"],["field","created_date"],["type","date","field","created_date","display","menu",1,"p-ml-auto"],["pSortableColumn","op_id",1,"text-center"],[1,"Opp-ID-icon"],["field","op_id"],["type","text","field","op_id","display","menu",1,"p-ml-auto"],["pSortableColumn","topic",1,"text-center"],[1,"topic-icons"],["field","topic"],["type","text","field","topic","display","menu",1,"p-ml-auto"],["pSortableColumn","company_name",1,"text-center"],[1,"company-name-icons"],["field","company_name"],["type","text","field","company_name","display","menu",1,"p-ml-auto"],["pSortableColumn","status_id",1,"text-center"],[1,"status-icons"],["field","status_id"],["type","text","field","status_id","display","menu",1,"p-ml-auto"],["align","center",4,"ngFor","ngForOf"],["align","center"],["routerLinkActive","router-link-active",1,"fa","fa-edit",3,"routerLink","click"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"icon-plus","icons"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["createActivity","bs-modal"],["role","document",1,"modal-dialog","modal-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["role","document",1,"modal-dialog","modal-lg"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"display","flex","flex-direction","column","align-items","center"],[1,"row","mb-2"],[1,"col-12"],[1,"col-6"],[1,"row"],[1,"col-3","mt-2"],["for","description",2,"display","flex"],[1,"asterisk"],[1,"col-9",2,"margin-bottom","19px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","description","name","title","type","date","pInputText","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-9"],["aria-label","Default select example",1,"form-control",3,"ngModel","ngModelChange"],["value","NEW"],["value","IN PROGRESS"],["value","KIV/POSTPONE"],["value","CLOSED"],[1,"col-9",2,"margin-bottom","19px","display","flex"],["aria-label","Default select example",1,"form-control",3,"ngModel","change","ngModelChange"],["value","MEETING"],["value","CONTACT"],["value","FOLLOW UP"],["value","OTHERS"],["style"," margin-left: 9px","placeholder","OTHERS","readonly","","type","text","class","form-control",4,"ngIf"],["style"," margin-left: 9px","type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-9",2,"margin-bottom","21px"],["id","description","name","title","type","text","pInputText","","required","",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin","0px 0px 0px 104px"],["type","reset",1,"btn","btn-light","mr-2","px-4",3,"click"],["type","submit",1,"btn","btn-primary","px-5",3,"click"],["placeholder","OTHERS","readonly","","type","text",1,"form-control",2,"margin-left","9px"],["type","text",1,"form-control",2,"margin-left","9px",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"h2"),u.Pc(3,"Create Activity"),u.Vb(),u.Vb(),u.Vb(),u.Wb(4,"div",2),u.Wb(5,"div"),u.Wb(6,"div",3),u.Wb(7,"label",4),u.Wb(8,"b"),u.Pc(9,"Customer Name"),u.Vb(),u.Vb(),u.Wb(10,"span",5),u.Wb(11,"p-autoComplete",6),u.gc("completeMethod",function(t){return e.searchName(t)})("onSelect",function(t){return e.onSelect(t)})("ngModelChange",function(t){return e.companyName=t}),u.Nc(12,J,3,1,"ng-template",7),u.Vb(),u.Rb(13,"i",8),u.Vb(),u.Vb(),u.Wb(14,"table",9),u.Wb(15,"thead",10),u.Wb(16,"tr"),u.Wb(17,"th"),u.Pc(18,"Created date"),u.Vb(),u.Wb(19,"th"),u.Pc(20,"Primary Contact"),u.Vb(),u.Wb(21,"th"),u.Pc(22,"Other Contacts"),u.Vb(),u.Wb(23,"th"),u.Pc(24,"Owner"),u.Vb(),u.Rb(25,"th"),u.Vb(),u.Vb(),u.Wb(26,"tbody"),u.Wb(27,"tr"),u.Wb(28,"td"),u.Pc(29,"11-DEC-2021"),u.Vb(),u.Wb(30,"td"),u.Pc(31,"+6298754422"),u.Vb(),u.Wb(32,"td"),u.Pc(33,"+889283232"),u.Vb(),u.Wb(34,"td"),u.Pc(35,"Lee"),u.Vb(),u.Rb(36,"td"),u.Vb(),u.Vb(),u.Vb(),u.Wb(37,"p-accordion",11),u.Wb(38,"p-accordionTab",12),u.Wb(39,"p-tabView"),u.Wb(40,"p-tabPanel",13),u.Wb(41,"p-table",14),u.Nc(42,z,33,4,"ng-template",15),u.Nc(43,X,2,1,"ng-template",16),u.Vb(),u.Vb(),u.Wb(44,"p-tabPanel",17),u.Wb(45,"p-table",14),u.Nc(46,Y,33,4,"ng-template",15),u.Nc(47,tt,2,1,"ng-template",16),u.Vb(),u.Vb(),u.Wb(48,"p-tabPanel"),u.Nc(49,et,2,0,"ng-template",15),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Nc(50,it,13,1,"div",18),u.Nc(51,nt,88,8,"div",18),u.Vb(),u.Wb(52,"div",19,20),u.Wb(54,"div",21),u.Wb(55,"div",22),u.Wb(56,"div",23),u.Wb(57,"h4",24),u.Pc(58,"Success"),u.Vb(),u.Vb(),u.Wb(59,"div",25),u.Wb(60,"p"),u.Pc(61),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Db(11),u.Jc(u.uc(18,lt)),u.rc("inputStyle",u.uc(19,lt))("suggestions",e.filteredData)("ngModel",e.companyName),u.Db(26),u.rc("multiple",!0),u.Db(3),u.rc("selected",!0),u.Db(1),u.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",u.uc(20,dt)),u.Db(4),u.rc("rowHover",!0)("reorderableColumns",!0)("filterDelay",0)("globalFilterFields",u.uc(21,dt)),u.Db(5),u.rc("ngIf",!e.isCompanyName),u.Db(1),u.rc("ngIf",e.isCompanyName),u.Db(10),u.Qc(e.successMessage))},directives:[L.a,b.p,b.s,g.h,U.a,U.c,y.b,y.a,f.f,o.p,j.a,f.e,f.d,f.a,o.o,r.f,r.e,b.c,W.a,b.w,b.x,b.t,b.A],pipes:[o.f],styles:[""]}),ot)}],pt=((bt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||bt)},bt.\u0275mod=u.Ob({type:bt}),bt.\u0275inj=u.Nb({imports:[[r.g.forChild(st)],r.g]}),bt),ut=c("Wcfd"),mt=((rt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||rt)},rt.\u0275mod=u.Ob({type:rt}),rt.\u0275inj=u.Nb({imports:[[o.c,pt,ut.a,j.b,U.b,y.c,V.b,f.g,b.l,b.v]]}),rt)}}])}();